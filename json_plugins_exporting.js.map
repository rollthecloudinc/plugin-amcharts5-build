{"version":3,"file":"json_plugins_exporting.js","mappings":"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","sources":["./node_modules/@amcharts/amcharts5/.internal/plugins/exporting/Annotator.js","./node_modules/@amcharts/amcharts5/.internal/plugins/exporting/Exporting.js","./node_modules/@amcharts/amcharts5/.internal/plugins/exporting/ExportingCSS.js","./node_modules/@amcharts/amcharts5/.internal/plugins/exporting/ExportingMenu.js","./node_modules/@amcharts/amcharts5/plugins/exporting.js"],"sourcesContent":["import { __awaiter } from \"tslib\";\r\nimport { Entity } from \"../../core/util/Entity\";\r\nimport { Container } from \"../../core/render/Container\";\r\nimport { Picture } from \"../../core/render/Picture\";\r\nimport * as $utils from \"../../core/util/Utils\";\r\nimport { p100 } from \"../../core/util/Percent\";\r\n/**\r\n * A plugin that can be used to annotate charts.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/exporting/annotator/} for more info\r\n */\r\nexport class Annotator extends Entity {\r\n    constructor() {\r\n        super(...arguments);\r\n        Object.defineProperty(this, \"_container\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_picture\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_markerArea\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_skipRender\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n    }\r\n    //public extraImages: Array<Root | IAnnotatorImageSource> = [];\r\n    //public dataSources: any[] = [];\r\n    _afterNew() {\r\n        super._afterNew();\r\n        this._setRawDefault(\"layer\", 1000);\r\n        this._root.addDisposer(this);\r\n    }\r\n    _beforeChanged() {\r\n        super._beforeChanged();\r\n        if (this.isDirty(\"markerState\")) {\r\n            this._renderState();\r\n        }\r\n    }\r\n    /**\r\n     * Triggers annotation mode on the chart. This will display UI toolbars and\r\n     * disable all interactions on the chart itself.\r\n     */\r\n    open() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            // Delay this so that it's not knocked off by closing of the ExportingMenu\r\n            this.setTimeout(() => {\r\n                this._root._renderer.interactionsEnabled = false;\r\n            }, 100);\r\n            const markerArea = yield this.getMarkerArea();\r\n            markerArea.show();\r\n            this._picture.hide(0);\r\n            if (this.get(\"markerState\")) {\r\n                markerArea.restoreState(this.get(\"markerState\"));\r\n            }\r\n        });\r\n    }\r\n    _renderState() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const markerArea = yield this.getMarkerArea();\r\n            if (this.get(\"markerState\")) {\r\n                this._skipRender = true;\r\n                markerArea.renderState(this.get(\"markerState\"));\r\n            }\r\n        });\r\n    }\r\n    /**\r\n     * Exists from annotation mode. All annotations remain visible on the chart.\r\n     */\r\n    close() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            //this._root._renderer.interactionsEnabled = true;\r\n            const markerArea = yield this.getMarkerArea();\r\n            markerArea.close();\r\n        });\r\n    }\r\n    /**\r\n     * Exits from annotation mode. Any changes made during last session of the\r\n     * annotation editing are cancelled.\r\n     */\r\n    cancel() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            this._root._renderer.interactionsEnabled = true;\r\n            const markerArea = yield this.getMarkerArea();\r\n            this._picture.show(0);\r\n            markerArea.cancel();\r\n        });\r\n    }\r\n    /**\r\n     * All annotations are removed.\r\n     */\r\n    clear() {\r\n        this.set(\"markerState\", undefined);\r\n        if (this._picture) {\r\n            this._picture.set(\"src\", \"\");\r\n        }\r\n    }\r\n    toggle() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const markerArea = yield this.getMarkerArea();\r\n            if (markerArea.isOpen) {\r\n                this.close();\r\n            }\r\n            else {\r\n                this.open();\r\n            }\r\n        });\r\n    }\r\n    dispose() {\r\n        super.dispose();\r\n        if (this._markerArea && this._markerArea.isOpen) {\r\n            this._markerArea.close();\r\n        }\r\n    }\r\n    _maybeInit() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            // Create layer canvas\r\n            if (!this._container) {\r\n                this._container = this._root.container.children.push(Container.new(this._root, {\r\n                    width: p100,\r\n                    height: p100,\r\n                    layer: this.get(\"layer\"),\r\n                    interactiveChildren: false\r\n                }));\r\n                this._picture = this._container.children.push(Picture.new(this._root, {\r\n                    width: p100,\r\n                    height: p100\r\n                }));\r\n            }\r\n            // Create MarkerArea\r\n            if (!this._markerArea) {\r\n                const markerjs2 = yield this._getMarkerJS();\r\n                const canvas = this._container._display.getCanvas();\r\n                const markerArea = new markerjs2.MarkerArea(canvas);\r\n                //markerArea.renderTarget = canvas;\r\n                markerArea.uiStyleSettings.logoPosition = \"right\";\r\n                markerArea.uiStyleSettings.zIndex = 20;\r\n                markerArea.targetRoot = canvas.parentElement;\r\n                this._disposers.push($utils.addEventListener(markerArea, \"close\", () => {\r\n                    this._root._renderer.interactionsEnabled = true;\r\n                    this._picture.show(0);\r\n                }));\r\n                this._disposers.push($utils.addEventListener(markerArea, \"render\", (event) => {\r\n                    const picture = this._picture;\r\n                    picture.set(\"src\", event.dataUrl);\r\n                    if (!this._skipRender) {\r\n                        this.set(\"markerState\", event.state);\r\n                    }\r\n                    this._skipRender = false;\r\n                }));\r\n                this._markerArea = markerArea;\r\n            }\r\n        });\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    _getMarkerJS() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            return yield import(/* webpackChunkName: \"markerjs2\" */ \"markerjs2\");\r\n        });\r\n    }\r\n    /**\r\n     * An instance of MarkerJS's [[MarkerArea]].\r\n     *\r\n     * @see {@link https://markerjs.com/docs/getting-started} for more info\r\n     * @return MarkerArea\r\n     */\r\n    getMarkerArea() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            yield this._maybeInit();\r\n            return this._markerArea;\r\n        });\r\n    }\r\n}\r\nObject.defineProperty(Annotator, \"className\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: \"Annotator\"\r\n});\r\nObject.defineProperty(Annotator, \"classNames\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: Entity.classNames.concat([Annotator.className])\r\n});\r\n","import { __awaiter } from \"tslib\";\r\nimport { Entity } from \"../../core/util/Entity\";\r\nimport { Color } from \"../../core/util/Color\";\r\nimport { Root } from \"../../core/Root\";\r\nimport { StyleRule } from \"../../core/util/Utils\";\r\nimport * as $array from \"../../core/util/Array\";\r\nimport * as $object from \"../../core/util/Object\";\r\nimport * as $type from \"../../core/util/Type\";\r\nimport * as $utils from \"../../core/util/Utils\";\r\n/**\r\n * This is used to cache the pdfmake loading.\r\n *\r\n * @ignore\r\n */\r\nlet pdfmakePromise;\r\n/**\r\n * Loads pdfmake dynamic module\r\n *\r\n * This is an asynchronous function. Check the description of `getImage()`\r\n * for description and example usage.\r\n *\r\n * @ignore\r\n */\r\nfunction _pdfmake() {\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n        let a = yield Promise.all([\r\n            import(/* webpackChunkName: \"pdfmake\" */ \"pdfmake/build/pdfmake.js\"),\r\n            import(/* webpackChunkName: \"pdfmake\" */ \"./pdfmake/vfs_fonts\")\r\n        ]);\r\n        let pdfmake = a[0].default;\r\n        let vfs_fonts = a[1].default;\r\n        const global = window;\r\n        global.pdfMake = global.pdfMake || {};\r\n        global.pdfMake.vfs = vfs_fonts;\r\n        pdfmake.vfs = vfs_fonts;\r\n        return pdfmake;\r\n    });\r\n}\r\n/**\r\n * A plugin that can be used to export chart snapshots and data.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/exporting/} for more info\r\n */\r\nexport class Exporting extends Entity {\r\n    //public extraImages: Array<Root | IExportingImageSource> = [];\r\n    //public dataSources: any[] = [];\r\n    _afterNew() {\r\n        super._afterNew();\r\n        this._setRawDefault(\"filePrefix\", \"chart\");\r\n        this._setRawDefault(\"charset\", \"utf-8\");\r\n        this._setRawDefault(\"numericFields\", []);\r\n        this._setRawDefault(\"dateFields\", []);\r\n        this._setRawDefault(\"durationFields\", []);\r\n        this._setRawDefault(\"extraImages\", []);\r\n        this._setRawDefault(\"pngOptions\", { quality: 1, maintainPixelRatio: false });\r\n        this._setRawDefault(\"jpgOptions\", { quality: 0.8, maintainPixelRatio: false });\r\n        this._setRawDefault(\"printOptions\", { quality: 1, maintainPixelRatio: false, delay: 500, printMethod: \"iframe\", imageFormat: \"png\" });\r\n        this._setRawDefault(\"jsonOptions\", { indent: 2, renameFields: true });\r\n        this._setRawDefault(\"csvOptions\", { separator: \",\", addColumnNames: true, emptyAs: \"\", addBOM: true });\r\n        this._setRawDefault(\"htmlOptions\", { emptyAs: \"-\", addColumnNames: true });\r\n        this._setRawDefault(\"xlsxOptions\", { emptyAs: \"\", addColumnNames: true });\r\n        this._setRawDefault(\"pdfOptions\", { fontSize: 14, imageFormat: \"png\", align: \"left\", addURL: true });\r\n        this._setRawDefault(\"pdfdataOptions\", { emptyAs: \"\", addColumnNames: true });\r\n        this._root.addDisposer(this);\r\n    }\r\n    _beforeChanged() {\r\n        super._beforeChanged();\r\n        if (this.isDirty(\"menu\")) {\r\n            const menu = this.get(\"menu\");\r\n            if (menu) {\r\n                menu.set(\"exporting\", this);\r\n                this._disposers.push(menu);\r\n            }\r\n        }\r\n    }\r\n    _getFormatOptions(format, options) {\r\n        const newOptions = $object.copy(this.get(format + \"Options\", {}));\r\n        if (options) {\r\n            $object.each(options, (key, value) => {\r\n                newOptions[key] = value;\r\n            });\r\n        }\r\n        return newOptions;\r\n    }\r\n    /**\r\n     * Triggers a download of the chart/data in specific format.\r\n     *\r\n     * @param  format         Format\r\n     * @param  customOptions  Format options\r\n     */\r\n    download(format, customOptions) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const ext = format == \"pdfdata\" ? \"pdf\" : format;\r\n            const fileName = this.get(\"filePrefix\", \"chart\") + \".\" + ext;\r\n            const options = this._getFormatOptions(format, customOptions);\r\n            this.events.dispatch(\"downloadstarted\", {\r\n                type: \"downloadstarted\",\r\n                format: format,\r\n                options: options,\r\n                fileName: fileName,\r\n                target: this\r\n            });\r\n            const uri = yield this.export(format, options);\r\n            this.streamFile(uri, fileName, (options && options.addBOM));\r\n        });\r\n    }\r\n    /**\r\n     * Triggers print of the chart.\r\n     *\r\n     * @param  customOptions  Print options\r\n     */\r\n    print(customOptions) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const options = this._getFormatOptions(\"print\", customOptions);\r\n            this.events.dispatch(\"printstarted\", {\r\n                type: \"printstarted\",\r\n                format: \"print\",\r\n                options: options,\r\n                target: this\r\n            });\r\n            const uri = yield this.export(options.imageFormat || \"png\", options);\r\n            this.initiatePrint(uri, options, this.get(\"title\"));\r\n        });\r\n    }\r\n    /**\r\n     * Returns data uri of the chart/data in specific format.\r\n     *\r\n     * @param          format  Format\r\n     * @param   customOptions  Format options\r\n     * @return                 Promise\r\n     */\r\n    export(format, customOptions) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const options = this._getFormatOptions(format, customOptions);\r\n            this.events.dispatch(\"exportstarted\", {\r\n                type: \"exportstarted\",\r\n                format: format,\r\n                options: options,\r\n                target: this\r\n            });\r\n            let promise = \"\";\r\n            switch (format) {\r\n                case \"png\":\r\n                case \"jpg\":\r\n                    this._root._runTickerNow();\r\n                    promise = this.exportImage(format, options);\r\n                    break;\r\n                case \"json\":\r\n                    promise = this.exportJSON(options);\r\n                    break;\r\n                case \"csv\":\r\n                    promise = this.exportCSV(options);\r\n                    break;\r\n                case \"html\":\r\n                    promise = this.exportHTML(options);\r\n                    break;\r\n                case \"xlsx\":\r\n                    promise = this.exportXLSX(options);\r\n                    break;\r\n                case \"pdf\":\r\n                    this._root._runTickerNow();\r\n                    promise = this.exportPDF(options);\r\n                    break;\r\n                case \"pdfdata\":\r\n                    promise = this.exportPDFData(options);\r\n                    break;\r\n            }\r\n            this.events.dispatch(\"exportfinished\", {\r\n                type: \"exportfinished\",\r\n                format: format,\r\n                options: options,\r\n                target: this\r\n            });\r\n            return promise;\r\n        });\r\n    }\r\n    /**\r\n     * ==========================================================================\r\n     * Images\r\n     * ==========================================================================\r\n     */\r\n    /**\r\n     * Returns chart image as a data:uri.\r\n     *\r\n     * @param   format         Image format\r\n     * @param   customOptions  Format options\r\n     * @return                 Promise\r\n     */\r\n    exportImage(format, customOptions) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const options = this._getFormatOptions(format, customOptions);\r\n            const canvas = yield this.getCanvas(options);\r\n            const data = canvas.toDataURL(this.getContentType(format), options.quality || 1);\r\n            this.disposeCanvas(canvas);\r\n            return data;\r\n        });\r\n    }\r\n    /**\r\n     * Returns canvas data.\r\n     *\r\n     * @param   customOptions  Image options\r\n     * @return                 Promise\r\n     */\r\n    exportCanvas(customOptions) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const options = this._getFormatOptions(\"canvas\", customOptions);\r\n            const canvas = yield this.getCanvas(options);\r\n            const data = canvas.toDataURL(this.getContentType(\"canvas\"), options.quality || 1);\r\n            this.disposeCanvas(canvas);\r\n            return data;\r\n        });\r\n    }\r\n    /**\r\n     * Returns a `<canvas>` element with snapshot of the chart.\r\n     *\r\n     * @param   options  Image options\r\n     * @return           Promise\r\n     */\r\n    getCanvas(options) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const mainCanvas = this._root._renderer.getCanvas(this._root._rootContainer._display, options);\r\n            const extraImages = this.get(\"extraImages\", []);\r\n            // Add other canvases\r\n            let middleLeft = 0;\r\n            let middleTop = 0;\r\n            let middleWidth = mainCanvas.width;\r\n            let middleHeight = mainCanvas.height;\r\n            let extraRight = 0;\r\n            let extraBottom = 0;\r\n            const extras = [];\r\n            $array.each(extraImages, (extraRoot) => {\r\n                // Get that extra\r\n                let extra;\r\n                if (extraRoot instanceof Root) {\r\n                    extra = {\r\n                        source: extraRoot,\r\n                        position: \"bottom\"\r\n                    };\r\n                }\r\n                else {\r\n                    extra = extraRoot;\r\n                }\r\n                // Set defaults\r\n                extra.position = extra.position || \"bottom\";\r\n                extra.marginTop = extra.marginTop || 0;\r\n                extra.marginRight = extra.marginRight || 0;\r\n                extra.marginBottom = extra.marginBottom || 0;\r\n                extra.marginLeft = extra.marginLeft || 0;\r\n                const extraCanvas = extra.source._renderer.getCanvas(extra.source._rootContainer._display, options);\r\n                const extraWidth = extraCanvas.width + extra.marginLeft + extra.marginRight;\r\n                const extraHeight = extraCanvas.height + extra.marginTop + extra.marginBottom;\r\n                if (extra.position == \"top\") {\r\n                    middleWidth = extra.crop ? middleHeight : Math.max(middleWidth, extraWidth);\r\n                    middleTop += extraHeight;\r\n                }\r\n                else if (extra.position == \"right\") {\r\n                    middleHeight = extra.crop ? middleHeight : Math.max(middleHeight, extraHeight);\r\n                    extraRight += extraWidth;\r\n                }\r\n                else if (extra.position == \"left\") {\r\n                    middleHeight = extra.crop ? middleHeight : Math.max(middleHeight, extraHeight);\r\n                    middleLeft += extraWidth;\r\n                }\r\n                else if (extra.position === \"bottom\") {\r\n                    middleWidth = extra.crop ? middleHeight : Math.max(middleWidth, extraWidth);\r\n                    extraBottom += extraHeight;\r\n                }\r\n                extras.push({\r\n                    canvas: extraCanvas,\r\n                    position: extra.position,\r\n                    left: extra.marginLeft,\r\n                    top: extra.marginTop,\r\n                    width: extraWidth,\r\n                    height: extraHeight\r\n                });\r\n            });\r\n            const newCanvas = this.getDisposableCanvas();\r\n            newCanvas.width = middleLeft + middleWidth + extraRight;\r\n            newCanvas.height = middleTop + middleHeight + extraBottom;\r\n            const ctx = newCanvas.getContext(\"2d\");\r\n            // Get background\r\n            const background = this.get(\"backgroundColor\", this.findBackgroundColor(this._root.dom));\r\n            const backgroundOpacity = this.get(\"backgroundOpacity\", 1);\r\n            if (background) {\r\n                ctx.fillStyle = background.toCSS(backgroundOpacity);\r\n                ctx.fillRect(0, 0, newCanvas.width, newCanvas.height);\r\n            }\r\n            let left = middleLeft;\r\n            let top = middleTop;\r\n            let right = left + middleWidth;\r\n            let bottom = top + middleHeight;\r\n            // Radiates outwards from center\r\n            $array.each(extras, (extra) => {\r\n                if (extra.position == \"top\") {\r\n                    top -= extra.height;\r\n                    ctx.drawImage(extra.canvas, middleLeft + extra.left, top + extra.top);\r\n                }\r\n                else if (extra.position == \"right\") {\r\n                    ctx.drawImage(extra.canvas, right + extra.left, middleTop + extra.top);\r\n                    right += extra.width;\r\n                }\r\n                else if (extra.position == \"left\") {\r\n                    left -= extra.width;\r\n                    ctx.drawImage(extra.canvas, left + extra.left, middleTop + extra.top);\r\n                }\r\n                else if (extra.position === \"bottom\") {\r\n                    ctx.drawImage(extra.canvas, middleLeft + extra.left, bottom + extra.top);\r\n                    bottom += extra.height;\r\n                }\r\n                //this.disposeCanvas(extra.canvas);\r\n            });\r\n            ctx.drawImage(mainCanvas, middleLeft, middleTop);\r\n            return newCanvas;\r\n        });\r\n    }\r\n    /**\r\n     * ==========================================================================\r\n     * JSON\r\n     * ==========================================================================\r\n     */\r\n    /**\r\n     * Returns a data:uri representation of a JSON file with chart data.\r\n     *\r\n     * @param   customOptions  Format options\r\n     * @return                 Promise\r\n     */\r\n    exportJSON(customOptions) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            return \"data:\" + this.getContentType(\"json\") + \";\" + this.get(\"charset\", \"utf-8\") + \",\" + encodeURIComponent(yield this.getJSON(customOptions));\r\n        });\r\n    }\r\n    /**\r\n     * Returns data in JSON format.\r\n     *\r\n     * @param   customOptions  Format options\r\n     * @return                 Promise\r\n     */\r\n    getJSON(customOptions) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const options = this._getFormatOptions(\"json\", customOptions);\r\n            return JSON.stringify(this.getData(\"json\", customOptions, options.renameFields), (_key, value) => {\r\n                if ($type.isObject(value)) {\r\n                    $object.each(value, (field, item) => {\r\n                        value[field] = this.convertToSpecialFormat(field, item, options);\r\n                    });\r\n                }\r\n                return value;\r\n            }, options.indent);\r\n        });\r\n    }\r\n    /**\r\n     * ==========================================================================\r\n     * CSV\r\n     * ==========================================================================\r\n     */\r\n    /**\r\n     * Returns a data:uri representation of a CSV file with chart data.\r\n     *\r\n     * @param   customOptions  Format options\r\n     * @return                 Promise\r\n     */\r\n    exportCSV(customOptions) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            return \"data:\" + this.getContentType(\"csv\") + \";\" + this.get(\"charset\", \"utf-8\") + \",\" + encodeURIComponent(yield this.getCSV(customOptions));\r\n        });\r\n    }\r\n    /**\r\n     * Returns a CSV with export data.\r\n     *\r\n     * @param   customOptions  CSV options\r\n     * @return                 Promise\r\n     */\r\n    getCSV(customOptions) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const options = this._getFormatOptions(\"csv\", customOptions);\r\n            // Init output\r\n            let csv = \"\";\r\n            // Add rows\r\n            let br = \"\";\r\n            const data = this.getData(\"csv\", options);\r\n            // Data fields\r\n            const dataFields = this.getDataFields(data);\r\n            // Vertical or horizontal (default) layout\r\n            if (options.pivot) {\r\n                // Data fields order\r\n                const dataFieldsOrder = this.get(\"dataFieldsOrder\", []);\r\n                $object.eachOrdered(dataFields, (key, val) => {\r\n                    let dataRow = [];\r\n                    if (options.addColumnNames) {\r\n                        dataRow.push(val);\r\n                    }\r\n                    for (let len = data.length, i = 0; i < len; i++) {\r\n                        let dataValue = data[i][key];\r\n                        dataRow.push(this.convertToSpecialFormat(key, dataValue, options, true));\r\n                    }\r\n                    csv += br + this.getCSVRow(dataRow, options, undefined, true);\r\n                    br = \"\\n\";\r\n                }, (a, b) => {\r\n                    let ai = dataFieldsOrder.indexOf(a);\r\n                    let bi = dataFieldsOrder.indexOf(b);\r\n                    if (ai > bi) {\r\n                        return -1;\r\n                    }\r\n                    else if (ai < bi) {\r\n                        return 1;\r\n                    }\r\n                    return 0;\r\n                });\r\n            }\r\n            else {\r\n                for (let len = data.length, i = 0; i < len; i++) {\r\n                    let row = this.getCSVRow(data[i], options, dataFields);\r\n                    if (options.reverse) {\r\n                        csv = row + br + csv;\r\n                    }\r\n                    else {\r\n                        csv += br + row;\r\n                    }\r\n                    br = \"\\n\";\r\n                }\r\n                // Add column names?\r\n                if (options.addColumnNames) {\r\n                    csv = this.getCSVRow(dataFields, options, undefined, true) + br + csv;\r\n                }\r\n            }\r\n            return csv;\r\n        });\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    getCSVRow(row, options, dataFields, asIs = false) {\r\n        // Init\r\n        let separator = options.separator || \",\";\r\n        let items = [];\r\n        // Data fields\r\n        if (!dataFields) {\r\n            dataFields = {};\r\n            $object.each(row, (key, value) => {\r\n                dataFields[key] = value;\r\n            });\r\n        }\r\n        // Data fields order\r\n        const dataFieldsOrder = this.get(\"dataFieldsOrder\", []);\r\n        // Process each row item\r\n        $object.eachOrdered(dataFields, (key, _name) => {\r\n            // Get value\r\n            let value = this.convertEmptyValue(key, row[key], options);\r\n            // Check if we need to skip\r\n            // This is no longer required because we are iterating via dataFields anyway\r\n            /*if (this.dataFields != null && this.dataFields[key] == null) {\r\n                return;\r\n            }*/\r\n            // Convert dates\r\n            let item = asIs ? value : this.convertToSpecialFormat(key, value, options);\r\n            // Cast and escape doublequotes\r\n            item = \"\" + item;\r\n            item = item.replace(/\"/g, '\"\"');\r\n            // Enclose into double quotes\r\n            if (options.forceQuotes || (item.search(new RegExp(\"\\\"|\\n|\" + separator, \"g\")) >= 0)) {\r\n                item = \"\\\"\" + item + \"\\\"\";\r\n            }\r\n            // Add to item\r\n            items.push(item);\r\n        }, (a, b) => {\r\n            let ai = dataFieldsOrder.indexOf(a);\r\n            let bi = dataFieldsOrder.indexOf(b);\r\n            if (ai > bi) {\r\n                return 1;\r\n            }\r\n            else if (ai < bi) {\r\n                return -1;\r\n            }\r\n            return 0;\r\n        });\r\n        return items.join(separator);\r\n    }\r\n    /**\r\n     * ==========================================================================\r\n     * HTML\r\n     * ==========================================================================\r\n     */\r\n    /**\r\n     * Returns a data:uri representation of an HTML file with chart data.\r\n     *\r\n     * @param   customOptions  Format options\r\n     * @return                 Promise\r\n     */\r\n    exportHTML(customOptions) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            return \"data:\" + this.getContentType(\"html\") + \";\" + this.get(\"charset\", \"utf-8\") + \",\" + encodeURIComponent(yield this.getHTML(customOptions));\r\n        });\r\n    }\r\n    /**\r\n     * Returns an HTML with a table with export data.\r\n     *\r\n     * @param   customOptions  HTML options\r\n     * @return                 Promise\r\n     */\r\n    getHTML(customOptions) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const options = this._getFormatOptions(\"html\", customOptions);\r\n            // Init output\r\n            let html = \"<table>\";\r\n            if (options.tableClass) {\r\n                html = \"<table class=\\\"\" + options.tableClass + \"\\\">\";\r\n            }\r\n            // Get data\r\n            const data = this.getData(\"html\", options);\r\n            const dataFields = this.getDataFields(data);\r\n            // Vertical or horizontal (default) layout\r\n            if (options.pivot) {\r\n                // Data fields order\r\n                const dataFieldsOrder = this.get(\"dataFieldsOrder\", []);\r\n                html += \"\\n<tbody>\";\r\n                $object.eachOrdered(dataFields, (key, val) => {\r\n                    let dataRow = [];\r\n                    if (options.addColumnNames) {\r\n                        dataRow.push(val);\r\n                    }\r\n                    for (let len = data.length, i = 0; i < len; i++) {\r\n                        let dataValue = data[i][key];\r\n                        dataRow.push(this.convertToSpecialFormat(key, dataValue, options, true));\r\n                    }\r\n                    html += \"\\n\" + this.getHTMLRow(dataRow, options, undefined, true);\r\n                }, (a, b) => {\r\n                    let ai = dataFieldsOrder.indexOf(a);\r\n                    let bi = dataFieldsOrder.indexOf(b);\r\n                    if (ai > bi) {\r\n                        return -1;\r\n                    }\r\n                    else if (ai < bi) {\r\n                        return 1;\r\n                    }\r\n                    return 0;\r\n                });\r\n                html += \"\\n</tbody>\";\r\n            }\r\n            else {\r\n                // Add column names?\r\n                if (options.addColumnNames) {\r\n                    html += \"\\n<thead>\\n\" + this.getHTMLRow(dataFields, options, undefined, true, true) + \"\\n</thead>\";\r\n                }\r\n                html += \"\\n<tbody>\";\r\n                for (let len = data.length, i = 0; i < len; i++) {\r\n                    html += \"\\n\" + this.getHTMLRow(data[i], options, dataFields);\r\n                }\r\n                html += \"\\n</tbody>\";\r\n            }\r\n            html += \"\\n</table>\";\r\n            return html;\r\n        });\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    getHTMLRow(row, options, dataFields, asIs = false, headerRow = false) {\r\n        // Init output\r\n        let html = \"\\t<tr>\";\r\n        if (options.rowClass) {\r\n            html = \"\\t<tr class=\\\"\" + options.rowClass + \"\\\">\";\r\n        }\r\n        // Data fields\r\n        if (!dataFields) {\r\n            dataFields = row;\r\n        }\r\n        // Data fields order\r\n        const dataFieldsOrder = this.get(\"dataFieldsOrder\", []);\r\n        // th or dh?\r\n        const tag = headerRow ? \"th\" : \"td\";\r\n        // Process each row item\r\n        let first = true;\r\n        $object.eachOrdered(dataFields, (key, _name) => {\r\n            // Get value\r\n            let value = this.convertEmptyValue(key, row[key], options);\r\n            // Convert dates\r\n            let item = asIs ? value : this.convertToSpecialFormat(key, value, options);\r\n            // Escape HTML entities\r\n            item = \"\" + item;\r\n            item = item.replace(/[\\u00A0-\\u9999<>\\&]/gim, function (i) {\r\n                return \"&#\" + i.charCodeAt(0) + \";\";\r\n            });\r\n            // Which tag to use\r\n            let useTag = tag;\r\n            if (options.pivot && first) {\r\n                useTag = \"th\";\r\n            }\r\n            // Add cell\r\n            if (options.cellClass) {\r\n                html += \"\\n\\t\\t<\" + useTag + \" class=\\\"\" + options.cellClass + \"\\\">\" + item + \"</\" + useTag + \">\";\r\n            }\r\n            else {\r\n                html += \"\\n\\t\\t<\" + useTag + \">\" + item + \"</\" + useTag + \">\";\r\n            }\r\n            first = false;\r\n        }, (a, b) => {\r\n            let ai = dataFieldsOrder.indexOf(a);\r\n            let bi = dataFieldsOrder.indexOf(b);\r\n            if (ai > bi) {\r\n                return 1;\r\n            }\r\n            else if (ai < bi) {\r\n                return -1;\r\n            }\r\n            return 0;\r\n        });\r\n        html += \"\\n\\t</tr>\";\r\n        return html;\r\n    }\r\n    /**\r\n     * ==========================================================================\r\n     * XLSX\r\n     * ==========================================================================\r\n     */\r\n    /**\r\n     * Returns a data:uri representation of an XLSX file with chart data.\r\n     *\r\n     * @param   customOptions  Format options\r\n     * @return                 Promise\r\n     */\r\n    exportXLSX(customOptions) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            return \"data:\" + this.getContentType(\"xlsx\") + \";\" + this.get(\"charset\", \"utf-8\") + \",\" + encodeURIComponent(yield this.getXLSX(customOptions));\r\n        });\r\n    }\r\n    /**\r\n     * Returns a data:uri of XLSX data.\r\n     *\r\n     * @param  customOptions  Format options\r\n     * @return                Promise\r\n     */\r\n    getXLSX(customOptions) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const options = this._getFormatOptions(\"xlsx\", customOptions);\r\n            // Load xlsx\r\n            let XLSX = yield this.getXLSXLib();\r\n            // Create workbook options\r\n            let wbOptions = {\r\n                bookType: \"xlsx\",\r\n                bookSST: false,\r\n                type: \"base64\",\r\n                //dateNF: 'yyyy-mm-dd'\r\n            };\r\n            // Get sheet name\r\n            let sheetName = this._normalizeExcelSheetName(this.get(\"title\", this._t(\"Data\")));\r\n            // Create a workbook\r\n            let wb = {\r\n                SheetNames: [sheetName],\r\n                Sheets: {}\r\n            };\r\n            // Init worksheet data\r\n            let wsData = [];\r\n            // Get data\r\n            const data = this.getData(\"html\", options);\r\n            const dataFields = this.getDataFields(data);\r\n            // Vertical or horizontal (default) layout\r\n            if (options.pivot) {\r\n                // Data fields order\r\n                const dataFieldsOrder = this.get(\"dataFieldsOrder\", []);\r\n                $object.eachOrdered(dataFields, (key, val) => {\r\n                    let dataRow = [];\r\n                    if (options.addColumnNames) {\r\n                        dataRow.push(val);\r\n                    }\r\n                    for (let len = data.length, i = 0; i < len; i++) {\r\n                        let dataValue = data[i][key];\r\n                        dataRow.push(this.convertToSpecialFormat(key, dataValue, options, true));\r\n                    }\r\n                    wsData.push(this.getXLSXRow(dataRow, options, undefined, true));\r\n                }, (a, b) => {\r\n                    //console.log(a, b)\r\n                    let ai = dataFieldsOrder.indexOf(a);\r\n                    let bi = dataFieldsOrder.indexOf(b);\r\n                    if (ai > bi) {\r\n                        return 1;\r\n                    }\r\n                    else if (ai < bi) {\r\n                        return -1;\r\n                    }\r\n                    return 0;\r\n                });\r\n            }\r\n            else {\r\n                // Add column names?\r\n                if (options.addColumnNames) {\r\n                    wsData.push(this.getXLSXRow(dataFields, options, undefined, true));\r\n                }\r\n                // Add lines\r\n                for (let len = data.length, i = 0; i < len; i++) {\r\n                    wsData.push(this.getXLSXRow(data[i], options, dataFields));\r\n                }\r\n            }\r\n            // Create sheet and add data\r\n            wb.Sheets[sheetName] = XLSX.utils.aoa_to_sheet(wsData);\r\n            this.events.dispatch(\"workbookready\", {\r\n                type: \"workbookready\",\r\n                format: \"xlsx\",\r\n                options: options,\r\n                workbook: wb,\r\n                workbookOptions: wbOptions,\r\n                xlsx: XLSX,\r\n                target: this\r\n            });\r\n            return XLSX.write(wb, wbOptions);\r\n        });\r\n    }\r\n    _normalizeExcelSheetName(name) {\r\n        name = name.replace(/([:\\\\\\/?*\\[\\]]+)/g, \" \");\r\n        return name.length > 30 ? name.substr(0, 30) + \"...\" : name;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    getXLSXRow(row, options, dataFields, asIs = false) {\r\n        // Init\r\n        let items = [];\r\n        // Data fields\r\n        if (!dataFields) {\r\n            dataFields = row;\r\n        }\r\n        // Data fields order\r\n        const dataFieldsOrder = this.get(\"dataFieldsOrder\", []);\r\n        // Process each row item\r\n        $object.eachOrdered(dataFields, (key, _name) => {\r\n            // Get value\r\n            let value = this.convertEmptyValue(key, row[key], options);\r\n            // Convert dates\r\n            let item = asIs ? value : this.convertToSpecialFormat(key, value, options, true);\r\n            items.push(item);\r\n        }, (a, b) => {\r\n            //console.log(a, b)\r\n            let ai = dataFieldsOrder.indexOf(a);\r\n            let bi = dataFieldsOrder.indexOf(b);\r\n            if (ai > bi) {\r\n                return 1;\r\n            }\r\n            else if (ai < bi) {\r\n                return -1;\r\n            }\r\n            return 0;\r\n        });\r\n        return items;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    _xlsx() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            return yield import(/* webpackChunkName: \"xlsx\" */ \"../../bundled/xlsx\");\r\n        });\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    getXLSXLib() {\r\n        return this._xlsx();\r\n    }\r\n    /**\r\n     * ==========================================================================\r\n     * PDF\r\n     * ==========================================================================\r\n     */\r\n    /**\r\n     * Returns a data:uri representation of a PDF file with chart image.\r\n     *\r\n     * @param   customOptions  Format options\r\n     * @return                 Promise\r\n     */\r\n    exportPDF(customOptions) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            return \"data:\" + this.getContentType(\"pdf\") + \";\" + this.get(\"charset\", \"utf-8\") + \",\" + encodeURIComponent(yield this.getPDF(customOptions, true));\r\n        });\r\n    }\r\n    /**\r\n     * Returns a data:uri representation of a PDF file with chart data.\r\n     *\r\n     * @param   customOptions  Format options\r\n     * @return                 Promise\r\n     */\r\n    exportPDFData(customOptions) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            return \"data:\" + this.getContentType(\"pdf\") + \";\" + this.get(\"charset\", \"utf-8\") + \",\" + encodeURIComponent(yield this.getPDF(customOptions, false, true));\r\n        });\r\n    }\r\n    /**\r\n     * Returns Base64-encoded binary data for a PDF file.\r\n     * @param   customOptions  PDF options\r\n     * @param   includeImage   Include chart snapshot\r\n     * @param   includeData    Include data\r\n     * @return                 Promise\r\n     */\r\n    getPDF(customOptions, includeImage = true, includeData = false) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const options = this._getFormatOptions(\"pdf\", customOptions);\r\n            const dataOptions = this._getFormatOptions(\"pdfdata\", customOptions);\r\n            const orientation = options.pageOrientation || \"portrait\";\r\n            // Get image\r\n            let image;\r\n            if (includeImage) {\r\n                image = yield this.exportImage(options.imageFormat || \"png\", options);\r\n            }\r\n            // Load pdfmake\r\n            const pdfmake = yield this.getPdfmake();\r\n            // Defaults\r\n            const defaultMargins = [30, 30, 30, 30];\r\n            // Init content for PDF\r\n            let doc = {\r\n                pageSize: options.pageSize || \"A4\",\r\n                pageOrientation: orientation,\r\n                pageMargins: options.pageMargins || defaultMargins,\r\n                defaultStyle: {\r\n                    font: options.font ? options.font.name : undefined\r\n                },\r\n                //header: <any>[],\r\n                content: []\r\n            };\r\n            // Should we add title?\r\n            const title = this.get(\"title\");\r\n            let extraMargin = 0;\r\n            if (title) {\r\n                doc.content.push({\r\n                    text: title,\r\n                    fontSize: options.fontSize || 14,\r\n                    bold: true,\r\n                    margin: [0, 0, 0, 15]\r\n                });\r\n                // Add some leftover margin for title\r\n                extraMargin += 50;\r\n            }\r\n            // Add page URL?\r\n            if (options.addURL) {\r\n                doc.content.push({\r\n                    text: this._t(\"Saved from\") + \": \" + document.location.href,\r\n                    fontSize: options.fontSize,\r\n                    margin: [0, 0, 0, 15]\r\n                });\r\n                // Add some leftover margin for URL\r\n                extraMargin += 50;\r\n            }\r\n            // Add image\r\n            if (includeImage && image) {\r\n                doc.content.push({\r\n                    image: image,\r\n                    alignment: options.align || \"left\",\r\n                    fit: this.getPageSizeFit(doc.pageSize, doc.pageMargins, extraMargin, orientation)\r\n                });\r\n            }\r\n            // Add data\r\n            if ((includeData || options.includeData) && this.hasData()) {\r\n                doc.content.push({\r\n                    table: yield this.getPDFData(dataOptions),\r\n                    fontSize: options.fontSize || 14\r\n                });\r\n            }\r\n            let fonts = null;\r\n            let vfs = null;\r\n            function addFont(font) {\r\n                const paths = {};\r\n                paths.normal = font.normal.path;\r\n                vfs[font.normal.path] = font.normal.bytes;\r\n                if (font.bold) {\r\n                    paths.bold = font.bold.path;\r\n                    vfs[font.bold.path] = font.bold.bytes;\r\n                }\r\n                else {\r\n                    paths.bold = font.normal.path;\r\n                }\r\n                if (font.italics) {\r\n                    paths.italics = font.italics.path;\r\n                    vfs[font.italics.path] = font.italics.bytes;\r\n                }\r\n                else {\r\n                    paths.italics = font.normal.path;\r\n                }\r\n                if (font.bolditalics) {\r\n                    paths.bolditalics = font.bolditalics.path;\r\n                    vfs[font.bolditalics.path] = font.bolditalics.bytes;\r\n                }\r\n                else {\r\n                    paths.bolditalics = font.normal.path;\r\n                }\r\n                fonts[font.name] = paths;\r\n            }\r\n            if (options.font) {\r\n                fonts = {};\r\n                vfs = {};\r\n                addFont(options.font);\r\n                if (options.extraFonts) {\r\n                    $array.each(options.extraFonts, addFont);\r\n                }\r\n            }\r\n            this.events.dispatch(\"pdfdocready\", {\r\n                type: \"pdfdocready\",\r\n                format: \"pdf\",\r\n                options: options,\r\n                doc: doc,\r\n                target: this\r\n            });\r\n            // Create PDF\r\n            return new Promise((success, _error) => {\r\n                pdfmake.createPdf(doc, null, fonts, vfs).getBase64((uri) => {\r\n                    success(uri);\r\n                });\r\n            });\r\n        });\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    getPDFData(customOptions) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const options = this._getFormatOptions(\"pdfdata\", customOptions);\r\n            // Init output\r\n            let content = {\r\n                \"body\": []\r\n            };\r\n            // Get data\r\n            const data = this.getData(\"html\", options);\r\n            const dataFields = this.getDataFields(data);\r\n            // Vertical or horizontal (default) layout\r\n            if (options.pivot) {\r\n                // Data fields order\r\n                const dataFieldsOrder = this.get(\"dataFieldsOrder\", []);\r\n                $object.eachOrdered(dataFields, (key, val) => {\r\n                    let dataRow = [];\r\n                    if (options.addColumnNames) {\r\n                        dataRow.push(val);\r\n                    }\r\n                    for (let len = data.length, i = 0; i < len; i++) {\r\n                        let dataValue = data[i][key];\r\n                        dataRow.push(this.convertToSpecialFormat(key, dataValue, options, true));\r\n                    }\r\n                    content.body.push(this.getPDFDataRow(dataRow, options, undefined, true));\r\n                }, (a, b) => {\r\n                    //console.log(a, b)\r\n                    let ai = dataFieldsOrder.indexOf(a);\r\n                    let bi = dataFieldsOrder.indexOf(b);\r\n                    if (ai > bi) {\r\n                        return 1;\r\n                    }\r\n                    else if (ai < bi) {\r\n                        return -1;\r\n                    }\r\n                    return 0;\r\n                });\r\n            }\r\n            else {\r\n                // Add column names?\r\n                if (options.addColumnNames) {\r\n                    content.body.push(this.getPDFDataRow(dataFields, options, undefined, true));\r\n                    content.headerRows = 1;\r\n                }\r\n                for (let len = data.length, i = 0; i < len; i++) {\r\n                    content.body.push(this.getPDFDataRow(data[i], options, dataFields));\r\n                }\r\n            }\r\n            return content;\r\n        });\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    getPDFDataRow(row, options, dataFields, asIs = false) {\r\n        // Init\r\n        let items = [];\r\n        // Data fields\r\n        if (!dataFields) {\r\n            dataFields = row;\r\n        }\r\n        // Data fields order\r\n        const dataFieldsOrder = this.get(\"dataFieldsOrder\", []);\r\n        // Process each row item\r\n        $object.eachOrdered(dataFields, (key, _name) => {\r\n            // Get value\r\n            let value = this.convertEmptyValue(key, row[key], options);\r\n            // Convert dates\r\n            let item = asIs ? value : this.convertToSpecialFormat(key, value, options);\r\n            item = \"\" + item;\r\n            // Add to item\r\n            items.push(item);\r\n        }, (a, b) => {\r\n            //console.log(a, b)\r\n            let ai = dataFieldsOrder.indexOf(a);\r\n            let bi = dataFieldsOrder.indexOf(b);\r\n            if (ai > bi) {\r\n                return 1;\r\n            }\r\n            else if (ai < bi) {\r\n                return -1;\r\n            }\r\n            return 0;\r\n        });\r\n        return items;\r\n    }\r\n    /**\r\n     * Returns pdfmake instance.\r\n     *\r\n     * @ignore\r\n     * @return Instance of pdfmake\r\n     */\r\n    getPdfmake() {\r\n        if (pdfmakePromise === undefined) {\r\n            pdfmakePromise = _pdfmake();\r\n        }\r\n        return pdfmakePromise;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    getPageSizeFit(pageSize, margins, extraMargin = 0, orientation = \"portrait\") {\r\n        // Check margins\r\n        let newMargins = [0, 0, 0, 0];\r\n        if ($type.isNumber(margins)) {\r\n            newMargins = [margins, margins, margins, margins];\r\n        }\r\n        else if (margins.length == 2) {\r\n            newMargins = [margins[0], margins[1], margins[0], margins[1]];\r\n        }\r\n        else if (margins.length == 4) {\r\n            newMargins = margins;\r\n        }\r\n        // Define available page sizes\r\n        let sizes = {\r\n            \"4A0\": [4767.87, 6740.79],\r\n            \"2A0\": [3370.39, 4767.87],\r\n            A0: [2383.94, 3370.39],\r\n            A1: [1683.78, 2383.94],\r\n            A2: [1190.55, 1683.78],\r\n            A3: [841.89, 1190.55],\r\n            A4: [595.28, 841.89],\r\n            A5: [419.53, 595.28],\r\n            A6: [297.64, 419.53],\r\n            A7: [209.76, 297.64],\r\n            A8: [147.40, 209.76],\r\n            A9: [104.88, 147.40],\r\n            A10: [73.70, 104.88],\r\n            B0: [2834.65, 4008.19],\r\n            B1: [2004.09, 2834.65],\r\n            B2: [1417.32, 2004.09],\r\n            B3: [1000.63, 1417.32],\r\n            B4: [708.66, 1000.63],\r\n            B5: [498.90, 708.66],\r\n            B6: [354.33, 498.90],\r\n            B7: [249.45, 354.33],\r\n            B8: [175.75, 249.45],\r\n            B9: [124.72, 175.75],\r\n            B10: [87.87, 124.72],\r\n            C0: [2599.37, 3676.54],\r\n            C1: [1836.85, 2599.37],\r\n            C2: [1298.27, 1836.85],\r\n            C3: [918.43, 1298.27],\r\n            C4: [649.13, 918.43],\r\n            C5: [459.21, 649.13],\r\n            C6: [323.15, 459.21],\r\n            C7: [229.61, 323.15],\r\n            C8: [161.57, 229.61],\r\n            C9: [113.39, 161.57],\r\n            C10: [79.37, 113.39],\r\n            RA0: [2437.80, 3458.27],\r\n            RA1: [1729.13, 2437.80],\r\n            RA2: [1218.90, 1729.13],\r\n            RA3: [864.57, 1218.90],\r\n            RA4: [609.45, 864.57],\r\n            SRA0: [2551.18, 3628.35],\r\n            SRA1: [1814.17, 2551.18],\r\n            SRA2: [1275.59, 1814.17],\r\n            SRA3: [907.09, 1275.59],\r\n            SRA4: [637.80, 907.09],\r\n            EXECUTIVE: [521.86, 756.00],\r\n            FOLIO: [612.00, 936.00],\r\n            LEGAL: [612.00, 1008.00],\r\n            LETTER: [612.00, 792.00],\r\n            TABLOID: [792.00, 1224.00]\r\n        };\r\n        // Calculate size\r\n        let fitSize = sizes[pageSize];\r\n        if (orientation == \"landscape\") {\r\n            fitSize.reverse();\r\n        }\r\n        fitSize[0] -= newMargins[0] + newMargins[2];\r\n        fitSize[1] -= newMargins[1] + newMargins[3] + extraMargin;\r\n        return fitSize;\r\n    }\r\n    /**\r\n     * ==========================================================================\r\n     * Data\r\n     * ==========================================================================\r\n     */\r\n    /**\r\n        * Returns `true` if `dataSource` is set, and the contents are proper\r\n        * data (array).\r\n        *\r\n        * @return Has data?\r\n        */\r\n    hasData() {\r\n        const dataSource = this.get(\"dataSource\");\r\n        return $type.isArray(dataSource) && dataSource.length ? true : false;\r\n    }\r\n    /**\r\n     * Returns processed data according to format options.\r\n     *\r\n     * @param   format         Format\r\n     * @param   customOptions  Format options\r\n     * @param   renameFields   Should fields be renamed?\r\n     * @return                 Processed data\r\n     */\r\n    getData(format, customOptions, renameFields = false) {\r\n        const options = this._getFormatOptions(format, customOptions);\r\n        const dataSource = this.get(\"dataSource\", []);\r\n        let data = dataSource;\r\n        // Re-generate the data based on data fields if set\r\n        const dataFields = this.get(\"dataFields\");\r\n        if (dataFields && $type.isArray(dataSource)) {\r\n            data = [];\r\n            $array.each(dataSource, (row) => {\r\n                if ($type.isObject(row)) {\r\n                    const newRow = {};\r\n                    $object.each(dataFields, (field, value) => {\r\n                        if (dataFields[field] != null) {\r\n                            newRow[renameFields ? value : field] = this.convertToSpecialFormat(field, row[field], options);\r\n                        }\r\n                    });\r\n                    data.push(newRow);\r\n                }\r\n            });\r\n        }\r\n        const event = {\r\n            type: \"dataprocessed\",\r\n            format: format,\r\n            options: options,\r\n            data: data,\r\n            target: this\r\n        };\r\n        this.events.dispatch(\"dataprocessed\", event);\r\n        return event.data;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    getDataFields(data) {\r\n        let dataFields = this.get(\"dataFields\");\r\n        if (!dataFields) {\r\n            dataFields = {};\r\n            if ($type.isArray(data) && data.length) {\r\n                $array.each(data, (row) => {\r\n                    $object.each(row, (key, _value) => {\r\n                        if (dataFields[key] == null) {\r\n                            dataFields[key] = key;\r\n                        }\r\n                    });\r\n                });\r\n            }\r\n        }\r\n        return dataFields;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    convertEmptyValue(_field, value, options) {\r\n        return value != null ? value : options.emptyAs;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    convertToSpecialFormat(field, value, options, keepOriginal) {\r\n        // Is this a timestamp or duration?\r\n        if (typeof value == \"number\") {\r\n            if (this.isDateField(field)) {\r\n                value = new Date(value);\r\n            }\r\n            else if (this.isNumericField(field) && this.get(\"numberFormat\")) {\r\n                return this._root.numberFormatter.format(value, this.get(\"numberFormat\"));\r\n            }\r\n            else if (this.isDurationField(field)) {\r\n                return this._root.durationFormatter.format(value, this.get(\"durationFormat\"), this.get(\"durationUnit\"));\r\n            }\r\n        }\r\n        if (value instanceof Date) {\r\n            if (options.useTimestamps) {\r\n                value = value.getTime();\r\n            }\r\n            else if (options.useLocale) {\r\n                if (!keepOriginal) {\r\n                    value = value.toLocaleString();\r\n                }\r\n            }\r\n            else {\r\n                value = this._root.dateFormatter.format(value, this.get(\"dateFormat\"));\r\n            }\r\n        }\r\n        return value;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    isDateField(field) {\r\n        return this.get(\"dateFields\").indexOf(field) !== -1;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    isNumericField(field) {\r\n        return this.get(\"numericFields\").indexOf(field) !== -1;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    isDurationField(field) {\r\n        return this.get(\"durationFields\").indexOf(field) !== -1;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    getContentType(type) {\r\n        let contentType = \"\";\r\n        switch (type) {\r\n            case \"png\":\r\n                contentType = \"image/\" + type;\r\n                break;\r\n            case \"jpg\":\r\n                contentType = \"image/jpeg\";\r\n                break;\r\n            case \"csv\":\r\n                contentType = \"text/csv\";\r\n                break;\r\n            case \"json\":\r\n                contentType = \"application/json\";\r\n                break;\r\n            case \"html\":\r\n                contentType = \"text/html\";\r\n                break;\r\n            case \"pdf\":\r\n            case \"pdfdata\":\r\n                contentType = \"application/pdf\";\r\n                break;\r\n            case \"xlsx\":\r\n                contentType = \"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\";\r\n                break;\r\n            default:\r\n                contentType = \"application/octet-stream\";\r\n        }\r\n        return contentType;\r\n    }\r\n    getDisposableCanvas() {\r\n        let canvas = document.createElement(\"canvas\");\r\n        canvas.style.position = \"fixed\";\r\n        canvas.style.top = \"-10000px\";\r\n        this._root.dom.appendChild(canvas);\r\n        return canvas;\r\n    }\r\n    disposeCanvas(canvas) {\r\n        this._root.dom.removeChild(canvas);\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    findBackgroundColor(element) {\r\n        // Check if element has styles set\r\n        let opacity = 1;\r\n        let currentColor = getComputedStyle(element, \"background-color\").getPropertyValue(\"background-color\");\r\n        // Check opacity\r\n        if (currentColor.match(/[^,]*,[^,]*,[^,]*,[ ]?0/) || currentColor == \"transparent\") {\r\n            opacity = 0;\r\n        }\r\n        if (opacity == 0) {\r\n            let parent = element.parentElement; // || <Element>element.parentNode;\r\n            // Completely transparent. Look for a parent\r\n            if (parent) {\r\n                return this.findBackgroundColor(parent);\r\n            }\r\n            else {\r\n                return Color.fromHex(0xffffff);\r\n            }\r\n        }\r\n        else {\r\n            return Color.fromCSS(currentColor);\r\n        }\r\n    }\r\n    /**\r\n     * Triggers download of the file.\r\n     *\r\n     * @param   uri       data:uri with file content\r\n     * @param   fileName  File name\r\n     * @param   addBOM    Should download include byte order mark?\r\n     * @return            Promise\r\n     */\r\n    streamFile(uri, fileName, addBOM = false) {\r\n        if (this.blobDownloadSupport()) {\r\n            /**\r\n             * Supports Blob object.\r\n             * Use it.\r\n             */\r\n            let link = document.createElement(\"a\");\r\n            link.download = fileName;\r\n            document.body.appendChild(link);\r\n            // Extract content type and get pure data without headers\r\n            let parts = uri.split(\";\");\r\n            let contentType = parts.shift().replace(/data:/, \"\");\r\n            uri = decodeURIComponent(parts.join(\";\").replace(/^[^,]*,/, \"\"));\r\n            if ([\"image/svg+xml\", \"application/json\", \"text/csv\", \"text/html\"].indexOf(contentType) == -1) {\r\n                try {\r\n                    let decoded = atob(uri);\r\n                    uri = decoded;\r\n                }\r\n                catch (e) {\r\n                    // Error occurred, meaning string was not Base64-encoded. Do nothing.\r\n                    return false;\r\n                }\r\n            }\r\n            else {\r\n                if (addBOM) {\r\n                    uri = \"\\ufeff\" + uri;\r\n                }\r\n                let blob = new Blob([uri], { type: contentType });\r\n                let url = window.URL.createObjectURL(blob);\r\n                link.href = url;\r\n                link.download = fileName;\r\n                link.click();\r\n                setTimeout(() => {\r\n                    document.body.removeChild(link);\r\n                    window.URL.revokeObjectURL(url);\r\n                }, 100);\r\n                return true;\r\n            }\r\n            // Dissect uri into array\r\n            let chars = new Array(uri.length);\r\n            for (let i = 0; i < uri.length; ++i) {\r\n                let charCode = uri.charCodeAt(i);\r\n                chars[i] = charCode;\r\n            }\r\n            if (addBOM) {\r\n                chars = [0xEF, 0xBB, 0xBF].concat(chars);\r\n            }\r\n            let blob = new Blob([new Uint8Array(chars)], { type: contentType });\r\n            let url = window.URL.createObjectURL(blob);\r\n            link.href = url;\r\n            link.download = fileName;\r\n            document.body.appendChild(link);\r\n            link.click();\r\n            document.body.removeChild(link);\r\n            setTimeout(() => {\r\n                window.URL.revokeObjectURL(url);\r\n            }, 100);\r\n        }\r\n        else if (this.linkDownloadSupport()) {\r\n            /**\r\n             * For regular browsers, we create a link then simulate a click on it\r\n             */\r\n            let link = document.createElement(\"a\");\r\n            link.download = fileName;\r\n            link.href = uri;\r\n            document.body.appendChild(link);\r\n            link.click();\r\n            document.body.removeChild(link);\r\n        }\r\n        else {\r\n            /**\r\n             * Something else - perhaps a mobile.\r\n             * Let's just display it in the same page.\r\n             * (hey we don't like it either)\r\n             */\r\n            window.location.href = uri;\r\n        }\r\n        return true;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    downloadSupport() {\r\n        return this.linkDownloadSupport();\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    linkDownloadSupport() {\r\n        let a = document.createElement(\"a\");\r\n        let res = typeof a.download !== \"undefined\";\r\n        return res;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    blobDownloadSupport() {\r\n        return window.Blob != null;\r\n    }\r\n    /**\r\n     * ==========================================================================\r\n     * Print\r\n     * ==========================================================================\r\n     */\r\n    /**\r\n     * Initiates print of the chart.\r\n     *\r\n     * @param   data     data:uri for the image\r\n     * @param   options  Options\r\n     * @param   title    Optional title to use (uses window's title by default)\r\n     * @return           Promise\r\n     */\r\n    initiatePrint(data, customOptions, title) {\r\n        const options = this._getFormatOptions(\"print\", customOptions);\r\n        if (options.printMethod == \"css\") {\r\n            this._printViaCSS(data, options, title);\r\n        }\r\n        else {\r\n            this._printViaIframe(data, options, title);\r\n        }\r\n    }\r\n    _printViaCSS(data, customOptions, title) {\r\n        const options = this._getFormatOptions(\"print\", customOptions);\r\n        let delay = options.delay || 500;\r\n        //Save current scroll position\r\n        let scroll = document.documentElement.scrollTop || document.body.scrollTop;\r\n        // Hide all document nodes by applyin custom CSS\r\n        let rule = new StyleRule($utils.getShadowRoot(this._root.dom), \"body > *\", {\r\n            \"display\": \"none\",\r\n            \"position\": \"fixed\",\r\n            \"visibility\": \"hidden\",\r\n            \"opacity\": \"0\",\r\n            \"clipPath\": \"polygon(0px 0px,0px 0px,0px 0px,0px 0px);\"\r\n        }, this._root.nonce);\r\n        // Replace title?\r\n        let originalTitle;\r\n        if (title && document && document.title) {\r\n            originalTitle = document.title;\r\n            document.title = title;\r\n        }\r\n        // Create and add exported image\r\n        let img = new Image();\r\n        img.src = data;\r\n        img.style.maxWidth = \"100%\";\r\n        img.style.display = \"block\";\r\n        img.style.position = \"relative\";\r\n        img.style.visibility = \"visible\";\r\n        img.style.opacity = \"1\";\r\n        img.style.clipPath = \"none\";\r\n        document.body.appendChild(img);\r\n        // Print\r\n        this.setTimeout(() => {\r\n            window.print();\r\n        }, 50);\r\n        // Delay needs to be at least a second for iOS devices\r\n        let isIOS = /iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream;\r\n        if (isIOS && (delay < 1000)) {\r\n            delay = 1000;\r\n        }\r\n        else if (delay < 100) {\r\n            delay = 100;\r\n        }\r\n        // Delay function that resets back the document the way ot was before\r\n        this.setTimeout(() => {\r\n            // Remove image\r\n            document.body.removeChild(img);\r\n            // Reset back all elements\r\n            /*for (let len = items.length, i = 0; i < len; i++) {\r\n                let item = <HTMLElement>items[i];\r\n                if ($dom.isElement(item)) {\r\n                    item.style.display = states[i];\r\n                }\r\n            }*/\r\n            rule.dispose();\r\n            // Restore title\r\n            if (originalTitle) {\r\n                document.title = document.title;\r\n            }\r\n            // Scroll back the document the way it was before\r\n            document.documentElement.scrollTop = document.body.scrollTop = scroll;\r\n        }, delay || 500);\r\n    }\r\n    _printViaIframe(data, customOptions, title) {\r\n        const options = this._getFormatOptions(\"print\", customOptions);\r\n        let delay = options.delay || 500;\r\n        // Create an iframe\r\n        const iframe = document.createElement(\"iframe\");\r\n        iframe.style.visibility = \"hidden\";\r\n        document.body.appendChild(iframe);\r\n        // This is needed for FireFox\r\n        iframe.contentWindow.document.open();\r\n        iframe.contentWindow.document.close();\r\n        // Create and add exported image\r\n        let img = new Image();\r\n        img.src = data;\r\n        img.style.maxWidth = \"100%\";\r\n        img.style.height = \"auto\";\r\n        if (title) {\r\n            iframe.contentWindow.document.title = title;\r\n        }\r\n        iframe.contentWindow.document.body.appendChild(img);\r\n        iframe.load = function () {\r\n            iframe.contentWindow.document.body.appendChild(img);\r\n        };\r\n        // Print\r\n        this.setTimeout(() => {\r\n            try {\r\n                if (!iframe.contentWindow.document.execCommand(\"print\", false, null)) {\r\n                    iframe.contentWindow.print();\r\n                }\r\n            }\r\n            catch (e) {\r\n                iframe.contentWindow.print();\r\n            }\r\n        }, delay || 50);\r\n        // Delay needs to be at least a second for iOS devices\r\n        let isIOS = /iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream;\r\n        if (isIOS && (delay < 1000)) {\r\n            delay = 1000;\r\n        }\r\n        else if (delay < 100) {\r\n            delay = 100;\r\n        }\r\n        // Delay function that resets back the document the way ot was before\r\n        this.setTimeout(() => {\r\n            // Remove image\r\n            document.body.removeChild(iframe);\r\n        }, delay + 50 || 100);\r\n    }\r\n    /**\r\n     * Returns a list of formats that can be exported in current browser.\r\n     *\r\n     * @return Formats\r\n     */\r\n    supportedFormats() {\r\n        const res = [];\r\n        const hasData = this.hasData();\r\n        const downloadSupport = this.downloadSupport();\r\n        $array.each([\"png\", \"jpg\", \"canvas\", \"pdf\", \"xlsx\", \"csv\", \"json\", \"html\", \"pdfdata\", \"print\"], (format) => {\r\n            const options = this._getFormatOptions(format);\r\n            if (options.disabled !== true) {\r\n                if ([\"xlsx\", \"csv\", \"json\", \"html\", \"pdfdata\"].indexOf(format) == -1 || (hasData && downloadSupport)) {\r\n                    res.push(format);\r\n                }\r\n            }\r\n        });\r\n        return res;\r\n    }\r\n    /**\r\n     * Returns a list of supported export types: image or print.\r\n     *\r\n     * @return Supported types\r\n     */\r\n    supportedExportTypes() {\r\n        const res = [\"image\", \"print\"];\r\n        if (this.downloadSupport() && this.hasData()) {\r\n            res.push(\"data\");\r\n        }\r\n        return res;\r\n    }\r\n}\r\nObject.defineProperty(Exporting, \"className\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: \"Exporting\"\r\n});\r\nObject.defineProperty(Exporting, \"classNames\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: Entity.classNames.concat([Exporting.className])\r\n});\r\n","import { StyleRule } from \"../../core/util/Utils\";\r\nimport { MultiDisposer, CounterDisposer } from \"../../core/util/Disposer\";\r\n/**\r\n * @ignore\r\n */\r\nlet rules;\r\n/**\r\n * @ignore\r\n */\r\nexport default function (element, root, _prefix) {\r\n    //const newPrefix = (prefix ? prefix : \"am5\");\r\n    //let colorSet = new InterfaceColorSet();\r\n    const ic = root.interfaceColors;\r\n    if (!rules) {\r\n        const disposer = new MultiDisposer([\r\n            /*new StyleRule(\".${newPrefix}-menu\", {\r\n                \"opacity\": \"0.3\",\r\n                \"transition\": \"all 100ms ease-in-out\",\r\n            }),\r\n\r\n            new StyleRule(\"div:hover .${newPrefix}-menu, .${newPrefix}-menu.active\", {\r\n                \"opacity\": \"0.9\",\r\n            }),*/\r\n            new StyleRule(element, \".am5exporting-menu\", {\r\n                \"color\": ic.get(\"secondaryButtonText\").toCSS(),\r\n                \"font-size\": \"0.8em\"\r\n            }),\r\n            new StyleRule(element, \".am5exporting-menu *\", {\r\n                \"box-sizing\": \"border-box\",\r\n                \"transition\": \"all 100ms ease-in-out\",\r\n            }),\r\n            new StyleRule(element, \".am5exporting-menu a\", {\r\n                \"display\": \"block\",\r\n                \"cursor\": \"pointer\"\r\n            }),\r\n            new StyleRule(element, \".am5exporting-type-separator\", {\r\n                \"color\": ic.get(\"disabled\").toCSS(),\r\n                \"border-bottom\": \"1px solid \" + ic.get(\"secondaryButtonDown\").toCSS(),\r\n            }),\r\n            new StyleRule(element, \".am5exporting-label-alt\", {\r\n                \"color\": ic.get(\"disabled\").toCSS(),\r\n                \"font-size\": \"0.8em\"\r\n            }),\r\n            new StyleRule(element, \".am5exporting-menu .am5exporting-type-separator a\", {\r\n                \"cursor\": \"default\"\r\n            }),\r\n            new StyleRule(element, \".am5exporting-menu .am5exporting-type-separator a:hover\", {\r\n                \"background\": \"initial\"\r\n            }),\r\n            new StyleRule(element, \".am5exporting-menu\", {\r\n                \"position\": \"absolute\",\r\n                \"z-index\": \"10\"\r\n            }),\r\n            // new StyleRule(element, \".am5exporting-list:before\", {\r\n            // \t// \"display\": \"block\",\r\n            // \t\"width\": \"20px\",\r\n            // \t\"height\": \"20px\",\r\n            // \t\"content\": \"url(\\\"data:image/svg+xml; utf8, <svg fill=\\\"#f00\\\" height=\\\"20\\\" width=\\\"20\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"><path d=\\\"M6 10a2 2 0 11-4 0 2 2 0 014 0zM12 10a2 2 0 11-4 0 2 2 0 014 0zM16 12a2 2 0 100-4 2 2 0 000 4z\\\"/></svg>\\\")\"\r\n            // }),\r\n            new StyleRule(element, \".am5exporting-icon\", {\r\n                \"width\": \"30px\",\r\n                \"height\": \"26px\",\r\n                \"position\": \"absolute\",\r\n                \"margin\": \"5px\",\r\n                \"padding\": \"3px 5px\",\r\n                \"border-radius\": \"3px\",\r\n                \"opacity\": \"0.5\",\r\n                \"background\": \"rgba(255, 255, 255, 0.001)\",\r\n                \"background-opacity\": \"0\"\r\n            }),\r\n            new StyleRule(element, \".am5exporting-icon:focus, .am5exporting-icon:hover, .am5exporting-menu-open .am5exporting-icon\", {\r\n                \"background\": ic.get(\"secondaryButtonHover\").toCSS(),\r\n                \"opacity\": \"1\"\r\n            }),\r\n            new StyleRule(element, \".am5exporting-menu path\", {\r\n                \"fill\": ic.get(\"secondaryButtonText\").toCSS()\r\n            }),\r\n            new StyleRule(element, \".am5exporting-list\", {\r\n                \"display\": \"none\",\r\n                \"list-style\": \"none\",\r\n                \"list-style-type\": \"none\",\r\n                \"margin\": \"5px\",\r\n                \"background\": ic.get(\"secondaryButton\").toCSS(),\r\n                \"padding\": \"5px 0\",\r\n                \"border\": \"1px solid \" + ic.get(\"secondaryButtonStroke\").toCSS(),\r\n                \"border-radius\": \"3px\"\r\n            }),\r\n            new StyleRule(element, \".am5exporting-menu-open .am5exporting-list\", {\r\n                \"display\": \"block\"\r\n            }),\r\n            new StyleRule(element, \".am5exporting-item\", {}),\r\n            new StyleRule(element, \".am5exporting-item a\", {\r\n                \"padding\": \"3px 15px\",\r\n            }),\r\n            new StyleRule(element, \".am5exporting-item a:hover, .am5exporting-item a.am5exporting-item-active\", {\r\n                \"background\": ic.get(\"secondaryButtonHover\").toCSS(),\r\n            }),\r\n            new StyleRule(element, \".am5exporting-menu.am5exporting-align-left, .am5exporting-icon.am5exporting-align-left, .am5exporting-list.am5exporting-align-left\", {\r\n                \"left\": \"0\"\r\n            }),\r\n            new StyleRule(element, \".am5exporting-menu.am5exporting-align-right, .am5exporting-icon.am5exporting-align-right, .am5exporting-list.am5exporting-align-right\", {\r\n                \"right\": \"0\"\r\n            }),\r\n            new StyleRule(element, \".am5exporting-menu.am5exporting-valign-top, .am5exporting-icon.am5exporting-valign-top, .am5exporting-list.am5exporting-align-top\", {\r\n                \"top\": \"0\"\r\n            }),\r\n            new StyleRule(element, \".am5exporting-menu.am5exporting-valign-bottom, .am5exporting-icon.am5exporting-valign-bottom, .am5exporting-list.am5exporting-align-bottom\", {\r\n                \"bottom\": \"0\"\r\n            }),\r\n            new StyleRule(element, \".am5exporting-list.am5exporting-align-left\", {\r\n                \"margin-left\": \"40px\"\r\n            }),\r\n            new StyleRule(element, \".am5exporting-list.am5exporting-align-right\", {\r\n                \"margin-right\": \"40px\"\r\n            }),\r\n            // new StyleRule(element, \".${newPrefix}-menu-level-0\", {\r\n            // \t\"position\": \"absolute\",\r\n            // \t\"top\": \"5px\",\r\n            // \t\"right\": \"5px\",\r\n            // })\r\n        ]);\r\n        rules = new CounterDisposer(() => {\r\n            rules = undefined;\r\n            disposer.dispose();\r\n        });\r\n    }\r\n    return rules.increment();\r\n}\r\n","import { Entity } from \"../../core/util/Entity\";\r\nimport { Disposer } from \"../../core/util/Disposer\";\r\nimport exportingCSS from \"./ExportingCSS\";\r\nimport * as $array from \"../../core/util/Array\";\r\nimport * as $utils from \"../../core/util/Utils\";\r\n/**\r\n * Displays a menu for [[Exporting]].\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/exporting/} for more info\r\n */\r\nexport class ExportingMenu extends Entity {\r\n    constructor() {\r\n        super(...arguments);\r\n        Object.defineProperty(this, \"_menuElement\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_iconElement\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_listElement\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_itemElements\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n        Object.defineProperty(this, \"_itemDisposers\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n        Object.defineProperty(this, \"_cssDisposer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_activeItem\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"isOpen\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(this, \"_isOver\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n    }\r\n    _afterNew() {\r\n        super._afterNew();\r\n        this._setRawDefault(\"container\", this._root._inner);\r\n        this._setRawDefault(\"align\", \"right\");\r\n        this._setRawDefault(\"valign\", \"top\");\r\n        this._setRawDefault(\"useDefaultCSS\", true);\r\n        this._setRawDefault(\"autoClose\", true);\r\n        this._setRawDefault(\"deactivateRoot\", true);\r\n        this._setRawDefault(\"items\", [{\r\n                type: \"separator\",\r\n                label: this._t(\"Export\")\r\n            }, {\r\n                type: \"format\",\r\n                format: \"png\",\r\n                exportType: \"image\",\r\n                label: this._t(\"PNG\"),\r\n                sublabel: this._t(\"Image\")\r\n            }, {\r\n                type: \"format\",\r\n                format: \"jpg\",\r\n                exportType: \"image\",\r\n                label: this._t(\"JPG\"),\r\n                sublabel: this._t(\"Image\")\r\n            }, {\r\n                type: \"format\",\r\n                format: \"pdf\",\r\n                exportType: \"image\",\r\n                label: this._t(\"PDF\"),\r\n                sublabel: this._t(\"Image\")\r\n            }, {\r\n                type: \"separator\",\r\n                exportType: \"data\",\r\n                //label: this._t(\"Data\")\r\n            }, {\r\n                type: \"format\",\r\n                format: \"json\",\r\n                exportType: \"data\",\r\n                label: this._t(\"JSON\"),\r\n                sublabel: this._t(\"Data\")\r\n            }, {\r\n                type: \"format\",\r\n                format: \"csv\",\r\n                exportType: \"data\",\r\n                label: this._t(\"CSV\"),\r\n                sublabel: this._t(\"Data\")\r\n            }, {\r\n                type: \"format\",\r\n                format: \"xlsx\",\r\n                exportType: \"data\",\r\n                label: this._t(\"XLSX\"),\r\n                sublabel: this._t(\"Data\")\r\n            }, {\r\n                type: \"format\",\r\n                format: \"pdfdata\",\r\n                exportType: \"data\",\r\n                label: this._t(\"PDF\"),\r\n                sublabel: this._t(\"Data\")\r\n            }, {\r\n                type: \"format\",\r\n                format: \"html\",\r\n                exportType: \"data\",\r\n                label: this._t(\"HTML\"),\r\n                sublabel: this._t(\"Data\")\r\n            }, {\r\n                type: \"separator\"\r\n            }, {\r\n                type: \"format\",\r\n                format: \"print\",\r\n                exportType: \"print\",\r\n                label: this._t(\"Print\")\r\n            }]);\r\n        const menuElement = document.createElement(\"div\");\r\n        this._menuElement = menuElement;\r\n        this.setPrivate(\"menuElement\", this._menuElement);\r\n        const iconElement = document.createElement(\"a\");\r\n        this._iconElement = iconElement;\r\n        this._listElement = document.createElement(\"ul\");\r\n        this._listElement.setAttribute(\"role\", \"menu\");\r\n        this.setPrivate(\"listElement\", this._listElement);\r\n        this._applyClassNames();\r\n        iconElement.innerHTML = '<svg fill=\"none\" height=\"20\" width=\"20\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M6 10a2 2 0 11-4 0 2 2 0 014 0zM12 10a2 2 0 11-4 0 2 2 0 014 0zM16 12a2 2 0 100-4 2 2 0 000 4z\"/></svg>';\r\n        iconElement.setAttribute(\"tabindex\", this._root.tabindex.toString());\r\n        iconElement.setAttribute(\"aria-label\", this._t(\"Export\") + \"; \" + this._t(\"Press ENTER to open\"));\r\n        iconElement.setAttribute(\"role\", \"button\");\r\n        if ($utils.supports(\"keyboardevents\")) {\r\n            this._disposers.push($utils.addEventListener(document, \"keydown\", (ev) => {\r\n                if (document.activeElement == this._iconElement || this.isOpen) {\r\n                    if (ev.keyCode == 27) {\r\n                        // ESC\r\n                        this.close();\r\n                    }\r\n                    else if (ev.keyCode == 13) {\r\n                        // ENTER\r\n                        if (this._activeItem) {\r\n                            this._handleClick(this._activeItem);\r\n                        }\r\n                        else {\r\n                            this.toggle();\r\n                        }\r\n                    }\r\n                    else if (ev.keyCode == 38 || ev.keyCode == 40) {\r\n                        const items = this.get(\"items\", []);\r\n                        let currentIndex = items.indexOf(this._activeItem);\r\n                        if (this.get(\"valign\") == \"top\" && currentIndex == -1) {\r\n                            currentIndex = items.length;\r\n                        }\r\n                        const dir = ev.keyCode == 38 ? -1 : 1;\r\n                        let newIndex = currentIndex + dir;\r\n                        let newItem;\r\n                        do {\r\n                            if (newIndex < 0) {\r\n                                newIndex = items.length - 1;\r\n                            }\r\n                            else if (newIndex > (items.length - 1)) {\r\n                                newIndex = 0;\r\n                            }\r\n                            if (items[newIndex].type == \"separator\") {\r\n                                newIndex += dir;\r\n                            }\r\n                            else {\r\n                                newItem = items[newIndex];\r\n                            }\r\n                        } while (!newItem);\r\n                        if (newItem) {\r\n                            this._handleItemFocus(newItem);\r\n                        }\r\n                    }\r\n                }\r\n            }));\r\n        }\r\n        this._disposers.push($utils.addEventListener(iconElement, \"click\", (ev) => {\r\n            ev.stopImmediatePropagation();\r\n            this.toggle();\r\n        }));\r\n        menuElement.appendChild(this._iconElement);\r\n        menuElement.appendChild(this._listElement);\r\n        const container = this.get(\"container\", this._root._inner);\r\n        container.appendChild(this._menuElement);\r\n        this._disposers.push($utils.addEventListener(menuElement, $utils.getRendererEvent(\"pointerover\"), (_ev) => {\r\n            this._isOver = true;\r\n            if (this.get(\"deactivateRoot\")) {\r\n                this._root._renderer.interactionsEnabled = false;\r\n            }\r\n        }));\r\n        this._disposers.push($utils.addEventListener(menuElement, $utils.getRendererEvent(\"pointerout\"), (_ev) => {\r\n            if (this.get(\"deactivateRoot\") && (this.isOpen || this._isOver)) {\r\n                this._root._renderer.interactionsEnabled = true;\r\n            }\r\n            this._isOver = false;\r\n        }));\r\n        this._disposers.push(new Disposer(() => {\r\n            if (this._menuElement) {\r\n                container.removeChild(this._menuElement);\r\n            }\r\n        }));\r\n        this._disposers.push($utils.addEventListener(document, \"click\", (_ev) => {\r\n            if (this.isOpen && !this._isOver) {\r\n                this.close();\r\n            }\r\n        }));\r\n        this.loadDefaultCSS();\r\n        this._root.addDisposer(this);\r\n        this.events.dispatch(\"menucreated\", {\r\n            type: \"menucreated\",\r\n            target: this\r\n        });\r\n    }\r\n    _afterChanged() {\r\n        super._afterChanged();\r\n        if (this._itemElements.length == 0) {\r\n            this.createItems();\r\n        }\r\n        if (this.isDirty(\"useDefaultCSS\")) {\r\n            if (this.get(\"useDefaultCSS\")) {\r\n                this.loadDefaultCSS();\r\n            }\r\n            else if (this._cssDisposer) {\r\n                this._cssDisposer.dispose();\r\n            }\r\n        }\r\n        if (this.isDirty(\"exporting\")) {\r\n            const exporting = this.get(\"exporting\");\r\n            if (exporting) {\r\n                this.createItems();\r\n            }\r\n        }\r\n        if (this.isDirty(\"align\") || this.isDirty(\"valign\")) {\r\n            this._applyClassNames();\r\n        }\r\n        if (this.isDirty(\"container\")) {\r\n            const container = this.get(\"container\");\r\n            if (container) {\r\n                container.appendChild(this._menuElement);\r\n            }\r\n        }\r\n    }\r\n    _dispose() {\r\n        super._dispose();\r\n        $array.each(this._itemDisposers, (x) => {\r\n            x.dispose();\r\n        });\r\n    }\r\n    _applyClassNames() {\r\n        const align = this.get(\"align\", \"right\");\r\n        const valign = this.get(\"valign\", \"top\");\r\n        const status = this.isOpen ? \"am5exporting-menu-open\" : \"am5exporting-menu-closed\";\r\n        this._menuElement.className = \"am5exporting am5exporting-menu am5exporting-align-\" + align + \" am5exporting-valign-\" + valign + \" \" + status;\r\n        this._iconElement.className = \"am5exporting am5exporting-icon am5exporting-align-\" + align + \" am5exporting-valign-\" + valign;\r\n        this._listElement.className = \"am5exporting am5exporting-list am5exporting-align-\" + align + \" am5exporting-valign-\" + valign;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    createItems() {\r\n        const exporting = this.get(\"exporting\");\r\n        if (!exporting) {\r\n            return;\r\n        }\r\n        this._listElement.innerHTML = \"\";\r\n        this._itemElements = [];\r\n        const items = this.get(\"items\", []);\r\n        const supportedFormats = exporting.supportedFormats();\r\n        const supportedExportTypes = exporting.supportedExportTypes();\r\n        $array.each(this._itemDisposers, (x) => {\r\n            x.dispose();\r\n        });\r\n        this._itemDisposers.length = 0;\r\n        $array.each(items, (item) => {\r\n            if (item.format && supportedFormats.indexOf(item.format) == -1) {\r\n                return;\r\n            }\r\n            if (item.exportType && supportedExportTypes.indexOf(item.exportType) == -1) {\r\n                return;\r\n            }\r\n            const li = document.createElement(\"li\");\r\n            li.setAttribute(\"role\", \"menuitem\");\r\n            li.className = \"am5exporting am5exporting-item am5exporting-type-\" + item.type;\r\n            if (item.format) {\r\n                li.className += \" am5exporting-format-\" + item.format;\r\n            }\r\n            const a = document.createElement(\"a\");\r\n            let ariaLabel = this._t(\"Export\");\r\n            if (item.label) {\r\n                a.innerHTML = item.label;\r\n                ariaLabel += \" \" + item.label;\r\n            }\r\n            if (item.sublabel) {\r\n                a.innerHTML += \" <span class=\\\"am5exporting-label-alt\\\">\" + item.sublabel + \"</span>\";\r\n                ariaLabel += \" (\" + item.sublabel + \")\";\r\n            }\r\n            if (item.callback) {\r\n                this._itemDisposers.push($utils.addEventListener(a, \"click\", (_ev) => {\r\n                    item.callback.call(item.callbackTarget || this);\r\n                }));\r\n                a.setAttribute(\"tabindex\", this._root.tabindex.toString());\r\n            }\r\n            else if (item.format && exporting) {\r\n                this._itemDisposers.push($utils.addEventListener(a, \"click\", (_ev) => {\r\n                    this._handleClick(item);\r\n                }));\r\n                this._itemDisposers.push($utils.addEventListener(a, \"focus\", (_ev) => {\r\n                    this._handleItemFocus(item);\r\n                }));\r\n                this._itemDisposers.push($utils.addEventListener(a, \"blur\", (_ev) => {\r\n                    this._handleItemBlur(item);\r\n                }));\r\n                a.setAttribute(\"tabindex\", this._root.tabindex.toString());\r\n                a.setAttribute(\"aria-label\", ariaLabel);\r\n            }\r\n            item.element = a;\r\n            li.appendChild(a);\r\n            this._listElement.appendChild(li);\r\n            this._itemElements.push(li);\r\n        });\r\n    }\r\n    _handleClick(item) {\r\n        const exporting = this.get(\"exporting\");\r\n        if (this.get(\"autoClose\")) {\r\n            this.close();\r\n        }\r\n        if (item.format == \"print\") {\r\n            exporting.print();\r\n        }\r\n        else {\r\n            exporting.download(item.format);\r\n        }\r\n    }\r\n    _handleItemFocus(item) {\r\n        if (item != this._activeItem) {\r\n            if (this._activeItem) {\r\n                this._activeItem.element.className = \"\";\r\n            }\r\n            this._activeItem = item;\r\n            item.element.className = \"am5exporting-item-active\";\r\n            item.element.focus();\r\n        }\r\n    }\r\n    _handleItemBlur(item) {\r\n        item.element.className = \"\";\r\n        if (item == this._activeItem) {\r\n            this._activeItem = undefined;\r\n        }\r\n        this.setTimeout(() => {\r\n            if (!document.activeElement || !$utils.contains(this.get(\"container\"), document.activeElement)) {\r\n                this.close();\r\n            }\r\n        }, 10);\r\n    }\r\n    /**\r\n     * Loads the default CSS.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    loadDefaultCSS() {\r\n        const disposer = exportingCSS($utils.getShadowRoot(this._root.dom), this._root);\r\n        this._disposers.push(disposer);\r\n        this._cssDisposer = disposer;\r\n        // if (this._element) {\r\n        // \tthis._element.style.display = \"\";\r\n        // }\r\n    }\r\n    /**\r\n     * Opens menu.\r\n     */\r\n    open() {\r\n        this.isOpen = true;\r\n        this._applyClassNames();\r\n        this.events.dispatch(\"menuopened\", {\r\n            type: \"menuopened\",\r\n            target: this\r\n        });\r\n    }\r\n    /**\r\n     * Closes menu.\r\n     */\r\n    close() {\r\n        this.isOpen = false;\r\n        if (this.get(\"deactivateRoot\")) {\r\n            this._root._renderer.interactionsEnabled = true;\r\n        }\r\n        $utils.blur();\r\n        this._applyClassNames();\r\n        this.events.dispatch(\"menuclosed\", {\r\n            type: \"menuclosed\",\r\n            target: this\r\n        });\r\n    }\r\n    /**\r\n     * Toggles menu open and close.\r\n     */\r\n    toggle() {\r\n        if (this.isOpen) {\r\n            this.close();\r\n        }\r\n        else {\r\n            this.open();\r\n        }\r\n    }\r\n}\r\nObject.defineProperty(ExportingMenu, \"className\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: \"ExportingMenu\"\r\n});\r\nObject.defineProperty(ExportingMenu, \"classNames\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: Entity.classNames.concat([ExportingMenu.className])\r\n});\r\n","export { Exporting } from \"../.internal/plugins/exporting/Exporting\";\r\nexport { ExportingMenu } from \"../.internal/plugins/exporting/ExportingMenu\";\r\nexport { Annotator } from \"../.internal/plugins/exporting/Annotator\";\r\n"],"names":["__awaiter","Entity","Container","Picture","$utils","p100","Annotator","constructor","arguments","Object","defineProperty","enumerable","configurable","writable","value","_afterNew","_setRawDefault","_root","addDisposer","_beforeChanged","isDirty","_renderState","open","setTimeout","_renderer","interactionsEnabled","markerArea","getMarkerArea","show","_picture","hide","get","restoreState","_skipRender","renderState","close","cancel","clear","set","undefined","toggle","isOpen","dispose","_markerArea","_maybeInit","_container","container","children","push","new","width","height","layer","interactiveChildren","markerjs2","_getMarkerJS","canvas","_display","getCanvas","MarkerArea","uiStyleSettings","logoPosition","zIndex","targetRoot","parentElement","_disposers","addEventListener","event","picture","dataUrl","state","classNames","concat","className","Color","Root","StyleRule","$array","$object","$type","pdfmakePromise","_pdfmake","a","Promise","all","pdfmake","default","vfs_fonts","global","window","pdfMake","vfs","Exporting","quality","maintainPixelRatio","delay","printMethod","imageFormat","indent","renameFields","separator","addColumnNames","emptyAs","addBOM","fontSize","align","addURL","menu","_getFormatOptions","format","options","newOptions","copy","each","key","download","customOptions","ext","fileName","events","dispatch","type","target","uri","export","streamFile","print","initiatePrint","promise","_runTickerNow","exportImage","exportJSON","exportCSV","exportHTML","exportXLSX","exportPDF","exportPDFData","data","toDataURL","getContentType","disposeCanvas","exportCanvas","mainCanvas","_rootContainer","extraImages","middleLeft","middleTop","middleWidth","middleHeight","extraRight","extraBottom","extras","extraRoot","extra","source","position","marginTop","marginRight","marginBottom","marginLeft","extraCanvas","extraWidth","extraHeight","crop","Math","max","left","top","newCanvas","getDisposableCanvas","ctx","getContext","background","findBackgroundColor","dom","backgroundOpacity","fillStyle","toCSS","fillRect","right","bottom","drawImage","encodeURIComponent","getJSON","JSON","stringify","getData","_key","isObject","field","item","convertToSpecialFormat","getCSV","csv","br","dataFields","getDataFields","pivot","dataFieldsOrder","eachOrdered","val","dataRow","len","length","i","dataValue","getCSVRow","b","ai","indexOf","bi","row","reverse","asIs","items","_name","convertEmptyValue","replace","forceQuotes","search","RegExp","join","getHTML","html","tableClass","getHTMLRow","headerRow","rowClass","tag","first","charCodeAt","useTag","cellClass","getXLSX","XLSX","getXLSXLib","wbOptions","bookType","bookSST","sheetName","_normalizeExcelSheetName","_t","wb","SheetNames","Sheets","wsData","getXLSXRow","utils","aoa_to_sheet","workbook","workbookOptions","xlsx","write","name","substr","_xlsx","getPDF","includeImage","includeData","dataOptions","orientation","pageOrientation","image","getPdfmake","defaultMargins","doc","pageSize","pageMargins","defaultStyle","font","content","title","extraMargin","text","bold","margin","document","location","href","alignment","fit","getPageSizeFit","hasData","table","getPDFData","fonts","addFont","paths","normal","path","bytes","italics","bolditalics","extraFonts","success","_error","createPdf","getBase64","body","getPDFDataRow","headerRows","margins","newMargins","isNumber","sizes","A0","A1","A2","A3","A4","A5","A6","A7","A8","A9","A10","B0","B1","B2","B3","B4","B5","B6","B7","B8","B9","B10","C0","C1","C2","C3","C4","C5","C6","C7","C8","C9","C10","RA0","RA1","RA2","RA3","RA4","SRA0","SRA1","SRA2","SRA3","SRA4","EXECUTIVE","FOLIO","LEGAL","LETTER","TABLOID","fitSize","dataSource","isArray","newRow","_value","_field","keepOriginal","isDateField","Date","isNumericField","numberFormatter","isDurationField","durationFormatter","useTimestamps","getTime","useLocale","toLocaleString","dateFormatter","contentType","createElement","style","appendChild","removeChild","element","opacity","currentColor","getComputedStyle","getPropertyValue","match","parent","fromHex","fromCSS","blobDownloadSupport","link","parts","split","shift","decodeURIComponent","decoded","atob","e","blob","Blob","url","URL","createObjectURL","click","revokeObjectURL","chars","Array","charCode","Uint8Array","linkDownloadSupport","downloadSupport","res","_printViaCSS","_printViaIframe","scroll","documentElement","scrollTop","rule","getShadowRoot","nonce","originalTitle","img","Image","src","maxWidth","display","visibility","clipPath","isIOS","test","navigator","userAgent","MSStream","iframe","contentWindow","load","execCommand","supportedFormats","disabled","supportedExportTypes","MultiDisposer","CounterDisposer","rules","root","_prefix","ic","interfaceColors","disposer","increment","Disposer","exportingCSS","ExportingMenu","_inner","label","exportType","sublabel","menuElement","_menuElement","setPrivate","iconElement","_iconElement","_listElement","setAttribute","_applyClassNames","innerHTML","tabindex","toString","supports","ev","activeElement","keyCode","_activeItem","_handleClick","currentIndex","dir","newIndex","newItem","_handleItemFocus","stopImmediatePropagation","getRendererEvent","_ev","_isOver","loadDefaultCSS","_afterChanged","_itemElements","createItems","_cssDisposer","exporting","_dispose","_itemDisposers","x","valign","status","li","ariaLabel","callback","call","callbackTarget","_handleItemBlur","focus","contains","blur"],"sourceRoot":"webpack:///","x_google_ignoreList":[0,1,2,3,4]}