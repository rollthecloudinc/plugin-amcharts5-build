{"version":3,"file":"2822.js","mappings":"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","sources":["./node_modules/@amcharts/amcharts5/.internal/core/Registry.js","./node_modules/@amcharts/amcharts5/.internal/core/Root.js","./node_modules/@amcharts/amcharts5/.internal/core/Theme.js","./node_modules/@amcharts/amcharts5/.internal/core/render/Container.js","./node_modules/@amcharts/amcharts5/.internal/core/render/Graphics.js","./node_modules/@amcharts/amcharts5/.internal/core/render/GridLayout.js","./node_modules/@amcharts/amcharts5/.internal/core/render/HorizontalLayout.js","./node_modules/@amcharts/amcharts5/.internal/core/render/Label.js","./node_modules/@amcharts/amcharts5/.internal/core/render/Layout.js","./node_modules/@amcharts/amcharts5/.internal/core/render/PointedRectangle.js","./node_modules/@amcharts/amcharts5/.internal/core/render/Rectangle.js","./node_modules/@amcharts/amcharts5/.internal/core/render/Sprite.js","./node_modules/@amcharts/amcharts5/.internal/core/render/Text.js","./node_modules/@amcharts/amcharts5/.internal/core/render/Tooltip.js","./node_modules/@amcharts/amcharts5/.internal/core/render/VerticalLayout.js","./node_modules/@amcharts/amcharts5/.internal/core/render/backend/CanvasRenderer.js","./node_modules/@amcharts/amcharts5/.internal/core/render/backend/Renderer.js","./node_modules/@amcharts/amcharts5/.internal/core/render/patterns/Pattern.js","./node_modules/@amcharts/amcharts5/.internal/core/render/patterns/PicturePattern.js","./node_modules/@amcharts/amcharts5/.internal/core/util/Animation.js","./node_modules/@amcharts/amcharts5/.internal/core/util/Array.js","./node_modules/@amcharts/amcharts5/.internal/core/util/Children.js","./node_modules/@amcharts/amcharts5/.internal/core/util/Color.js","./node_modules/@amcharts/amcharts5/.internal/core/util/DateFormatter.js","./node_modules/@amcharts/amcharts5/.internal/core/util/Disposer.js","./node_modules/@amcharts/amcharts5/.internal/core/util/DurationFormatter.js","./node_modules/@amcharts/amcharts5/.internal/core/util/Ease.js","./node_modules/@amcharts/amcharts5/.internal/core/util/Entity.js","./node_modules/@amcharts/amcharts5/.internal/core/util/EventDispatcher.js","./node_modules/@amcharts/amcharts5/.internal/core/util/InterfaceColors.js","./node_modules/@amcharts/amcharts5/.internal/core/util/Language.js","./node_modules/@amcharts/amcharts5/.internal/core/util/List.js","./node_modules/@amcharts/amcharts5/.internal/core/util/Math.js","./node_modules/@amcharts/amcharts5/.internal/core/util/Matrix.js","./node_modules/@amcharts/amcharts5/.internal/core/util/NumberFormatter.js","./node_modules/@amcharts/amcharts5/.internal/core/util/Object.js","./node_modules/@amcharts/amcharts5/.internal/core/util/Order.js","./node_modules/@amcharts/amcharts5/.internal/core/util/Percent.js","./node_modules/@amcharts/amcharts5/.internal/core/util/PopulateString.js","./node_modules/@amcharts/amcharts5/.internal/core/util/ResizeSensor.js","./node_modules/@amcharts/amcharts5/.internal/core/util/States.js","./node_modules/@amcharts/amcharts5/.internal/core/util/Template.js","./node_modules/@amcharts/amcharts5/.internal/core/util/TextFormatter.js","./node_modules/@amcharts/amcharts5/.internal/core/util/Timezone.js","./node_modules/@amcharts/amcharts5/.internal/core/util/Type.js","./node_modules/@amcharts/amcharts5/.internal/core/util/Utils.js","./node_modules/@amcharts/amcharts5/.internal/plugins/json/Classes.js","./node_modules/@amcharts/amcharts5/.internal/plugins/json/Json.js","./node_modules/@amcharts/amcharts5/.internal/themes/AnimatedTheme.js","./node_modules/@amcharts/amcharts5/.internal/themes/DarkTheme.js","./node_modules/@amcharts/amcharts5/.internal/themes/DefaultTheme.js","./node_modules/@amcharts/amcharts5/locales/en.js","./node_modules/@amcharts/amcharts5/themes/Animated.js","./node_modules/@amcharts/amcharts5/themes/Dark.js","./node_modules/svg-arc-to-cubic-bezier/modules/index.js","./projects/plugin/src/app/json-chart-render.component.ts"],"sourcesContent":["/**\r\n * @ignore\r\n */\r\nexport class Registry {\r\n    constructor() {\r\n        /**\r\n         * Currently running version of amCharts.\r\n         */\r\n        Object.defineProperty(this, \"version\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: \"5.3.15\"\r\n        });\r\n        /**\r\n         * List of applied licenses.\r\n         * @ignore\r\n         */\r\n        Object.defineProperty(this, \"licenses\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n        /**\r\n         * Entities that have their `id` setting set.\r\n         */\r\n        Object.defineProperty(this, \"entitiesById\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        /**\r\n         * All created [[Root]] elements.\r\n         */\r\n        Object.defineProperty(this, \"rootElements\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n    }\r\n}\r\n/**\r\n    * @ignore\r\n */\r\nexport const registry = new Registry();\r\n/**\r\n * Adds a license, e.g.:\r\n *\r\n * ```TypeScript\r\n * am5.addLicense(\"xxxxxxxx\");\r\n * ```\r\n * ```JavaScript\r\n * am5.addLicense(\"xxxxxxxx\");\r\n * ```\r\n *\r\n * Multiple licenses can be added to cover for multiple products.\r\n *\r\n * @param  license  License key\r\n */\r\nexport function addLicense(license) {\r\n    registry.licenses.push(license);\r\n}\r\n/**\r\n * Disposes all [[Root]] elements.\r\n */\r\nexport function disposeAllRootElements() {\r\n    let root;\r\n    while (root = registry.rootElements.pop()) {\r\n        root.dispose();\r\n    }\r\n}\r\n","import { Container } from \"./render/Container\";\r\nimport { Text } from \"./render/Text\";\r\nimport { HorizontalLayout } from \"./render/HorizontalLayout\";\r\nimport { VerticalLayout } from \"./render/VerticalLayout\";\r\nimport { GridLayout } from \"./render/GridLayout\";\r\nimport { Disposer } from \"./util/Disposer\";\r\nimport { ResizeSensor } from \"./util/ResizeSensor\";\r\nimport { InterfaceColors } from \"./util/InterfaceColors\";\r\nimport { Graphics } from \"./render/Graphics\";\r\nimport { Rectangle } from \"./render/Rectangle\";\r\nimport { Tooltip } from \"./render/Tooltip\";\r\nimport { NumberFormatter } from \"./util/NumberFormatter\";\r\nimport { DateFormatter } from \"./util/DateFormatter\";\r\nimport { DurationFormatter } from \"./util/DurationFormatter\";\r\nimport { Language } from \"./util/Language\";\r\nimport { EventDispatcher } from \"./util/EventDispatcher\";\r\nimport { DefaultTheme } from \"../themes/DefaultTheme\";\r\nimport { CanvasRenderer } from \"./render/backend/CanvasRenderer\";\r\nimport { p100, percent } from \"./util/Percent\";\r\nimport { color } from \"./util/Color\";\r\nimport { populateString } from \"./util/PopulateString\";\r\nimport { registry } from \"./Registry\";\r\nimport * as $order from \"./util/Order\";\r\nimport * as $array from \"./util/Array\";\r\nimport * as $object from \"./util/Object\";\r\nimport * as $utils from \"./util/Utils\";\r\nimport * as $type from \"./util/Type\";\r\nimport en from \"../../locales/en\";\r\nfunction rAF(fps, callback) {\r\n    if (fps == null) {\r\n        requestAnimationFrame(callback);\r\n    }\r\n    else {\r\n        setTimeout(() => {\r\n            requestAnimationFrame(callback);\r\n        }, 1000 / fps);\r\n    }\r\n}\r\n// TODO implement Disposer\r\n/**\r\n * Root element of the chart.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/getting-started/#Root_element} for more info\r\n */\r\nexport class Root {\r\n    constructor(id, settings = {}, isReal) {\r\n        /**\r\n         * A reference to original chart container (div element).\r\n         */\r\n        Object.defineProperty(this, \"dom\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_inner\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_settings\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_isDirty\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(this, \"_isDirtyParents\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(this, \"_dirty\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        Object.defineProperty(this, \"_dirtyParents\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        Object.defineProperty(this, \"_dirtyBounds\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        Object.defineProperty(this, \"_dirtyPositions\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        Object.defineProperty(this, \"_ticker\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: null\r\n        });\r\n        Object.defineProperty(this, \"_tickers\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n        Object.defineProperty(this, \"_updateTick\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: true\r\n        });\r\n        /**\r\n         * Root's event dispatcher.\r\n         *\r\n         * @see {@link https://www.amcharts.com/docs/v5/concepts/events/} for more info\r\n         */\r\n        Object.defineProperty(this, \"events\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new EventDispatcher()\r\n        });\r\n        /**\r\n         * @ignore\r\n         * @todo needs description\r\n         */\r\n        Object.defineProperty(this, \"animationTime\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: null\r\n        });\r\n        Object.defineProperty(this, \"_animations\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n        Object.defineProperty(this, \"_renderer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_rootContainer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        /**\r\n         * Main content container.\r\n         */\r\n        Object.defineProperty(this, \"container\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        /**\r\n         * A [[Container]] used to display tooltips in.\r\n         */\r\n        Object.defineProperty(this, \"tooltipContainer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_tooltipContainerSettings\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_tooltip\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        // Locale-related\r\n        /**\r\n         * @ignore\r\n         */\r\n        Object.defineProperty(this, \"language\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: Language.new(this, {})\r\n        });\r\n        /**\r\n         * Locale used by the chart.\r\n         *\r\n         * @see {@link https://www.amcharts.com/docs/v5/concepts/locales/}\r\n         */\r\n        Object.defineProperty(this, \"locale\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: en\r\n        });\r\n        // Date-time related\r\n        /**\r\n         * Use UTC when formatting date/time.\r\n         *\r\n         * @see {@link https://www.amcharts.com/docs/v5/concepts/formatters/formatting-dates/#UTC_and_time_zones} for more info\r\n         */\r\n        Object.defineProperty(this, \"utc\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        /**\r\n         * If set, will format date/time in specific time zone.\r\n         *\r\n         * The value should be named time zone, e.g.:\r\n         * `\"America/Vancouver\"`, `\"Australia/Sydney\"`, `\"UTC\"`.\r\n         *\r\n         * @see {@link https://www.amcharts.com/docs/v5/getting-started/root-element/#Time_zone} for more info\r\n         * @since 5.1.0\r\n         */\r\n        Object.defineProperty(this, \"timezone\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        /**\r\n         * The maximum FPS that the Root will run at.\r\n         *\r\n         * If `undefined` it will run at the highest FPS.\r\n         *\r\n         * @see {@link https://www.amcharts.com/docs/v5/getting-started/root-element/#Performance} for more info\r\n         */\r\n        Object.defineProperty(this, \"fps\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        /**\r\n         * Number formatter.\r\n         *\r\n         * @see {@link https://www.amcharts.com/docs/v5/concepts/formatters/formatting-numbers/} for more info\r\n         */\r\n        Object.defineProperty(this, \"numberFormatter\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: NumberFormatter.new(this, {})\r\n        });\r\n        /**\r\n         * Date/time formatter.\r\n         *\r\n         * @see {@link https://www.amcharts.com/docs/v5/concepts/formatters/formatting-dates/} for more info\r\n         */\r\n        Object.defineProperty(this, \"dateFormatter\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: DateFormatter.new(this, {})\r\n        });\r\n        /**\r\n         * Duration formatter.\r\n         *\r\n         * @see {@link https://www.amcharts.com/docs/v5/concepts/formatters/formatting-dates/} for more info\r\n         */\r\n        Object.defineProperty(this, \"durationFormatter\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: DurationFormatter.new(this, {})\r\n        });\r\n        // Accessibility\r\n        /**\r\n         * Global tab index for using for the whole chart\r\n         *\r\n         * @see {@link https://www.amcharts.com/docs/v5/concepts/accessibility/} for more info\r\n         */\r\n        Object.defineProperty(this, \"tabindex\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        //@todo maybe make this better\r\n        Object.defineProperty(this, \"_tabindexes\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n        Object.defineProperty(this, \"_a11yD\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(this, \"_focusElementDirty\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(this, \"_focusElementContainer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_focusedSprite\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_isShift\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_keyboardDragPoint\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_tooltipElementContainer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_readerAlertElement\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_logo\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_tooltipDiv\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        /**\r\n         * Used for dynamically-created CSS and JavaScript with strict source policies.\r\n         */\r\n        Object.defineProperty(this, \"nonce\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        /**\r\n         * Special color set to be used for various controls.\r\n         *\r\n         * @see {@link https://www.amcharts.com/docs/v5/concepts/colors-gradients-and-patterns/#Interface_colors} for more info\r\n         */\r\n        Object.defineProperty(this, \"interfaceColors\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        /**\r\n         * An instance of vertical layout object that can be used to set `layout` setting\r\n         * of a [[Container]].\r\n         *\r\n         * @default VerticalLayout.new()\r\n         */\r\n        Object.defineProperty(this, \"verticalLayout\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: VerticalLayout.new(this, {})\r\n        });\r\n        /**\r\n         * An instance of horizontal layout object that can be used to set `layout` setting\r\n         * of a [[Container]].\r\n         *\r\n         * @default HorizontalLayout.new()\r\n         */\r\n        Object.defineProperty(this, \"horizontalLayout\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: HorizontalLayout.new(this, {})\r\n        });\r\n        /**\r\n         * An instance of grid layout object that can be used to set `layout` setting\r\n         * of a [[Container]].\r\n         *\r\n         * @default VerticalLayout.new()\r\n         */\r\n        Object.defineProperty(this, \"gridLayout\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: GridLayout.new(this, {})\r\n        });\r\n        Object.defineProperty(this, \"_paused\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        /**\r\n         * Indicates whether chart should resized automatically when parent container\r\n         * width and/or height changes.\r\n         *\r\n         * If disabled (`autoResize = false`) you can make the chart resize manually\r\n         * by calling root element's `resize()` method.\r\n         */\r\n        Object.defineProperty(this, \"autoResize\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: true\r\n        });\r\n        Object.defineProperty(this, \"_fontHash\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: \"\"\r\n        });\r\n        Object.defineProperty(this, \"_isDisposed\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(this, \"_disposers\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n        Object.defineProperty(this, \"_resizeSensorDisposer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_tooltips\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n        Object.defineProperty(this, \"_htmlElementContainer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_htmlEnabledContainers\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n        if (!isReal) {\r\n            throw new Error(\"You cannot use `new Class()`, instead use `Class.new()`\");\r\n        }\r\n        this._settings = settings;\r\n        if (settings.accessible == false) {\r\n            this._a11yD = true;\r\n        }\r\n        if (settings.useSafeResolution == null) {\r\n            settings.useSafeResolution = true;\r\n        }\r\n        let resolution;\r\n        if (settings.useSafeResolution) {\r\n            resolution = $utils.getSafeResolution();\r\n        }\r\n        this._renderer = new CanvasRenderer(resolution);\r\n        let dom;\r\n        if (id instanceof HTMLElement) {\r\n            dom = id;\r\n        }\r\n        else {\r\n            dom = document.getElementById(id);\r\n        }\r\n        $array.each(registry.rootElements, (root) => {\r\n            if (root.dom === dom) {\r\n                throw new Error(\"You cannot have multiple Roots on the same DOM node\");\r\n            }\r\n        });\r\n        this.interfaceColors = InterfaceColors.new(this, {});\r\n        if (dom === null) {\r\n            throw new Error(\"Could not find HTML element with id `\" + id + \"`\");\r\n        }\r\n        this.dom = dom;\r\n        let inner = document.createElement(\"div\");\r\n        inner.style.position = \"relative\";\r\n        inner.style.height = \"100%\";\r\n        dom.appendChild(inner);\r\n        const tooltipContainerBounds = settings.tooltipContainerBounds;\r\n        if (tooltipContainerBounds) {\r\n            this._tooltipContainerSettings = tooltipContainerBounds;\r\n        }\r\n        this._inner = inner;\r\n        this._updateComputedStyles();\r\n        registry.rootElements.push(this);\r\n    }\r\n    static new(id, settings) {\r\n        const root = new Root(id, settings, true);\r\n        root._init();\r\n        return root;\r\n    }\r\n    moveDOM(id) {\r\n        let dom;\r\n        if (id instanceof HTMLElement) {\r\n            dom = id;\r\n        }\r\n        else {\r\n            dom = document.getElementById(id);\r\n        }\r\n        if (dom) {\r\n            while (this.dom.childNodes.length > 0) {\r\n                dom.appendChild(this.dom.childNodes[0]);\r\n            }\r\n            this.dom = dom;\r\n            this._initResizeSensor();\r\n            this.resize();\r\n        }\r\n    }\r\n    _handleLogo() {\r\n        if (this._logo) {\r\n            const w = this.dom.offsetWidth;\r\n            const h = this.dom.offsetHeight;\r\n            if ((w <= 150) || (h <= 60)) {\r\n                this._logo.hide();\r\n            }\r\n            else {\r\n                this._logo.show();\r\n            }\r\n        }\r\n    }\r\n    _showBranding() {\r\n        if (!this._logo) {\r\n            const logo = this.tooltipContainer.children.push(Container.new(this, {\r\n                interactive: true,\r\n                interactiveChildren: false,\r\n                position: \"absolute\",\r\n                setStateOnChildren: true,\r\n                paddingTop: 9,\r\n                paddingRight: 9,\r\n                paddingBottom: 9,\r\n                paddingLeft: 9,\r\n                scale: .6,\r\n                y: percent(100),\r\n                centerY: p100,\r\n                tooltipText: \"Created using amCharts 5\",\r\n                tooltipX: p100,\r\n                cursorOverStyle: \"pointer\",\r\n                background: Rectangle.new(this, {\r\n                    fill: color(0x474758),\r\n                    fillOpacity: 0,\r\n                    tooltipY: 5\r\n                })\r\n            }));\r\n            const tooltip = Tooltip.new(this, {\r\n                pointerOrientation: \"horizontal\",\r\n                paddingTop: 4,\r\n                paddingRight: 7,\r\n                paddingBottom: 4,\r\n                paddingLeft: 7\r\n            });\r\n            tooltip.label.setAll({\r\n                fontSize: 12\r\n            });\r\n            tooltip.get(\"background\").setAll({\r\n                fill: this.interfaceColors.get(\"background\"),\r\n                stroke: this.interfaceColors.get(\"grid\"),\r\n                strokeOpacity: 0.3\r\n            });\r\n            logo.set(\"tooltip\", tooltip);\r\n            logo.events.on(\"click\", () => {\r\n                window.open(\"https://www.amcharts.com/\", \"_blank\");\r\n            });\r\n            logo.states.create(\"hover\", {});\r\n            const m = logo.children.push(Graphics.new(this, {\r\n                stroke: color(0xcccccc),\r\n                strokeWidth: 3,\r\n                svgPath: \"M5 25 L13 25h13.6c3.4 0 6 0 10.3-4.3s5.2-12 8.6-12c3.4 0 4.3 8.6 7.7 8.6M83.4 25H79.8c-3.4 0-6 0-10.3-4.3s-5.2-12-8.6-12-4.3 8.6-7.7 8.6\"\r\n            }));\r\n            m.states.create(\"hover\", { stroke: color(0x3CABFF) });\r\n            const a = logo.children.push(Graphics.new(this, {\r\n                stroke: color(0x888888),\r\n                strokeWidth: 3,\r\n                svgPath: \"M83.4 25h-31C37 25 39.5 4.4 28.4 4.4S18.9 24.2 4.3 25H0\"\r\n            }));\r\n            a.states.create(\"hover\", { stroke: color(0x474758) });\r\n            //logo.set(\"tooltip\", this._tooltip);\r\n            //logo.setPrivate(\"tooltipTarget\", logo.get(\"background\"));\r\n            this._logo = logo;\r\n            this._handleLogo();\r\n        }\r\n    }\r\n    _getRealSize() {\r\n        return this.dom.getBoundingClientRect();\r\n    }\r\n    _getCalculatedSize(rect) {\r\n        if (this._settings.calculateSize) {\r\n            return this._settings.calculateSize(rect);\r\n        }\r\n        else {\r\n            return {\r\n                width: rect.width,\r\n                height: rect.height,\r\n            };\r\n        }\r\n    }\r\n    _init() {\r\n        const renderer = this._renderer;\r\n        const rect = this._getRealSize();\r\n        const size = this._getCalculatedSize(rect);\r\n        const width = Math.floor(size.width);\r\n        const height = Math.floor(size.height);\r\n        const realWidth = Math.floor(rect.width);\r\n        const realHeight = Math.floor(rect.height);\r\n        const rootContainer = Container.new(this, {\r\n            visible: true,\r\n            width: realWidth,\r\n            height: realHeight,\r\n        });\r\n        this._rootContainer = rootContainer;\r\n        this._rootContainer._defaultThemes.push(DefaultTheme.new(this));\r\n        const container = rootContainer.children.push(Container.new(this, { visible: true, width: p100, height: p100 }));\r\n        this.container = container;\r\n        renderer.resize(realWidth, realHeight, width, height);\r\n        //@todo: better appendChild - refer\r\n        this._inner.appendChild(renderer.view);\r\n        // TODO: TMP TMP TMP for testing only, remove\r\n        //renderer.debugGhostView = true;\r\n        this._initResizeSensor();\r\n        // HTML content holder\r\n        const htmlElementContainer = document.createElement(\"div\");\r\n        this._htmlElementContainer = htmlElementContainer;\r\n        htmlElementContainer.className = \"am5-html-container\";\r\n        htmlElementContainer.style.position = \"absolute\";\r\n        htmlElementContainer.style.pointerEvents = \"none\";\r\n        if (!this._tooltipContainerSettings) {\r\n            htmlElementContainer.style.overflow = \"hidden\";\r\n        }\r\n        this._inner.appendChild(htmlElementContainer);\r\n        if (this._a11yD !== true) {\r\n            // Create element which is used to make announcements to screen reader\r\n            const readerAlertElement = document.createElement(\"div\");\r\n            readerAlertElement.className = \"am5-reader-container\";\r\n            readerAlertElement.setAttribute(\"role\", \"alert\");\r\n            // readerAlertElement.style.zIndex = \"-100000\";\r\n            // readerAlertElement.style.opacity = \"0\";\r\n            // readerAlertElement.style.top = \"0\";\r\n            readerAlertElement.style.position = \"absolute\";\r\n            readerAlertElement.style.width = \"1px\";\r\n            readerAlertElement.style.height = \"1px\";\r\n            readerAlertElement.style.overflow = \"hidden\";\r\n            readerAlertElement.style.clip = \"rect(1px, 1px, 1px, 1px)\";\r\n            this._readerAlertElement = readerAlertElement;\r\n            this._inner.appendChild(this._readerAlertElement);\r\n            const focusElementContainer = document.createElement(\"div\");\r\n            focusElementContainer.className = \"am5-focus-container\";\r\n            focusElementContainer.style.position = \"absolute\";\r\n            focusElementContainer.style.pointerEvents = \"none\";\r\n            focusElementContainer.style.top = \"0px\";\r\n            focusElementContainer.style.left = \"0px\";\r\n            focusElementContainer.style.overflow = \"hidden\";\r\n            focusElementContainer.style.width = width + \"px\";\r\n            focusElementContainer.style.height = height + \"px\";\r\n            focusElementContainer.setAttribute(\"role\", \"application\");\r\n            $utils.setInteractive(focusElementContainer, false);\r\n            this._focusElementContainer = focusElementContainer;\r\n            this._inner.appendChild(this._focusElementContainer);\r\n            const tooltipElementContainer = document.createElement(\"div\");\r\n            this._tooltipElementContainer = tooltipElementContainer;\r\n            tooltipElementContainer.className = \"am5-tooltip-container\";\r\n            this._inner.appendChild(tooltipElementContainer);\r\n            // Add keyboard events for accessibility, e.g. simulating drag with arrow\r\n            // keys and click with ENTER\r\n            if ($utils.supports(\"keyboardevents\")) {\r\n                this._disposers.push($utils.addEventListener(window, \"keydown\", (ev) => {\r\n                    if (ev.keyCode == 16) {\r\n                        this._isShift = true;\r\n                    }\r\n                    else if (ev.keyCode == 9) {\r\n                        this._isShift = ev.shiftKey;\r\n                    }\r\n                }));\r\n                this._disposers.push($utils.addEventListener(window, \"keyup\", (ev) => {\r\n                    if (ev.keyCode == 16) {\r\n                        this._isShift = false;\r\n                    }\r\n                }));\r\n                this._disposers.push($utils.addEventListener(focusElementContainer, \"keydown\", (ev) => {\r\n                    const focusedSprite = this._focusedSprite;\r\n                    if (focusedSprite) {\r\n                        if (ev.keyCode == 27) {\r\n                            // ESC pressed - lose current focus\r\n                            $utils.blur();\r\n                            this._focusedSprite = undefined;\r\n                        }\r\n                        let dragOffsetX = 0;\r\n                        let dragOffsetY = 0;\r\n                        // TODO: figure out if using bogus MouseEvent is fine, or it will\r\n                        // fail on some platforms\r\n                        switch (ev.keyCode) {\r\n                            case 13:\r\n                                ev.preventDefault();\r\n                                const downEvent = renderer.getEvent(new MouseEvent(\"click\"));\r\n                                focusedSprite.events.dispatch(\"click\", {\r\n                                    type: \"click\",\r\n                                    originalEvent: downEvent.event,\r\n                                    point: downEvent.point,\r\n                                    simulated: true,\r\n                                    target: focusedSprite\r\n                                });\r\n                                return;\r\n                            case 37:\r\n                                dragOffsetX = -6;\r\n                                break;\r\n                            case 39:\r\n                                dragOffsetX = 6;\r\n                                break;\r\n                            case 38:\r\n                                dragOffsetY = -6;\r\n                                break;\r\n                            case 40:\r\n                                dragOffsetY = 6;\r\n                                break;\r\n                            default:\r\n                                return;\r\n                        }\r\n                        if (dragOffsetX != 0 || dragOffsetY != 0) {\r\n                            ev.preventDefault();\r\n                            if (!focusedSprite.isDragging()) {\r\n                                // Start dragging\r\n                                this._keyboardDragPoint = {\r\n                                    x: 0,\r\n                                    y: 0\r\n                                };\r\n                                const downEvent = renderer.getEvent(new MouseEvent(\"mousedown\", {\r\n                                    clientX: 0,\r\n                                    clientY: 0\r\n                                }));\r\n                                if (focusedSprite.events.isEnabled(\"pointerdown\")) {\r\n                                    focusedSprite.events.dispatch(\"pointerdown\", {\r\n                                        type: \"pointerdown\",\r\n                                        originalEvent: downEvent.event,\r\n                                        point: downEvent.point,\r\n                                        simulated: true,\r\n                                        target: focusedSprite\r\n                                    });\r\n                                }\r\n                            }\r\n                            else {\r\n                                // Move focus marker\r\n                                //this._positionFocusElement(focusedSprite);\r\n                            }\r\n                            // Move incrementally\r\n                            const dragPoint = this._keyboardDragPoint;\r\n                            dragPoint.x += dragOffsetX;\r\n                            dragPoint.y += dragOffsetY;\r\n                            const moveEvent = renderer.getEvent(new MouseEvent(\"mousemove\", {\r\n                                clientX: dragPoint.x,\r\n                                clientY: dragPoint.y\r\n                            }), false);\r\n                            if (focusedSprite.events.isEnabled(\"globalpointermove\")) {\r\n                                focusedSprite.events.dispatch(\"globalpointermove\", {\r\n                                    type: \"globalpointermove\",\r\n                                    originalEvent: moveEvent.event,\r\n                                    point: moveEvent.point,\r\n                                    simulated: true,\r\n                                    target: focusedSprite\r\n                                });\r\n                            }\r\n                        }\r\n                    }\r\n                }));\r\n                this._disposers.push($utils.addEventListener(focusElementContainer, \"keyup\", (ev) => {\r\n                    if (this._focusedSprite) {\r\n                        const focusedSprite = this._focusedSprite;\r\n                        const keyCode = ev.keyCode;\r\n                        switch (keyCode) {\r\n                            case 37:\r\n                            case 39:\r\n                            case 38:\r\n                            case 40:\r\n                                if (focusedSprite.isDragging()) {\r\n                                    // Simulate drag stop\r\n                                    const dragPoint = this._keyboardDragPoint;\r\n                                    const upEvent = renderer.getEvent(new MouseEvent(\"mouseup\", {\r\n                                        clientX: dragPoint.x,\r\n                                        clientY: dragPoint.y\r\n                                    }));\r\n                                    if (focusedSprite.events.isEnabled(\"globalpointerup\")) {\r\n                                        focusedSprite.events.dispatch(\"globalpointerup\", {\r\n                                            type: \"globalpointerup\",\r\n                                            originalEvent: upEvent.event,\r\n                                            point: upEvent.point,\r\n                                            simulated: true,\r\n                                            target: focusedSprite\r\n                                        });\r\n                                    }\r\n                                    //this._positionFocusElement(focusedSprite);\r\n                                    this._keyboardDragPoint = undefined;\r\n                                    // @todo dispatch mouseup event instead of calling dragStop?\r\n                                    // this._dispatchEvent(\"globalpointerup\", target, upEvent);\r\n                                    return;\r\n                                }\r\n                                else if (focusedSprite.get(\"focusableGroup\")) {\r\n                                    // Find next item in focusable group\r\n                                    const group = focusedSprite.get(\"focusableGroup\");\r\n                                    const items = this._tabindexes.filter(item => item.get(\"focusableGroup\") == group);\r\n                                    let index = items.indexOf(focusedSprite);\r\n                                    const lastIndex = items.length - 1;\r\n                                    index += (keyCode == 39 || keyCode == 40) ? 1 : -1;\r\n                                    if (index < 0) {\r\n                                        index = lastIndex;\r\n                                    }\r\n                                    else if (index > lastIndex) {\r\n                                        index = 0;\r\n                                    }\r\n                                    $utils.focus(items[index].getPrivate(\"focusElement\").dom);\r\n                                }\r\n                                break;\r\n                        }\r\n                    }\r\n                }));\r\n            }\r\n        }\r\n        this._startTicker();\r\n        this.setThemes([]);\r\n        this._addTooltip();\r\n        if (!this._hasLicense()) {\r\n            this._showBranding();\r\n        }\r\n    }\r\n    _initResizeSensor() {\r\n        if (this._resizeSensorDisposer) {\r\n            this._resizeSensorDisposer.dispose();\r\n        }\r\n        this._resizeSensorDisposer = new ResizeSensor(this.dom, () => {\r\n            if (this.autoResize) {\r\n                this.resize();\r\n            }\r\n        });\r\n        this._disposers.push(this._resizeSensorDisposer);\r\n    }\r\n    /**\r\n     * If automatic resizing of char is disabled (`root.autoResize = false`), it\r\n     * can be resized manually by calling this method.\r\n     */\r\n    resize() {\r\n        const rect = this._getRealSize();\r\n        const size = this._getCalculatedSize(rect);\r\n        const w = Math.floor(size.width);\r\n        const h = Math.floor(size.height);\r\n        if (w > 0 && h > 0) {\r\n            const realWidth = Math.floor(rect.width);\r\n            const realHeight = Math.floor(rect.height);\r\n            const htmlElementContainer = this._htmlElementContainer;\r\n            htmlElementContainer.style.width = w + \"px\";\r\n            htmlElementContainer.style.height = h + \"px\";\r\n            if (this._a11yD !== true) {\r\n                const focusElementContainer = this._focusElementContainer;\r\n                focusElementContainer.style.width = w + \"px\";\r\n                focusElementContainer.style.height = h + \"px\";\r\n            }\r\n            this._renderer.resize(realWidth, realHeight, w, h);\r\n            const rootContainer = this._rootContainer;\r\n            rootContainer.setPrivate(\"width\", realWidth);\r\n            rootContainer.setPrivate(\"height\", realHeight);\r\n            this._render();\r\n            this._handleLogo();\r\n        }\r\n    }\r\n    _render() {\r\n        this._renderer.render(this._rootContainer._display);\r\n        if (this._focusElementDirty) {\r\n            this._updateCurrentFocus();\r\n            this._focusElementDirty = false;\r\n        }\r\n    }\r\n    _runTickers(currentTime) {\r\n        $array.each(this._tickers, (f) => {\r\n            f(currentTime);\r\n        });\r\n    }\r\n    _runAnimations(currentTime) {\r\n        $array.keepIf(this._animations, (animation) => {\r\n            return animation._runAnimation(currentTime);\r\n        });\r\n    }\r\n    _runDirties() {\r\n        //console.log(\"tick **************************************************************\");\r\n        let allParents = {};\r\n        while (this._isDirtyParents) {\r\n            // This must be before calling _prepareChildren\r\n            this._isDirtyParents = false;\r\n            $object.keys(this._dirtyParents).forEach((key) => {\r\n                const parent = this._dirtyParents[key];\r\n                delete this._dirtyParents[key];\r\n                if (!parent.isDisposed()) {\r\n                    allParents[parent.uid] = parent;\r\n                    parent._prepareChildren();\r\n                }\r\n            });\r\n        }\r\n        $object.keys(allParents).forEach((key) => {\r\n            allParents[key]._updateChildren();\r\n        });\r\n        const objects = [];\r\n        //\t\tconsole.log(\"_beforeChanged\")\r\n        $object.keys(this._dirty).forEach((key) => {\r\n            const entity = this._dirty[key];\r\n            if (entity.isDisposed()) {\r\n                delete this._dirty[entity.uid];\r\n            }\r\n            else {\r\n                objects.push(entity);\r\n                entity._beforeChanged();\r\n            }\r\n        });\r\n        //\t\tconsole.log(\"_changed\")\r\n        objects.forEach((entity) => {\r\n            entity._changed();\r\n            delete this._dirty[entity.uid];\r\n            entity._clearDirty();\r\n        });\r\n        this._isDirty = false;\r\n        const depths = {};\r\n        const bounds = [];\r\n        $object.keys(this._dirtyBounds).forEach((key) => {\r\n            const entity = this._dirtyBounds[key];\r\n            delete this._dirtyBounds[key];\r\n            if (!entity.isDisposed()) {\r\n                depths[entity.uid] = entity.depth();\r\n                bounds.push(entity);\r\n            }\r\n        });\r\n        this._positionHTMLElements();\r\n        // High depth -> low depth\r\n        bounds.sort((x, y) => {\r\n            return $order.compare(depths[y.uid], depths[x.uid]);\r\n        });\r\n        //\t\tconsole.log(\"_updateBounds\")\r\n        bounds.forEach((entity) => {\r\n            entity._updateBounds();\r\n        });\r\n        //\t\tconsole.log(\"_updatePosition\")\r\n        const dirtyPositions = this._dirtyPositions;\r\n        $object.keys(dirtyPositions).forEach((key) => {\r\n            const sprite = dirtyPositions[key];\r\n            delete dirtyPositions[key];\r\n            if (!sprite.isDisposed()) {\r\n                sprite._updatePosition();\r\n            }\r\n        });\r\n        //\t\tconsole.log(\"_afterChanged\")\r\n        objects.forEach((entity) => {\r\n            entity._afterChanged();\r\n        });\r\n    }\r\n    _renderFrame(currentTime) {\r\n        if (this._updateTick) {\r\n            if (this.events.isEnabled(\"framestarted\")) {\r\n                this.events.dispatch(\"framestarted\", {\r\n                    type: \"framestarted\",\r\n                    target: this,\r\n                    timestamp: currentTime,\r\n                });\r\n            }\r\n            this._checkComputedStyles();\r\n            this._runTickers(currentTime);\r\n            this._runAnimations(currentTime);\r\n            this._runDirties();\r\n            this._render();\r\n            this._positionHTMLElements();\r\n            if (this.events.isEnabled(\"frameended\")) {\r\n                this.events.dispatch(\"frameended\", {\r\n                    type: \"frameended\",\r\n                    target: this,\r\n                    timestamp: currentTime,\r\n                });\r\n            }\r\n            return this._tickers.length === 0 &&\r\n                this._animations.length === 0 &&\r\n                !this._isDirty;\r\n        }\r\n        else {\r\n            return true;\r\n        }\r\n    }\r\n    _runTicker(currentTime, now) {\r\n        if (!this.isDisposed()) {\r\n            this.animationTime = currentTime;\r\n            const done = this._renderFrame(currentTime);\r\n            // No more work to do\r\n            if (done) {\r\n                this._ticker = null;\r\n                this.animationTime = null;\r\n            }\r\n            else {\r\n                if (!this._paused) {\r\n                    if (now) {\r\n                        this._ticker;\r\n                    }\r\n                    else {\r\n                        rAF(this.fps, this._ticker);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n    _runTickerNow(timeout = 10000) {\r\n        if (!this.isDisposed()) {\r\n            const endTime = performance.now() + timeout;\r\n            for (;;) {\r\n                const currentTime = performance.now();\r\n                if (currentTime >= endTime) {\r\n                    this.animationTime = null;\r\n                    break;\r\n                }\r\n                this.animationTime = currentTime;\r\n                const done = this._renderFrame(currentTime);\r\n                if (done) {\r\n                    this.animationTime = null;\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    _startTicker() {\r\n        if (this._ticker === null) {\r\n            this.animationTime = null;\r\n            this._ticker = (currentTime) => {\r\n                this._runTicker(currentTime);\r\n            };\r\n            rAF(this.fps, this._ticker);\r\n        }\r\n    }\r\n    /**\r\n     * Returns whether the root is updating or not.\r\n     */\r\n    get updateTick() {\r\n        return this._updateTick;\r\n    }\r\n    /**\r\n     * Enables or disables the root updating.\r\n     */\r\n    set updateTick(value) {\r\n        this._updateTick = value;\r\n        if (value) {\r\n            this._startTicker();\r\n        }\r\n    }\r\n    _addDirtyEntity(entity) {\r\n        if (this._dirty[entity.uid] === undefined) {\r\n            this._isDirty = true;\r\n            this._dirty[entity.uid] = entity;\r\n            this._startTicker();\r\n        }\r\n    }\r\n    _addDirtyParent(parent) {\r\n        if (this._dirtyParents[parent.uid] === undefined) {\r\n            this._isDirty = true;\r\n            this._isDirtyParents = true;\r\n            this._dirtyParents[parent.uid] = parent;\r\n            this._startTicker();\r\n        }\r\n    }\r\n    _addDirtyBounds(entity) {\r\n        if (this._dirtyBounds[entity.uid] === undefined) {\r\n            this._isDirty = true;\r\n            this._dirtyBounds[entity.uid] = entity;\r\n            this._startTicker();\r\n        }\r\n    }\r\n    _addDirtyPosition(sprite) {\r\n        if (this._dirtyPositions[sprite.uid] === undefined) {\r\n            this._isDirty = true;\r\n            this._dirtyPositions[sprite.uid] = sprite;\r\n            this._startTicker();\r\n        }\r\n    }\r\n    _addAnimation(animation) {\r\n        // TODO use numeric id instead\r\n        if (this._animations.indexOf(animation) === -1) {\r\n            this._animations.push(animation);\r\n            this._startTicker();\r\n        }\r\n    }\r\n    _markDirty() {\r\n        this._isDirty = true;\r\n    }\r\n    _markDirtyRedraw() {\r\n        this.events.once(\"frameended\", () => {\r\n            this._isDirty = true;\r\n            this._startTicker();\r\n        });\r\n    }\r\n    eachFrame(f) {\r\n        this._tickers.push(f);\r\n        this._startTicker();\r\n        return new Disposer(() => {\r\n            $array.removeFirst(this._tickers, f);\r\n        });\r\n    }\r\n    markDirtyGlobal(container) {\r\n        if (!container) {\r\n            container = this.container;\r\n        }\r\n        container.walkChildren((child) => {\r\n            if (child instanceof Container) {\r\n                this.markDirtyGlobal(child);\r\n            }\r\n            child.markDirty();\r\n            child.markDirtyBounds();\r\n        });\r\n    }\r\n    /**\r\n     * Returns width of the target container, in pixels.\r\n     *\r\n     * @return Width\r\n     */\r\n    width() {\r\n        // TODO make this more efficient, maybe just return the renderer's width ?\r\n        return Math.floor(this._getCalculatedSize(this._getRealSize()).width);\r\n    }\r\n    /**\r\n     * Returns height of the target container, in pixels.\r\n     *\r\n     * @return Height\r\n     */\r\n    height() {\r\n        // TODO make this more efficient, maybe just return the renderer's height ?\r\n        return Math.floor(this._getCalculatedSize(this._getRealSize()).height);\r\n    }\r\n    /**\r\n     * Disposes root and all the content in it.\r\n     */\r\n    dispose() {\r\n        if (!this._isDisposed) {\r\n            this._isDisposed = true;\r\n            this._rootContainer.dispose();\r\n            this._renderer.dispose();\r\n            this.horizontalLayout.dispose();\r\n            this.verticalLayout.dispose();\r\n            this.interfaceColors.dispose();\r\n            $array.each(this._disposers, (x) => {\r\n                x.dispose();\r\n            });\r\n            if (this._inner) {\r\n                $utils.removeElement(this._inner);\r\n            }\r\n            $array.remove(registry.rootElements, this);\r\n        }\r\n    }\r\n    /**\r\n     * Returns `true` if root element is disposed.\r\n     *\r\n     * @return Disposed?\r\n     */\r\n    isDisposed() {\r\n        return this._isDisposed;\r\n    }\r\n    /**\r\n     * Triggers screen reader read out a message.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/concepts/accessibility/} for more info\r\n     * @param  text  Alert text\r\n     */\r\n    readerAlert(text) {\r\n        if (this._a11yD !== true) {\r\n            this._readerAlertElement.innerHTML = $utils.stripTags(text);\r\n        }\r\n    }\r\n    /**\r\n     * Sets themes to be used for the chart.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/concepts/themes/} for more info\r\n     * @param  themes  A list of themes\r\n     */\r\n    setThemes(themes) {\r\n        this._rootContainer.set(\"themes\", themes);\r\n        // otherwise new themes are not applied\r\n        const tooltipContainer = this.tooltipContainer;\r\n        if (tooltipContainer) {\r\n            tooltipContainer._applyThemes();\r\n        }\r\n        // @todo review this\r\n        const interfaceColors = this.interfaceColors;\r\n        if (interfaceColors) {\r\n            interfaceColors._applyThemes();\r\n        }\r\n    }\r\n    _addTooltip() {\r\n        if (!this.tooltipContainer) {\r\n            const tooltipContainerSettings = this._tooltipContainerSettings;\r\n            const tooltipContainer = this._rootContainer.children.push(Container.new(this, {\r\n                position: \"absolute\",\r\n                isMeasured: false,\r\n                width: p100,\r\n                height: p100,\r\n                layer: tooltipContainerSettings ? 35 : 30,\r\n                layerMargin: tooltipContainerSettings ? tooltipContainerSettings : undefined\r\n            }));\r\n            this.tooltipContainer = tooltipContainer;\r\n            const tooltip = Tooltip.new(this, {});\r\n            this.container.set(\"tooltip\", tooltip);\r\n            tooltip.hide(0);\r\n            this._tooltip = tooltip;\r\n        }\r\n    }\r\n    /**\r\n     * Accesibility\r\n     */\r\n    _registerTabindexOrder(target) {\r\n        if (this._a11yD == true) {\r\n            return;\r\n        }\r\n        if (target.get(\"focusable\")) {\r\n            $array.pushOne(this._tabindexes, target);\r\n        }\r\n        else {\r\n            $array.remove(this._tabindexes, target);\r\n        }\r\n        this._invalidateTabindexes();\r\n    }\r\n    _unregisterTabindexOrder(target) {\r\n        if (this._a11yD == true) {\r\n            return;\r\n        }\r\n        $array.remove(this._tabindexes, target);\r\n        this._invalidateTabindexes();\r\n    }\r\n    _invalidateTabindexes() {\r\n        if (this._a11yD == true) {\r\n            return;\r\n        }\r\n        this._tabindexes.sort((a, b) => {\r\n            const aindex = a.get(\"tabindexOrder\", 0);\r\n            const bindex = b.get(\"tabindexOrder\", 0);\r\n            if (aindex == bindex) {\r\n                return 0;\r\n            }\r\n            else if (aindex > bindex) {\r\n                return 1;\r\n            }\r\n            else {\r\n                return -1;\r\n            }\r\n        });\r\n        const groups = [];\r\n        $array.each(this._tabindexes, (item, index) => {\r\n            if (!item.getPrivate(\"focusElement\")) {\r\n                this._makeFocusElement(index, item);\r\n            }\r\n            else {\r\n                this._moveFocusElement(index, item);\r\n            }\r\n            const group = item.get(\"focusableGroup\");\r\n            if (group) {\r\n                if (groups.indexOf(group) !== -1) {\r\n                    // Non-first element in the group, make it not directly focusable\r\n                    item.getPrivate(\"focusElement\").dom.setAttribute(\"tabindex\", \"-1\");\r\n                }\r\n                else {\r\n                    groups.push(group);\r\n                }\r\n            }\r\n        });\r\n    }\r\n    _updateCurrentFocus() {\r\n        if (this._a11yD == true) {\r\n            return;\r\n        }\r\n        if (this._focusedSprite) {\r\n            this._decorateFocusElement(this._focusedSprite);\r\n            this._positionFocusElement(this._focusedSprite);\r\n        }\r\n    }\r\n    _decorateFocusElement(target, focusElement) {\r\n        if (this._a11yD == true) {\r\n            return;\r\n        }\r\n        // Decorate with proper accessibility attributes\r\n        if (!focusElement) {\r\n            focusElement = target.getPrivate(\"focusElement\").dom;\r\n        }\r\n        if (!focusElement) {\r\n            return;\r\n        }\r\n        if (target.get(\"visible\") && target.get(\"role\") != \"tooltip\" && !target.isHidden()) {\r\n            if (focusElement.getAttribute(\"tabindex\") != \"-1\") {\r\n                focusElement.setAttribute(\"tabindex\", \"\" + this.tabindex);\r\n            }\r\n        }\r\n        else {\r\n            focusElement.removeAttribute(\"tabindex\");\r\n        }\r\n        const role = target.get(\"role\");\r\n        if (role) {\r\n            focusElement.setAttribute(\"role\", role);\r\n        }\r\n        else {\r\n            focusElement.removeAttribute(\"role\");\r\n        }\r\n        const ariaLabel = target.get(\"ariaLabel\");\r\n        if (ariaLabel) {\r\n            const label = populateString(target, ariaLabel);\r\n            focusElement.setAttribute(\"aria-label\", label);\r\n        }\r\n        else {\r\n            focusElement.removeAttribute(\"aria-label\");\r\n        }\r\n        const ariaLive = target.get(\"ariaLive\");\r\n        if (ariaLive) {\r\n            focusElement.setAttribute(\"aria-live\", ariaLive);\r\n        }\r\n        else {\r\n            focusElement.removeAttribute(\"aria-live\");\r\n        }\r\n        const ariaChecked = target.get(\"ariaChecked\");\r\n        if (ariaChecked != null) {\r\n            focusElement.setAttribute(\"aria-checked\", ariaChecked ? \"true\" : \"false\");\r\n        }\r\n        else {\r\n            focusElement.removeAttribute(\"aria-checked\");\r\n        }\r\n        if (target.get(\"ariaHidden\")) {\r\n            focusElement.setAttribute(\"aria-hidden\", \"hidden\");\r\n        }\r\n        else {\r\n            focusElement.removeAttribute(\"aria-hidden\");\r\n        }\r\n        const ariaOrientation = target.get(\"ariaOrientation\");\r\n        if (ariaOrientation) {\r\n            focusElement.setAttribute(\"aria-orientation\", ariaOrientation);\r\n        }\r\n        else {\r\n            focusElement.removeAttribute(\"aria-orientation\");\r\n        }\r\n        const ariaValueNow = target.get(\"ariaValueNow\");\r\n        if (ariaValueNow) {\r\n            focusElement.setAttribute(\"aria-valuenow\", ariaValueNow);\r\n        }\r\n        else {\r\n            focusElement.removeAttribute(\"aria-valuenow\");\r\n        }\r\n        const ariaValueMin = target.get(\"ariaValueMin\");\r\n        if (ariaValueMin) {\r\n            focusElement.setAttribute(\"aria-valuemin\", ariaValueMin);\r\n        }\r\n        else {\r\n            focusElement.removeAttribute(\"aria-valuemin\");\r\n        }\r\n        const ariaValueMax = target.get(\"ariaValueMax\");\r\n        if (ariaValueMax) {\r\n            focusElement.setAttribute(\"aria-valuemax\", ariaValueMax);\r\n        }\r\n        else {\r\n            focusElement.removeAttribute(\"aria-valuemax\");\r\n        }\r\n        const ariaValueText = target.get(\"ariaValueText\");\r\n        if (ariaValueText) {\r\n            focusElement.setAttribute(\"aria-valuetext\", ariaValueText);\r\n        }\r\n        else {\r\n            focusElement.removeAttribute(\"aria-valuetext\");\r\n        }\r\n        const ariaControls = target.get(\"ariaControls\");\r\n        if (ariaControls) {\r\n            focusElement.setAttribute(\"aria-controls\", ariaControls);\r\n        }\r\n        else {\r\n            focusElement.removeAttribute(\"aria-controls\");\r\n        }\r\n    }\r\n    _makeFocusElement(index, target) {\r\n        if (target.getPrivate(\"focusElement\") || this._a11yD == true) {\r\n            return;\r\n        }\r\n        // Init\r\n        const focusElement = document.createElement(\"div\");\r\n        if (target.get(\"role\") != \"tooltip\") {\r\n            focusElement.tabIndex = this.tabindex;\r\n        }\r\n        focusElement.style.position = \"absolute\";\r\n        $utils.setInteractive(focusElement, false);\r\n        const disposers = [];\r\n        target.setPrivate(\"focusElement\", {\r\n            dom: focusElement,\r\n            disposers,\r\n        });\r\n        this._decorateFocusElement(target);\r\n        disposers.push($utils.addEventListener(focusElement, \"focus\", (ev) => {\r\n            this._handleFocus(ev, index);\r\n        }));\r\n        disposers.push($utils.addEventListener(focusElement, \"blur\", (ev) => {\r\n            this._handleBlur(ev, index);\r\n        }));\r\n        this._moveFocusElement(index, target);\r\n    }\r\n    _removeFocusElement(target) {\r\n        if (this._a11yD == true) {\r\n            return;\r\n        }\r\n        $array.remove(this._tabindexes, target);\r\n        const focusElement = target.getPrivate(\"focusElement\");\r\n        if (focusElement) {\r\n            const container = this._focusElementContainer;\r\n            container.removeChild(focusElement.dom);\r\n            $array.each(focusElement.disposers, (x) => {\r\n                x.dispose();\r\n            });\r\n        }\r\n    }\r\n    _hideFocusElement(target) {\r\n        if (this._a11yD == true) {\r\n            return;\r\n        }\r\n        const focusElement = target.getPrivate(\"focusElement\");\r\n        focusElement.dom.style.display = \"none\";\r\n    }\r\n    _moveFocusElement(index, target) {\r\n        if (this._a11yD == true) {\r\n            return;\r\n        }\r\n        // Get container\r\n        const container = this._focusElementContainer;\r\n        const focusElement = target.getPrivate(\"focusElement\").dom;\r\n        if (focusElement === this._focusElementContainer.children[index]) {\r\n            // Nothing to do\r\n            return;\r\n        }\r\n        const next = this._focusElementContainer.children[index + 1];\r\n        if (next) {\r\n            container.insertBefore(focusElement, next);\r\n        }\r\n        else {\r\n            container.append(focusElement);\r\n        }\r\n    }\r\n    _positionFocusElement(target) {\r\n        if (this._a11yD == true) {\r\n            return;\r\n        }\r\n        const bounds = target.globalBounds();\r\n        let width = bounds.right == bounds.left ? target.width() : bounds.right - bounds.left;\r\n        let height = bounds.top == bounds.bottom ? target.height() : bounds.bottom - bounds.top;\r\n        let x = bounds.left - 2;\r\n        let y = bounds.top - 2;\r\n        if (width < 0) {\r\n            x += width;\r\n            width = Math.abs(width);\r\n        }\r\n        if (height < 0) {\r\n            y += height;\r\n            height = Math.abs(height);\r\n        }\r\n        const focusElement = target.getPrivate(\"focusElement\").dom;\r\n        focusElement.style.top = y + \"px\";\r\n        focusElement.style.left = x + \"px\";\r\n        focusElement.style.width = (width + 4) + \"px\";\r\n        focusElement.style.height = (height + 4) + \"px\";\r\n    }\r\n    _handleFocus(ev, index) {\r\n        if (this._a11yD == true) {\r\n            return;\r\n        }\r\n        // Get element\r\n        const focused = this._tabindexes[index];\r\n        // Jump over hidden elements\r\n        if (!focused.isVisibleDeep()) {\r\n            this._focusNext(ev.target, this._isShift ? -1 : 1);\r\n            return;\r\n        }\r\n        // Size and position\r\n        this._positionFocusElement(focused);\r\n        //this._decorateFocusElement(focused);\r\n        this._focusedSprite = focused;\r\n        if (focused.events.isEnabled(\"focus\")) {\r\n            focused.events.dispatch(\"focus\", {\r\n                type: \"focus\",\r\n                originalEvent: ev,\r\n                target: focused\r\n            });\r\n        }\r\n    }\r\n    _focusNext(el, direction) {\r\n        if (this._a11yD == true) {\r\n            return;\r\n        }\r\n        const focusableElements = Array.from(document.querySelectorAll([\r\n            'a[href]',\r\n            'area[href]',\r\n            'button:not([disabled])',\r\n            'details',\r\n            'input:not([disabled])',\r\n            'iframe:not([disabled])',\r\n            'select:not([disabled])',\r\n            'textarea:not([disabled])',\r\n            '[contentEditable=\"\"]',\r\n            '[contentEditable=\"true\"]',\r\n            '[contentEditable=\"TRUE\"]',\r\n            '[tabindex]:not([tabindex^=\"-\"])',\r\n            //':not([disabled])'\r\n        ].join(',')));\r\n        let index = focusableElements.indexOf(el) + direction;\r\n        if (index < 0) {\r\n            index = focusableElements.length - 1;\r\n        }\r\n        else if (index >= focusableElements.length) {\r\n            index = 0;\r\n        }\r\n        focusableElements[index].focus();\r\n    }\r\n    _handleBlur(ev, _index) {\r\n        if (this._a11yD == true) {\r\n            return;\r\n        }\r\n        const focused = this._focusedSprite;\r\n        if (focused && focused.events.isEnabled(\"blur\")) {\r\n            focused.events.dispatch(\"blur\", {\r\n                type: \"blur\",\r\n                originalEvent: ev,\r\n                target: focused\r\n            });\r\n        }\r\n        this._focusedSprite = undefined;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    updateTooltip(target) {\r\n        if (this._a11yD == true) {\r\n            return;\r\n        }\r\n        const text = $utils.stripTags(target._getText());\r\n        let tooltipElement = target.getPrivate(\"tooltipElement\");\r\n        if (target.get(\"role\") == \"tooltip\" && text != \"\") {\r\n            if (!tooltipElement) {\r\n                tooltipElement = this._makeTooltipElement(target);\r\n            }\r\n            if (tooltipElement.innerHTML != text) {\r\n                tooltipElement.innerHTML = text;\r\n            }\r\n        }\r\n        else if (tooltipElement) {\r\n            tooltipElement.remove();\r\n            target.removePrivate(\"tooltipElement\");\r\n        }\r\n    }\r\n    _makeTooltipElement(target) {\r\n        const container = this._tooltipElementContainer;\r\n        const tooltipElement = document.createElement(\"div\");\r\n        tooltipElement.style.position = \"absolute\";\r\n        tooltipElement.style.width = \"1px\";\r\n        tooltipElement.style.height = \"1px\";\r\n        tooltipElement.style.overflow = \"hidden\";\r\n        tooltipElement.style.clip = \"rect(1px, 1px, 1px, 1px)\";\r\n        $utils.setInteractive(tooltipElement, false);\r\n        this._decorateFocusElement(target, tooltipElement);\r\n        container.append(tooltipElement);\r\n        target.setPrivate(\"tooltipElement\", tooltipElement);\r\n        return tooltipElement;\r\n    }\r\n    _removeTooltipElement(target) {\r\n        if (this._a11yD == true) {\r\n            return;\r\n        }\r\n        const tooltipElement = target.getPrivate(\"tooltipElement\");\r\n        if (tooltipElement) {\r\n            const parent = tooltipElement.parentElement;\r\n            if (parent) {\r\n                parent.removeChild(tooltipElement);\r\n            }\r\n        }\r\n    }\r\n    _invalidateAccessibility(target) {\r\n        if (this._a11yD == true) {\r\n            return;\r\n        }\r\n        this._focusElementDirty = true;\r\n        const focusElement = target.getPrivate(\"focusElement\");\r\n        if (target.get(\"focusable\")) {\r\n            if (focusElement) {\r\n                this._decorateFocusElement(target);\r\n                this._positionFocusElement(target);\r\n            }\r\n            // else {\r\n            // \tthis._renderer._makeFocusElement(0, this);\r\n            // }\r\n        }\r\n        else if (focusElement) {\r\n            this._removeFocusElement(target);\r\n        }\r\n        //this.updateCurrentFocus();\r\n    }\r\n    /**\r\n     * Returns `true` if `target` is currently focused.\r\n     *\r\n     * @param   target  Target\r\n     * @return          Focused?\r\n     */\r\n    focused(target) {\r\n        return this._focusedSprite === target;\r\n    }\r\n    /**\r\n     * Converts document coordinates to coordinates withing root element.\r\n     *\r\n     * @param   point  Document point\r\n     * @return         Root point\r\n     */\r\n    documentPointToRoot(point) {\r\n        const bbox = this.dom.getBoundingClientRect();\r\n        return {\r\n            x: point.x - bbox.left,\r\n            y: point.y - bbox.top\r\n        };\r\n    }\r\n    /**\r\n     * Converts root coordinates to document\r\n     *\r\n     * @param   point  Document point\r\n     * @return         Root point\r\n     */\r\n    rootPointToDocument(point) {\r\n        const bbox = this.dom.getBoundingClientRect();\r\n        return {\r\n            x: point.x + bbox.left,\r\n            y: point.y + bbox.top\r\n        };\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    addDisposer(disposer) {\r\n        this._disposers.push(disposer);\r\n        return disposer;\r\n    }\r\n    _updateComputedStyles() {\r\n        const styles = window.getComputedStyle(this.dom);\r\n        let fontHash = \"\";\r\n        $object.each(styles, (key, val) => {\r\n            if ($type.isString(key) && key.match(/^font/)) {\r\n                fontHash += val;\r\n            }\r\n        });\r\n        const changed = fontHash != this._fontHash;\r\n        if (changed) {\r\n            this._fontHash = fontHash;\r\n        }\r\n        return changed;\r\n    }\r\n    _checkComputedStyles() {\r\n        if (this._updateComputedStyles()) {\r\n            this._invalidateLabelBounds(this.container);\r\n        }\r\n    }\r\n    _invalidateLabelBounds(target) {\r\n        if (target instanceof Container) {\r\n            target.children.each((child) => {\r\n                this._invalidateLabelBounds(child);\r\n            });\r\n        }\r\n        else if (target instanceof Text) {\r\n            target.markDirtyBounds();\r\n        }\r\n    }\r\n    /**\r\n     * To all the clever heads out there. Yes, we did not make any attempts to\r\n     * scramble this.\r\n     *\r\n     * This is a part of a tool meant for our users to manage their commercial\r\n     * licenses for removal of amCharts branding from charts.\r\n     *\r\n     * The only legit way to do so is to purchase a commercial license for amCharts:\r\n     * https://www.amcharts.com/online-store/\r\n     *\r\n     * Removing or altering this code, or disabling amCharts branding in any other\r\n     * way is against the license and thus illegal.\r\n     */\r\n    _hasLicense() {\r\n        for (let i = 0; i < registry.licenses.length; i++) {\r\n            if (registry.licenses[i].match(/^AM5C.{5,}/i)) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n    _licenseApplied() {\r\n        if (this._logo) {\r\n            this._logo.set(\"forceHidden\", true);\r\n        }\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    get debugGhostView() {\r\n        return this._renderer.debugGhostView;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    set debugGhostView(value) {\r\n        this._renderer.debugGhostView = value;\r\n    }\r\n    /**\r\n     * Set this to `true` if you need chart to require first a tap onto it before\r\n     * touch gesture related functionality like zoom/pan is turned on.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/getting-started/root-element/#Touch_related_options} for more info\r\n     * @default false\r\n     * @since 5.2.9\r\n     * @param  value  Needs a tap to activate touch functions\r\n     */\r\n    set tapToActivate(value) {\r\n        this._renderer.tapToActivate = value;\r\n    }\r\n    /**\r\n     * @return Needs a tap to activate touch functions\r\n     */\r\n    get tapToActivate() {\r\n        return this._renderer.tapToActivate;\r\n    }\r\n    /**\r\n     * If `tapToActivate` is set to `true`, this setting will determine number\r\n     * of milliseconds the chart will stay \"active\", before releasing the\r\n     * controls back to the page.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/getting-started/root-element/#Touch_related_options} for more info\r\n     * @default 3000\r\n     * @since 5.2.9\r\n     * @param  value  Timeout\r\n     */\r\n    set tapToActivateTimeout(value) {\r\n        this._renderer.tapToActivateTimeout = value;\r\n    }\r\n    /**\r\n     * @return Timeout\r\n     */\r\n    get tapToActivateTimeout() {\r\n        return this._renderer.tapToActivateTimeout;\r\n    }\r\n    _makeHTMLElement(target) {\r\n        // Get container\r\n        const container = this._htmlElementContainer;\r\n        // Init\r\n        const htmlElement = document.createElement(\"div\");\r\n        target.setPrivate(\"htmlElement\", htmlElement);\r\n        //htmlElement.tabIndex = this.tabindex;\r\n        htmlElement.style.position = \"absolute\";\r\n        htmlElement.style.overflow = \"auto\";\r\n        htmlElement.style.boxSizing = \"border-box\";\r\n        $utils.setInteractive(htmlElement, target.get(\"interactive\", false));\r\n        // Translate events\r\n        if (target.events.isEnabled(\"click\")) {\r\n            $utils.setInteractive(htmlElement, true);\r\n            this._disposers.push($utils.addEventListener(htmlElement, \"click\", (ev) => {\r\n                const downEvent = this._renderer.getEvent(ev);\r\n                target.events.dispatch(\"click\", {\r\n                    type: \"click\",\r\n                    originalEvent: downEvent.event,\r\n                    point: downEvent.point,\r\n                    simulated: false,\r\n                    target: target\r\n                });\r\n            }));\r\n        }\r\n        this._positionHTMLElement(target);\r\n        container.append(htmlElement);\r\n        $array.pushOne(this._htmlEnabledContainers, target);\r\n        return htmlElement;\r\n    }\r\n    _positionHTMLElements() {\r\n        $array.each(this._htmlEnabledContainers, (target) => {\r\n            this._positionHTMLElement(target);\r\n        });\r\n    }\r\n    _positionHTMLElement(target) {\r\n        const htmlElement = target.getPrivate(\"htmlElement\");\r\n        if (htmlElement) {\r\n            // Translate settings\r\n            const visualSettings = [\"paddingTop\", \"paddingRight\", \"paddingBottom\", \"paddingLeft\", \"minWidth\", \"minHeight\", \"maxWidth\", \"maxHeight\"];\r\n            $array.each(visualSettings, (setting) => {\r\n                const value = target.get(setting);\r\n                if (value) {\r\n                    htmlElement.style[setting] = value + \"px\";\r\n                }\r\n                else {\r\n                    htmlElement.style[setting] = \"\";\r\n                }\r\n            });\r\n            // Deal with opacity\r\n            const opacity = target.compositeOpacity();\r\n            setTimeout(() => {\r\n                htmlElement.style.opacity = opacity + \"\";\r\n            }, 10);\r\n            const visible = target.isVisibleDeep();\r\n            if (visible) {\r\n                htmlElement.style.display = \"block\";\r\n            }\r\n            // Deal with position\r\n            const bounds = target.globalBounds();\r\n            htmlElement.style.top = (bounds.top) + \"px\";\r\n            htmlElement.style.left = (bounds.left) + \"px\";\r\n            // Use width/height if those are set\r\n            const width = target.get(\"width\");\r\n            const height = target.get(\"height\");\r\n            let w = 0;\r\n            let h = 0;\r\n            if (width) {\r\n                w = target.width();\r\n            }\r\n            if (height) {\r\n                h = target.height();\r\n            }\r\n            if (!width || !height) {\r\n                htmlElement.style.position = \"fixed\";\r\n                htmlElement.style.width = \"\";\r\n                htmlElement.style.height = \"\";\r\n                const bbox = htmlElement.getBoundingClientRect();\r\n                htmlElement.style.position = \"absolute\";\r\n                w = bbox.width;\r\n                h = bbox.height;\r\n                target._adjustedLocalBounds = { left: 0, right: 0, top: 0, bottom: 0 };\r\n                target.setPrivate(\"minWidth\", w);\r\n                target.setPrivate(\"minHeight\", h);\r\n            }\r\n            else {\r\n                target.removePrivate(\"minWidth\");\r\n                target.removePrivate(\"minHeight\");\r\n            }\r\n            if (w > 0) {\r\n                htmlElement.style.minWidth = (w) + \"px\";\r\n            }\r\n            if (h > 0) {\r\n                htmlElement.style.minHeight = (h) + \"px\";\r\n            }\r\n            // Hide or show\r\n            if (!visible || opacity == 0) {\r\n                htmlElement.style.display = \"none\";\r\n            }\r\n        }\r\n    }\r\n    _setHTMLContent(target, html) {\r\n        let htmlElement = target.getPrivate(\"htmlElement\");\r\n        if (!htmlElement) {\r\n            htmlElement = this._makeHTMLElement(target);\r\n        }\r\n        if (htmlElement.innerHTML != html) {\r\n            htmlElement.innerHTML = html;\r\n        }\r\n    }\r\n    _removeHTMLContent(target) {\r\n        let htmlElement = target.getPrivate(\"htmlElement\");\r\n        if (htmlElement) {\r\n            this._htmlElementContainer.removeChild(htmlElement);\r\n        }\r\n        $array.remove(this._htmlEnabledContainers, target);\r\n    }\r\n}\r\n","import { Template } from \"./util/Template\";\r\nimport * as $order from \"./util/Order\";\r\nimport * as $array from \"./util/Array\";\r\n/**\r\n * A base class for an amCharts theme.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/themes/} for more info\r\n * @important\r\n */\r\nexport class Theme {\r\n    constructor(root, isReal) {\r\n        Object.defineProperty(this, \"_root\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_rules\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        this._root = root;\r\n        if (!isReal) {\r\n            throw new Error(\"You cannot use `new Class()`, instead use `Class.new()`\");\r\n        }\r\n    }\r\n    /**\r\n     * Use this method to create an instance of this class.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/getting-started/#New_element_syntax} for more info\r\n     * @param   root      Root element\r\n     * @param   settings  Settings\r\n     * @param   template  Template\r\n     * @return            Instantiated object\r\n     */\r\n    static new(root) {\r\n        const x = (new this(root, true));\r\n        x.setupDefaultRules();\r\n        return x;\r\n    }\r\n    setupDefaultRules() { }\r\n    /**\r\n     * Looks up the rules for a specific theme class.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/themes/} for more info\r\n     * @param   themeClass Theme class\r\n     * @return             Array<IRule<A>>\r\n     */\r\n    _lookupRules(themeClass) {\r\n        return this._rules[themeClass];\r\n    }\r\n    /**\r\n     * Creates a [[Template]] for specific theme class and tags.\r\n     *\r\n     * NOTE: the difference from `rule()` is that `ruleRaw()` does not do any\r\n     * type checks.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/themes/} for more info\r\n     * @param   themeClass Theme class\r\n     * @param   themeTags  Theme tags\r\n     * @return             Template\r\n     */\r\n    ruleRaw(themeClass, themeTags = []) {\r\n        let rules = this._rules[themeClass];\r\n        if (!rules) {\r\n            rules = this._rules[themeClass] = [];\r\n        }\r\n        themeTags.sort($order.compare);\r\n        const { index, found } = $array.getSortedIndex(rules, (x) => {\r\n            const order = $order.compare(x.tags.length, themeTags.length);\r\n            if (order === 0) {\r\n                return $order.compareArray(x.tags, themeTags, $order.compare);\r\n            }\r\n            else {\r\n                return order;\r\n            }\r\n        });\r\n        if (found) {\r\n            return rules[index].template;\r\n        }\r\n        else {\r\n            const template = Template.new({});\r\n            rules.splice(index, 0, {\r\n                tags: themeTags,\r\n                template,\r\n            });\r\n            return template;\r\n        }\r\n    }\r\n    /**\r\n     * Creates a [[Template]] for specific theme class and tags.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/themes/} for more info\r\n     * @param   themeClass Theme class\r\n     * @param   themeTags  Theme tags\r\n     * @return             Template\r\n     */\r\n    rule(themeClass, themeTags = []) {\r\n        return this.ruleRaw(themeClass, themeTags);\r\n    }\r\n}\r\n","import { Children } from \"../util/Children\";\r\nimport { Percent } from \"../util/Percent\";\r\nimport { Sprite } from \"./Sprite\";\r\nimport { Rectangle } from \"./Rectangle\";\r\nimport { HorizontalLayout } from \"./HorizontalLayout\";\r\nimport { VerticalLayout } from \"./VerticalLayout\";\r\nimport { GridLayout } from \"./GridLayout\";\r\nimport { populateString } from \"../util/PopulateString\";\r\nimport * as $array from \"../util/Array\";\r\nimport * as $type from \"../util/Type\";\r\nimport * as $utils from \"../util/Utils\";\r\n/**\r\n * A basic element that can have child elements, maintain their layout, and\r\n * have a background.\r\n *\r\n * It can have any [[Sprite]] element as a child, from very basic shapes, to\r\n * full-fledged charts.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/common-elements/containers/} for more info\r\n * @important\r\n */\r\nexport class Container extends Sprite {\r\n    constructor() {\r\n        super(...arguments);\r\n        Object.defineProperty(this, \"_display\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: this._root._renderer.makeContainer()\r\n        });\r\n        Object.defineProperty(this, \"_childrenDisplay\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: this._root._renderer.makeContainer()\r\n        });\r\n        /**\r\n         * List of Container's child elements.\r\n         */\r\n        Object.defineProperty(this, \"children\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new Children(this)\r\n        });\r\n        Object.defineProperty(this, \"_percentageSizeChildren\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n        Object.defineProperty(this, \"_percentagePositionChildren\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n        Object.defineProperty(this, \"_prevWidth\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(this, \"_prevHeight\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(this, \"_contentWidth\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(this, \"_contentHeight\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(this, \"_contentMask\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_vsbd0\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_vsbd1\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n    }\r\n    _afterNew() {\r\n        super._afterNew();\r\n        this._display.addChild(this._childrenDisplay);\r\n    }\r\n    _dispose() {\r\n        $array.eachReverse(this.allChildren(), (child) => {\r\n            child.dispose();\r\n        });\r\n        if (this.getPrivate(\"htmlElement\")) {\r\n            this._root._removeHTMLContent(this);\r\n        }\r\n        super._dispose();\r\n    }\r\n    _changed() {\r\n        super._changed();\r\n        if (this.isDirty(\"interactiveChildren\")) {\r\n            this._display.interactiveChildren = this.get(\"interactiveChildren\", false);\r\n        }\r\n        if (this.isDirty(\"layout\")) {\r\n            this._prevWidth = 0;\r\n            this._prevHeight = 0;\r\n            this.markDirtyBounds();\r\n            if (this._prevSettings.layout) {\r\n                this.children.each((child) => {\r\n                    child.removePrivate(\"x\");\r\n                    child.removePrivate(\"y\");\r\n                });\r\n            }\r\n        }\r\n        if (this.isDirty(\"paddingTop\") || this.isDirty(\"paddingBottom\") || this.isDirty(\"paddingLeft\") || this.isDirty(\"paddingRight\")) {\r\n            this.children.each((child) => {\r\n                child.markDirtyPosition();\r\n            });\r\n        }\r\n        if (this.isDirty(\"maskContent\")) {\r\n            const childrenDisplay = this._childrenDisplay;\r\n            let contentMask = this._contentMask;\r\n            if (this.get(\"maskContent\")) {\r\n                if (!contentMask) {\r\n                    contentMask = Rectangle.new(this._root, {\r\n                        x: -.5,\r\n                        y: -.5,\r\n                        width: this.width() + 1,\r\n                        height: this.height() + 1\r\n                    });\r\n                    this._contentMask = contentMask;\r\n                    childrenDisplay.addChildAt(contentMask._display, 0);\r\n                    childrenDisplay.mask = contentMask._display;\r\n                }\r\n            }\r\n            else {\r\n                if (contentMask) {\r\n                    childrenDisplay.removeChild(contentMask._display);\r\n                    childrenDisplay.mask = null;\r\n                    contentMask.dispose();\r\n                    this._contentMask = undefined;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    _updateSize() {\r\n        super._updateSize();\r\n        $array.each(this._percentageSizeChildren, (child) => {\r\n            child._updateSize();\r\n        });\r\n        $array.each(this._percentagePositionChildren, (child) => {\r\n            child.markDirtyPosition();\r\n            child._updateSize();\r\n        });\r\n        this.updateBackground();\r\n    }\r\n    updateBackground() {\r\n        const background = this.get(\"background\");\r\n        let bounds = this._localBounds;\r\n        if (bounds && !this.isHidden()) {\r\n            let x = bounds.left;\r\n            let y = bounds.top;\r\n            let w = bounds.right - x;\r\n            let h = bounds.bottom - y;\r\n            let maxWidth = this.get(\"maxWidth\");\r\n            let maxHeight = this.get(\"maxHeight\");\r\n            if (maxHeight) {\r\n                if (h > maxHeight) {\r\n                    h = maxHeight;\r\n                }\r\n            }\r\n            if (maxWidth) {\r\n                if (w > maxWidth) {\r\n                    w = maxWidth;\r\n                }\r\n            }\r\n            let width = this.width();\r\n            let height = this.height();\r\n            if (background) {\r\n                background.setAll({ width: w, height: h, x: x, y: y });\r\n                if (this._display.interactive) {\r\n                    background._display.interactive = true;\r\n                }\r\n            }\r\n            const contentMask = this._contentMask;\r\n            if (contentMask) {\r\n                contentMask.setAll({ width: width + 1, height: height + 1 });\r\n            }\r\n            const verticalScrollbar = this.get(\"verticalScrollbar\");\r\n            if (verticalScrollbar) {\r\n                verticalScrollbar.set(\"height\", height);\r\n                verticalScrollbar.set(\"x\", width - verticalScrollbar.width() - verticalScrollbar.get(\"marginRight\", 0));\r\n                verticalScrollbar.set(\"end\", verticalScrollbar.get(\"start\", 0) + height / this._contentHeight);\r\n                const bg = verticalScrollbar.get(\"background\");\r\n                if (bg) {\r\n                    bg.setAll({ width: verticalScrollbar.width(), height: height });\r\n                }\r\n                let visible = true;\r\n                if (this._contentHeight <= height) {\r\n                    visible = false;\r\n                }\r\n                verticalScrollbar.setPrivate(\"visible\", visible);\r\n            }\r\n        }\r\n    }\r\n    _applyThemes() {\r\n        if (super._applyThemes()) {\r\n            this.eachChildren((child) => {\r\n                child._applyThemes();\r\n            });\r\n            return true;\r\n        }\r\n        else {\r\n            return false;\r\n        }\r\n    }\r\n    _applyState(name) {\r\n        super._applyState(name);\r\n        if (this.get(\"setStateOnChildren\")) {\r\n            this.eachChildren((child) => {\r\n                child.states.apply(name);\r\n            });\r\n        }\r\n    }\r\n    _applyStateAnimated(name, duration) {\r\n        super._applyStateAnimated(name, duration);\r\n        if (this.get(\"setStateOnChildren\")) {\r\n            this.eachChildren((child) => {\r\n                child.states.applyAnimate(name, duration);\r\n            });\r\n        }\r\n    }\r\n    /**\r\n     * Returns container's inner width (width without padding) in pixels.\r\n     *\r\n     * @return Inner width (px)\r\n     */\r\n    innerWidth() {\r\n        return this.width() - this.get(\"paddingRight\", 0) - this.get(\"paddingLeft\", 0);\r\n    }\r\n    /**\r\n     * Returns container's inner height (height without padding) in pixels.\r\n     *\r\n     * @return Inner height (px)\r\n     */\r\n    innerHeight() {\r\n        return this.height() - this.get(\"paddingTop\", 0) - this.get(\"paddingBottom\", 0);\r\n    }\r\n    _getBounds() {\r\n        let width = this.get(\"width\");\r\n        let height = this.get(\"height\");\r\n        let pWidth = this.getPrivate(\"width\");\r\n        let pHeight = this.getPrivate(\"height\");\r\n        let bounds = {\r\n            left: 0,\r\n            top: 0,\r\n            right: this.width(),\r\n            bottom: this.height(),\r\n        };\r\n        let layout = this.get(\"layout\");\r\n        let horizontal = false;\r\n        let vertical = false;\r\n        if (layout instanceof HorizontalLayout || layout instanceof GridLayout) {\r\n            horizontal = true;\r\n        }\r\n        if (layout instanceof VerticalLayout) {\r\n            vertical = true;\r\n        }\r\n        if ((width != null || pWidth != null) && (height != null || pHeight != null) && !this.get(\"verticalScrollbar\")) {\r\n            // void\r\n        }\r\n        else {\r\n            let m = Number.MAX_VALUE;\r\n            let l = m;\r\n            let r = -m;\r\n            let t = m;\r\n            let b = -m;\r\n            const paddingLeft = this.get(\"paddingLeft\", 0);\r\n            const paddingTop = this.get(\"paddingTop\", 0);\r\n            const paddingRight = this.get(\"paddingRight\", 0);\r\n            const paddingBottom = this.get(\"paddingBottom\", 0);\r\n            this.children.each((child) => {\r\n                if (child.get(\"position\") != \"absolute\" && child.get(\"isMeasured\")) {\r\n                    let childBounds = child.adjustedLocalBounds();\r\n                    let childX = child.x();\r\n                    let childY = child.y();\r\n                    let cl = childX + childBounds.left;\r\n                    let cr = childX + childBounds.right;\r\n                    let ct = childY + childBounds.top;\r\n                    let cb = childY + childBounds.bottom;\r\n                    if (horizontal) {\r\n                        cl -= child.get(\"marginLeft\", 0);\r\n                        cr += child.get(\"marginRight\", 0);\r\n                    }\r\n                    if (vertical) {\r\n                        ct -= child.get(\"marginTop\", 0);\r\n                        cb += child.get(\"marginBottom\", 0);\r\n                    }\r\n                    if (cl < l) {\r\n                        l = cl;\r\n                    }\r\n                    if (cr > r) {\r\n                        r = cr;\r\n                    }\r\n                    if (ct < t) {\r\n                        t = ct;\r\n                    }\r\n                    if (cb > b) {\r\n                        b = cb;\r\n                    }\r\n                }\r\n            });\r\n            if (l == m) {\r\n                l = 0;\r\n            }\r\n            if (r == -m) {\r\n                r = 0;\r\n            }\r\n            if (t == m) {\r\n                t = 0;\r\n            }\r\n            if (b == -m) {\r\n                b = 0;\r\n            }\r\n            bounds.left = l - paddingLeft;\r\n            bounds.top = t - paddingTop;\r\n            bounds.right = r + paddingRight;\r\n            bounds.bottom = b + paddingBottom;\r\n        }\r\n        this._contentWidth = bounds.right - bounds.left;\r\n        this._contentHeight = bounds.bottom - bounds.top;\r\n        if ($type.isNumber(width)) {\r\n            bounds.left = 0;\r\n            bounds.right = width;\r\n        }\r\n        if ($type.isNumber(pWidth)) {\r\n            bounds.left = 0;\r\n            bounds.right = pWidth;\r\n        }\r\n        if ($type.isNumber(height)) {\r\n            bounds.top = 0;\r\n            bounds.bottom = height;\r\n        }\r\n        if ($type.isNumber(pHeight)) {\r\n            bounds.top = 0;\r\n            bounds.bottom = pHeight;\r\n        }\r\n        this._localBounds = bounds;\r\n    }\r\n    _updateBounds() {\r\n        const layout = this.get(\"layout\");\r\n        if (layout) {\r\n            layout.updateContainer(this);\r\n        }\r\n        super._updateBounds();\r\n        this.updateBackground();\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    markDirty() {\r\n        super.markDirty();\r\n        this._root._addDirtyParent(this);\r\n    }\r\n    _prepareChildren() {\r\n        const innerWidth = this.innerWidth();\r\n        const innerHeight = this.innerHeight();\r\n        if (innerWidth != this._prevWidth || innerHeight != this._prevHeight) {\r\n            let layout = this.get(\"layout\");\r\n            let horizontal = false;\r\n            let vertical = false;\r\n            if (layout) {\r\n                if (layout instanceof HorizontalLayout || layout instanceof GridLayout) {\r\n                    horizontal = true;\r\n                }\r\n                if (layout instanceof VerticalLayout) {\r\n                    vertical = true;\r\n                }\r\n            }\r\n            $array.each(this._percentageSizeChildren, (child) => {\r\n                if (!horizontal) {\r\n                    let width = child.get(\"width\");\r\n                    if (width instanceof Percent) {\r\n                        child.setPrivate(\"width\", width.value * innerWidth);\r\n                    }\r\n                }\r\n                if (!vertical) {\r\n                    let height = child.get(\"height\");\r\n                    if (height instanceof Percent) {\r\n                        child.setPrivate(\"height\", height.value * innerHeight);\r\n                    }\r\n                }\r\n            });\r\n            $array.each(this._percentagePositionChildren, (child) => {\r\n                child.markDirtyPosition();\r\n                child.markDirtyBounds();\r\n            });\r\n            this._prevWidth = innerWidth;\r\n            this._prevHeight = innerHeight;\r\n            this._sizeDirty = true;\r\n            this.updateBackground();\r\n        }\r\n        this._handleStates();\r\n    }\r\n    _updateChildren() {\r\n        if (this.isDirty(\"html\")) {\r\n            const html = this.get(\"html\");\r\n            if (html && html !== \"\") {\r\n                this._root._setHTMLContent(this, populateString(this, this.get(\"html\", \"\")));\r\n            }\r\n            else {\r\n                this._root._removeHTMLContent(this);\r\n            }\r\n            this._root._positionHTMLElement(this);\r\n        }\r\n        if (this.isDirty(\"verticalScrollbar\")) {\r\n            const verticalScrollbar = this.get(\"verticalScrollbar\");\r\n            if (verticalScrollbar) {\r\n                verticalScrollbar._setParent(this);\r\n                verticalScrollbar.startGrip.setPrivate(\"visible\", false);\r\n                verticalScrollbar.endGrip.setPrivate(\"visible\", false);\r\n                this.set(\"maskContent\", true);\r\n                this.set(\"paddingRight\", verticalScrollbar.width() + verticalScrollbar.get(\"marginRight\", 0) + verticalScrollbar.get(\"marginLeft\", 0));\r\n                let background = this.get(\"background\");\r\n                if (!background) {\r\n                    background = this.set(\"background\", Rectangle.new(this._root, {\r\n                        themeTags: [\"background\"],\r\n                        fillOpacity: 0,\r\n                        fill: this._root.interfaceColors.get(\"alternativeBackground\")\r\n                    }));\r\n                }\r\n                this._vsbd0 = this.events.on(\"wheel\", (event) => {\r\n                    const wheelEvent = event.originalEvent;\r\n                    // Ignore wheel event if it is happening on a non-chart element, e.g. if\r\n                    // some page element is over the chart.\r\n                    if ($utils.isLocalEvent(wheelEvent, this)) {\r\n                        wheelEvent.preventDefault();\r\n                    }\r\n                    else {\r\n                        return;\r\n                    }\r\n                    let shiftY = wheelEvent.deltaY / 5000;\r\n                    const start = verticalScrollbar.get(\"start\", 0);\r\n                    const end = verticalScrollbar.get(\"end\", 1);\r\n                    if (start + shiftY <= 0) {\r\n                        shiftY = -start;\r\n                    }\r\n                    if (end + shiftY >= 1) {\r\n                        shiftY = 1 - end;\r\n                    }\r\n                    if (start + shiftY >= 0 && end + shiftY <= 1) {\r\n                        verticalScrollbar.set(\"start\", start + shiftY);\r\n                        verticalScrollbar.set(\"end\", end + shiftY);\r\n                    }\r\n                });\r\n                this._disposers.push(this._vsbd0);\r\n                this._vsbd1 = verticalScrollbar.events.on(\"rangechanged\", () => {\r\n                    let h = this._contentHeight;\r\n                    const childrenDisplay = this._childrenDisplay;\r\n                    const contentMask = this._contentMask;\r\n                    childrenDisplay.y = -verticalScrollbar.get(\"start\") * h;\r\n                    childrenDisplay.markDirtyLayer();\r\n                    if (contentMask) {\r\n                        contentMask._display.y = -childrenDisplay.y;\r\n                        childrenDisplay.mask = contentMask._display;\r\n                    }\r\n                });\r\n                this._disposers.push(this._vsbd1);\r\n                this._display.addChild(verticalScrollbar._display);\r\n            }\r\n            else {\r\n                const previous = this._prevSettings.verticalScrollbar;\r\n                if (previous) {\r\n                    this._display.removeChild(previous._display);\r\n                    if (this._vsbd0) {\r\n                        this._vsbd0.dispose();\r\n                    }\r\n                    if (this._vsbd1) {\r\n                        this._vsbd1.dispose();\r\n                    }\r\n                    const childrenDisplay = this._childrenDisplay;\r\n                    childrenDisplay.y = 0;\r\n                    this.setPrivate(\"height\", undefined);\r\n                    this.set(\"maskContent\", false);\r\n                    this.set(\"paddingRight\", undefined);\r\n                }\r\n            }\r\n        }\r\n        if (this.isDirty(\"background\")) {\r\n            // TODO maybe this should dispose ?\r\n            const previous = this._prevSettings[\"background\"];\r\n            if (previous) {\r\n                this._display.removeChild(previous._display);\r\n            }\r\n            const background = this.get(\"background\");\r\n            if (background instanceof Sprite) {\r\n                background.set(\"isMeasured\", false);\r\n                background._setParent(this);\r\n                this._display.addChildAt(background._display, 0);\r\n            }\r\n        }\r\n        if (this.isDirty(\"mask\")) {\r\n            const mask = this.get(\"mask\");\r\n            const previous = this._prevSettings[\"mask\"];\r\n            if (previous) {\r\n                this._display.removeChild(previous._display);\r\n                if (previous != mask) {\r\n                    previous.dispose();\r\n                }\r\n            }\r\n            if (mask) {\r\n                const parent = mask.parent;\r\n                if (parent) {\r\n                    parent.children.removeValue(mask);\r\n                }\r\n                mask._setParent(this);\r\n                this._display.addChildAt(mask._display, 0);\r\n                this._childrenDisplay.mask = mask._display;\r\n            }\r\n        }\r\n    }\r\n    _processTemplateField() {\r\n        super._processTemplateField();\r\n        this.children.each((child) => {\r\n            child._processTemplateField();\r\n        });\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    walkChildren(f) {\r\n        this.children.each((child) => {\r\n            if (child instanceof Container) {\r\n                child.walkChildren(f);\r\n            }\r\n            f(child);\r\n        });\r\n    }\r\n    eachChildren(f) {\r\n        const background = this.get(\"background\");\r\n        if (background) {\r\n            f(background);\r\n        }\r\n        const verticalScrollbar = this.get(\"verticalScrollbar\");\r\n        if (verticalScrollbar) {\r\n            f(verticalScrollbar);\r\n        }\r\n        const mask = this.get(\"mask\");\r\n        if (mask) {\r\n            f(mask);\r\n        }\r\n        this.children.values.forEach((child) => {\r\n            f(child);\r\n        });\r\n    }\r\n    allChildren() {\r\n        const output = [];\r\n        this.eachChildren((x) => {\r\n            output.push(x);\r\n        });\r\n        return output;\r\n    }\r\n    _setDataItem(dataItem) {\r\n        const updated = (dataItem !== this._dataItem);\r\n        super._setDataItem(dataItem);\r\n        const html = this.get(\"html\", \"\");\r\n        if (html && html !== \"\" && updated) {\r\n            this._root._setHTMLContent(this, populateString(this, html));\r\n        }\r\n    }\r\n}\r\nObject.defineProperty(Container, \"className\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: \"Container\"\r\n});\r\nObject.defineProperty(Container, \"classNames\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: Sprite.classNames.concat([Container.className])\r\n});\r\n","import { PicturePattern } from \"../render/patterns/PicturePattern\";\r\nimport { Sprite } from \"./Sprite\";\r\nimport { BlendMode } from \"./backend/Renderer\";\r\nimport * as $type from \"../util/Type\";\r\nimport * as $array from \"../util/Array\";\r\nexport const visualSettings = [\"fill\", \"fillOpacity\", \"stroke\", \"strokeWidth\", \"strokeOpacity\", \"fillPattern\", \"strokePattern\", \"fillGradient\", \"strokeGradient\", \"strokeDasharray\", \"strokeDashoffset\"];\r\n/**\r\n * Base class used for drawing shapes.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/common-elements/graphics/} for more info\r\n * @important\r\n */\r\nexport class Graphics extends Sprite {\r\n    constructor() {\r\n        super(...arguments);\r\n        Object.defineProperty(this, \"_display\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: this._root._renderer.makeGraphics()\r\n        });\r\n        Object.defineProperty(this, \"_clear\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n    }\r\n    _beforeChanged() {\r\n        super._beforeChanged();\r\n        if (this.isDirty(\"draw\") || this.isDirty(\"svgPath\")) {\r\n            this.markDirtyBounds();\r\n        }\r\n        if (this.isDirty(\"fill\") || this.isDirty(\"stroke\") || this.isDirty(\"visible\") || this.isDirty(\"forceHidden\") || this.isDirty(\"scale\") || this.isDirty(\"fillGradient\") || this.isDirty(\"strokeGradient\") || this.isDirty(\"fillPattern\") || this.isDirty(\"strokePattern\") || this.isDirty(\"fillOpacity\") || this.isDirty(\"strokeOpacity\") || this.isDirty(\"strokeWidth\") || this.isDirty(\"draw\") || this.isDirty(\"blendMode\") || this.isDirty(\"strokeDasharray\") || this.isDirty(\"strokeDashoffset\") || this.isDirty(\"svgPath\") || this.isDirty(\"lineJoin\") || this.isDirty(\"shadowColor\") || this.isDirty(\"shadowBlur\") || this.isDirty(\"shadowOffsetX\") || this.isDirty(\"shadowOffsetY\")) {\r\n            this._clear = true;\r\n        }\r\n        this._display.crisp = this.get(\"crisp\", false);\r\n        if (this.isDirty(\"fillGradient\")) {\r\n            const gradient = this.get(\"fillGradient\");\r\n            if (gradient) {\r\n                this._display.isMeasured = true;\r\n                const gradientTarget = gradient.get(\"target\");\r\n                if (gradientTarget) {\r\n                    this._disposers.push(gradientTarget.events.on(\"boundschanged\", () => {\r\n                        this._markDirtyKey(\"fill\");\r\n                    }));\r\n                    this._disposers.push(gradientTarget.events.on(\"positionchanged\", () => {\r\n                        this._markDirtyKey(\"fill\");\r\n                    }));\r\n                }\r\n            }\r\n        }\r\n        if (this.isDirty(\"strokeGradient\")) {\r\n            const gradient = this.get(\"strokeGradient\");\r\n            if (gradient) {\r\n                this._display.isMeasured = true;\r\n                const gradientTarget = gradient.get(\"target\");\r\n                if (gradientTarget) {\r\n                    this._disposers.push(gradientTarget.events.on(\"boundschanged\", () => {\r\n                        this._markDirtyKey(\"stroke\");\r\n                    }));\r\n                    this._disposers.push(gradientTarget.events.on(\"positionchanged\", () => {\r\n                        this._markDirtyKey(\"stroke\");\r\n                    }));\r\n                }\r\n            }\r\n        }\r\n    }\r\n    _changed() {\r\n        super._changed();\r\n        if (this._clear) {\r\n            this.markDirtyBounds();\r\n            this.markDirtyLayer();\r\n            this._display.clear();\r\n            let strokeDasharray = this.get(\"strokeDasharray\");\r\n            if ($type.isNumber(strokeDasharray)) {\r\n                if (strokeDasharray < 0.5) {\r\n                    strokeDasharray = [0];\r\n                }\r\n                else {\r\n                    strokeDasharray = [strokeDasharray];\r\n                }\r\n            }\r\n            this._display.setLineDash(strokeDasharray);\r\n            const strokeDashoffset = this.get(\"strokeDashoffset\");\r\n            if (strokeDashoffset) {\r\n                this._display.setLineDashOffset(strokeDashoffset);\r\n            }\r\n            const blendMode = this.get(\"blendMode\", BlendMode.NORMAL);\r\n            this._display.blendMode = blendMode;\r\n            const draw = this.get(\"draw\");\r\n            if (draw) {\r\n                draw(this._display, this);\r\n            }\r\n            const svgPath = this.get(\"svgPath\");\r\n            if (svgPath != null) {\r\n                this._display.svgPath(svgPath);\r\n            }\r\n        }\r\n    }\r\n    _afterChanged() {\r\n        super._afterChanged();\r\n        if (this._clear) {\r\n            const fill = this.get(\"fill\");\r\n            const fillGradient = this.get(\"fillGradient\");\r\n            const fillPattern = this.get(\"fillPattern\");\r\n            const fillOpacity = this.get(\"fillOpacity\");\r\n            const stroke = this.get(\"stroke\");\r\n            const strokeGradient = this.get(\"strokeGradient\");\r\n            const strokePattern = this.get(\"strokePattern\");\r\n            const shadowColor = this.get(\"shadowColor\");\r\n            const shadowBlur = this.get(\"shadowBlur\");\r\n            const shadowOffsetX = this.get(\"shadowOffsetX\");\r\n            const shadowOffsetY = this.get(\"shadowOffsetY\");\r\n            const shadowOpacity = this.get(\"shadowOpacity\");\r\n            //const bounds = this._display.getLocalBounds();\r\n            if (shadowColor && (shadowBlur || shadowOffsetX || shadowOffsetY)) {\r\n                this._display.shadow(shadowColor, shadowBlur, shadowOffsetX, shadowOffsetY, shadowOpacity);\r\n            }\r\n            if (fillPattern) {\r\n                let changed = false;\r\n                if (fill && (!fillPattern.get(\"fill\") || fillPattern.get(\"fillInherited\"))) {\r\n                    fillPattern.set(\"fill\", fill);\r\n                    fillPattern.set(\"fillInherited\", true);\r\n                    changed = true;\r\n                }\r\n                if (stroke && (!fillPattern.get(\"color\") || fillPattern.get(\"colorInherited\"))) {\r\n                    fillPattern.set(\"color\", stroke);\r\n                    fillPattern.set(\"colorInherited\", true);\r\n                    changed = true;\r\n                }\r\n                if (changed) {\r\n                    // @todo: is this OK?\r\n                    fillPattern._changed();\r\n                }\r\n                const pattern = fillPattern.pattern;\r\n                if (pattern) {\r\n                    this._display.beginFill(pattern, fillOpacity);\r\n                    this._display.endFill();\r\n                    if (fillPattern instanceof PicturePattern) {\r\n                        fillPattern.events.once(\"loaded\", () => {\r\n                            this._clear = true;\r\n                            this.markDirty();\r\n                        });\r\n                    }\r\n                }\r\n            }\r\n            else if (fillGradient) {\r\n                if (fill) {\r\n                    const stops = fillGradient.get(\"stops\", []);\r\n                    if (stops.length) {\r\n                        $array.each(stops, (stop) => {\r\n                            if ((!stop.color || stop.colorInherited) && fill) {\r\n                                stop.color = fill;\r\n                                stop.colorInherited = true;\r\n                            }\r\n                            if (stop.opacity == null || stop.opacityInherited) {\r\n                                stop.opacity = fillOpacity;\r\n                                stop.opacityInherited = true;\r\n                            }\r\n                        });\r\n                    }\r\n                }\r\n                const gradient = fillGradient.getFill(this);\r\n                if (gradient) {\r\n                    this._display.beginFill(gradient, fillOpacity);\r\n                    this._display.endFill();\r\n                }\r\n            }\r\n            else if (fill) {\r\n                this._display.beginFill(fill, fillOpacity);\r\n                this._display.endFill();\r\n            }\r\n            if (stroke || strokeGradient || strokePattern) {\r\n                const strokeOpacity = this.get(\"strokeOpacity\");\r\n                let strokeWidth = this.get(\"strokeWidth\", 1);\r\n                if (this.get(\"nonScalingStroke\")) {\r\n                    strokeWidth = strokeWidth / this.get(\"scale\", 1);\r\n                }\r\n                if (this.get(\"crisp\")) {\r\n                    strokeWidth /= this._root._renderer.resolution;\r\n                }\r\n                const lineJoin = this.get(\"lineJoin\");\r\n                if (strokePattern) {\r\n                    let changed = false;\r\n                    if (stroke && (!strokePattern.get(\"color\") || strokePattern.get(\"colorInherited\"))) {\r\n                        strokePattern.set(\"color\", stroke);\r\n                        strokePattern.set(\"colorInherited\", true);\r\n                        changed = true;\r\n                    }\r\n                    if (changed) {\r\n                        // @todo: is this OK?\r\n                        strokePattern._changed();\r\n                    }\r\n                    const pattern = strokePattern.pattern;\r\n                    if (pattern) {\r\n                        this._display.lineStyle(strokeWidth, pattern, strokeOpacity, lineJoin);\r\n                        this._display.endStroke();\r\n                        if (strokePattern instanceof PicturePattern) {\r\n                            strokePattern.events.once(\"loaded\", () => {\r\n                                this._clear = true;\r\n                                this.markDirty();\r\n                            });\r\n                        }\r\n                    }\r\n                }\r\n                else if (strokeGradient) {\r\n                    const stops = strokeGradient.get(\"stops\", []);\r\n                    if (stops.length) {\r\n                        $array.each(stops, (stop) => {\r\n                            if ((!stop.color || stop.colorInherited) && stroke) {\r\n                                stop.color = stroke;\r\n                                stop.colorInherited = true;\r\n                            }\r\n                            if (stop.opacity == null || stop.opacityInherited) {\r\n                                stop.opacity = strokeOpacity;\r\n                                stop.opacityInherited = true;\r\n                            }\r\n                        });\r\n                    }\r\n                    const gradient = strokeGradient.getFill(this);\r\n                    if (gradient) {\r\n                        this._display.lineStyle(strokeWidth, gradient, strokeOpacity, lineJoin);\r\n                        this._display.endStroke();\r\n                    }\r\n                }\r\n                else if (stroke) {\r\n                    this._display.lineStyle(strokeWidth, stroke, strokeOpacity, lineJoin);\r\n                    this._display.endStroke();\r\n                }\r\n            }\r\n            if (this.getPrivate(\"showingTooltip\")) {\r\n                this.showTooltip();\r\n            }\r\n        }\r\n        this._clear = false;\r\n    }\r\n}\r\nObject.defineProperty(Graphics, \"className\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: \"Graphics\"\r\n});\r\nObject.defineProperty(Graphics, \"classNames\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: Sprite.classNames.concat([Graphics.className])\r\n});\r\n","import { Layout, eachChildren } from \"./Layout\";\r\nimport * as $array from \"../util/Array\";\r\nimport * as $math from \"../util/Math\";\r\n/**\r\n * A grid children layout for [[Container]].\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/common-elements/containers/#Layout} for more info\r\n */\r\nexport class GridLayout extends Layout {\r\n    _afterNew() {\r\n        this._setRawDefault(\"maxColumns\", Number.MAX_VALUE);\r\n        super._afterNew();\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    updateContainer(container) {\r\n        let paddingLeft = container.get(\"paddingLeft\", 0);\r\n        let paddingRight = container.get(\"paddingRight\", 0);\r\n        let paddingTop = container.get(\"paddingTop\", 0);\r\n        let availableWidth = container.maxWidth() - paddingLeft - paddingRight;\r\n        let minCellWidth = availableWidth;\r\n        let maxCellWidth = 1;\r\n        eachChildren(container, (child) => {\r\n            if (child.get(\"visible\") && child.getPrivate(\"visible\") && !child.get(\"forceHidden\")) {\r\n                if (child.get(\"position\") != \"absolute\") {\r\n                    let childWidth = child.width();\r\n                    if (childWidth < minCellWidth) {\r\n                        minCellWidth = childWidth;\r\n                    }\r\n                    if (childWidth > maxCellWidth) {\r\n                        maxCellWidth = childWidth;\r\n                    }\r\n                }\r\n            }\r\n        });\r\n        minCellWidth = $math.fitToRange(minCellWidth, 1, availableWidth);\r\n        maxCellWidth = $math.fitToRange(maxCellWidth, 1, availableWidth);\r\n        let columnCount = 1;\r\n        if (this.get(\"fixedWidthGrid\")) {\r\n            columnCount = availableWidth / maxCellWidth;\r\n        }\r\n        else {\r\n            columnCount = availableWidth / minCellWidth;\r\n        }\r\n        columnCount = Math.max(1, Math.floor(columnCount));\r\n        columnCount = Math.min(this.get(\"maxColumns\", Number.MAX_VALUE), columnCount);\r\n        let columnWidths = this.getColumnWidths(container, columnCount, maxCellWidth, availableWidth);\r\n        let prevY = paddingTop;\r\n        let column = 0;\r\n        let maxColumnHeight = 0;\r\n        columnCount = columnWidths.length;\r\n        let prevX = paddingLeft;\r\n        eachChildren(container, (child) => {\r\n            if (child.get(\"position\") == \"relative\" && child.isVisible()) {\r\n                const marginTop = child.get(\"marginTop\", 0);\r\n                const marginBottom = child.get(\"marginBottom\", 0);\r\n                let bounds = child.adjustedLocalBounds();\r\n                let marginLeft = child.get(\"marginLeft\", 0);\r\n                let marginRight = child.get(\"marginRight\", 0);\r\n                let x = prevX + marginLeft - bounds.left;\r\n                let y = prevY + marginTop - bounds.top;\r\n                child.setPrivate(\"x\", x);\r\n                child.setPrivate(\"y\", y);\r\n                prevX += columnWidths[column] + marginRight;\r\n                maxColumnHeight = Math.max(maxColumnHeight, child.height() + marginTop + marginBottom);\r\n                column++;\r\n                if (column >= columnCount) {\r\n                    column = 0;\r\n                    prevX = paddingLeft;\r\n                    prevY += maxColumnHeight;\r\n                }\r\n            }\r\n        });\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    getColumnWidths(container, columnCount, maxCellWidth, availableWidth) {\r\n        let totalWidth = 0;\r\n        let columnWidths = [];\r\n        let column = 0;\r\n        eachChildren(container, (child) => {\r\n            let bounds = child.adjustedLocalBounds();\r\n            if (child.get(\"position\") != \"absolute\" && child.isVisible()) {\r\n                if (this.get(\"fixedWidthGrid\")) {\r\n                    columnWidths[column] = maxCellWidth;\r\n                }\r\n                else {\r\n                    columnWidths[column] = Math.max(columnWidths[column] | 0, bounds.right - bounds.left + child.get(\"marginLeft\", 0) + child.get(\"marginRight\", 0));\r\n                }\r\n                if (column < container.children.length - 1) {\r\n                    column++;\r\n                    if (column == columnCount) {\r\n                        column = 0;\r\n                    }\r\n                }\r\n            }\r\n        });\r\n        $array.each(columnWidths, (w) => {\r\n            totalWidth += w;\r\n        });\r\n        if (totalWidth > availableWidth) {\r\n            if (columnCount > 2) {\r\n                columnCount -= 1;\r\n                return this.getColumnWidths(container, columnCount, maxCellWidth, availableWidth);\r\n            }\r\n            else {\r\n                return [availableWidth];\r\n            }\r\n        }\r\n        return columnWidths;\r\n    }\r\n}\r\nObject.defineProperty(GridLayout, \"className\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: \"GridLayout\"\r\n});\r\nObject.defineProperty(GridLayout, \"classNames\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: Layout.classNames.concat([GridLayout.className])\r\n});\r\n","import { Layout, eachChildren } from \"./Layout\";\r\nimport * as $type from \"../util/Type\";\r\nimport { Percent } from \"../util/Percent\";\r\n/**\r\n * A horizontal children layout for [[Container]].\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/common-elements/containers/#Layout} for more info\r\n */\r\nexport class HorizontalLayout extends Layout {\r\n    /**\r\n     * @ignore\r\n     */\r\n    updateContainer(container) {\r\n        let paddingLeft = container.get(\"paddingLeft\", 0);\r\n        let availableWidth = container.innerWidth();\r\n        let totalPercent = 0;\r\n        eachChildren(container, (child) => {\r\n            if (child.isVisible()) {\r\n                if (child.get(\"position\") == \"relative\") {\r\n                    let childWidth = child.get(\"width\");\r\n                    if (childWidth instanceof Percent) {\r\n                        totalPercent += childWidth.value;\r\n                        let w = availableWidth * childWidth.value;\r\n                        let minWidth = child.get(\"minWidth\", child.getPrivate(\"minWidth\", -Infinity));\r\n                        if (minWidth > w) {\r\n                            availableWidth -= minWidth;\r\n                            totalPercent -= childWidth.value;\r\n                        }\r\n                        let maxWidth = child.get(\"maxWidth\", child.getPrivate(\"maxWidth\", Infinity));\r\n                        if (w > maxWidth) {\r\n                            availableWidth -= maxWidth;\r\n                            totalPercent -= childWidth.value;\r\n                        }\r\n                    }\r\n                    else {\r\n                        if (!$type.isNumber(childWidth)) {\r\n                            childWidth = child.width();\r\n                        }\r\n                        availableWidth -= childWidth + child.get(\"marginLeft\", 0) + child.get(\"marginRight\", 0);\r\n                    }\r\n                }\r\n            }\r\n        });\r\n        if (availableWidth <= 0 || availableWidth == Infinity) {\r\n            availableWidth = .1;\r\n        }\r\n        //if (availableWidth > 0) {\r\n        eachChildren(container, (child) => {\r\n            if (child.isVisible()) {\r\n                if (child.get(\"position\") == \"relative\") {\r\n                    let childWidth = child.get(\"width\");\r\n                    if (childWidth instanceof Percent) {\r\n                        let privateWidth = availableWidth * childWidth.value / totalPercent - child.get(\"marginLeft\", 0) - child.get(\"marginRight\", 0);\r\n                        let minWidth = child.get(\"minWidth\", child.getPrivate(\"minWidth\", -Infinity));\r\n                        let maxWidth = child.get(\"maxWidth\", child.getPrivate(\"maxWidth\", Infinity));\r\n                        privateWidth = Math.min(Math.max(minWidth, privateWidth), maxWidth);\r\n                        child.setPrivate(\"width\", privateWidth);\r\n                    }\r\n                }\r\n            }\r\n        });\r\n        //}\r\n        let prevX = paddingLeft;\r\n        eachChildren(container, (child) => {\r\n            if (child.get(\"position\") == \"relative\") {\r\n                if (child.isVisible()) {\r\n                    let bounds = child.adjustedLocalBounds();\r\n                    let marginLeft = child.get(\"marginLeft\", 0);\r\n                    let marginRight = child.get(\"marginRight\", 0);\r\n                    let maxWidth = child.get(\"maxWidth\");\r\n                    let left = bounds.left;\r\n                    let right = bounds.right;\r\n                    if (maxWidth) {\r\n                        if (right - left > maxWidth) {\r\n                            right = left + maxWidth;\r\n                        }\r\n                    }\r\n                    let x = prevX + marginLeft - left;\r\n                    child.setPrivate(\"x\", x);\r\n                    prevX = x + right + marginRight;\r\n                }\r\n                else {\r\n                    child.setPrivate(\"x\", undefined);\r\n                }\r\n            }\r\n        });\r\n    }\r\n}\r\nObject.defineProperty(HorizontalLayout, \"className\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: \"HorizontalLayout\"\r\n});\r\nObject.defineProperty(HorizontalLayout, \"classNames\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: Layout.classNames.concat([HorizontalLayout.className])\r\n});\r\n","import { Text } from \"../render/Text\";\r\nimport { p50, p100 } from \"../util/Percent\";\r\nimport { Container } from \"./Container\";\r\nimport * as $array from \"../../core/util/Array\";\r\nimport * as $type from \"../../core/util/Type\";\r\n/**\r\n * Creates a label with support for in-line styling and data bindings.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/common-elements/labels/} for more info\r\n */\r\nexport class Label extends Container {\r\n    constructor() {\r\n        super(...arguments);\r\n        Object.defineProperty(this, \"_text\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_textKeys\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: [\r\n                \"text\",\r\n                \"fill\",\r\n                \"fillOpacity\",\r\n                \"textAlign\",\r\n                \"fontFamily\",\r\n                \"fontSize\",\r\n                \"fontStyle\",\r\n                \"fontWeight\",\r\n                \"fontStyle\",\r\n                \"fontVariant\",\r\n                \"textDecoration\",\r\n                \"shadowColor\",\r\n                \"shadowBlur\",\r\n                \"shadowOffsetX\",\r\n                \"shadowOffsetY\",\r\n                \"shadowOpacity\",\r\n                // \"leading\",\r\n                // \"letterSpacing\",\r\n                \"lineHeight\",\r\n                \"baselineRatio\",\r\n                //\"padding\",\r\n                // \"stroke\",\r\n                // \"strokeThickness\",\r\n                // \"trim\",\r\n                // \"wordWrap\",\r\n                \"direction\",\r\n                \"textBaseline\",\r\n                \"oversizedBehavior\",\r\n                \"breakWords\",\r\n                \"ellipsis\",\r\n                \"minScale\",\r\n                \"populateText\",\r\n                \"role\",\r\n                \"ignoreFormatting\"\r\n            ]\r\n        });\r\n    }\r\n    /**\r\n     * @ignore Text is not to be used directly\r\n     */\r\n    get text() {\r\n        return this._text;\r\n    }\r\n    _afterNew() {\r\n        super._afterNew();\r\n        this._makeText();\r\n        $array.each(this._textKeys, (property) => {\r\n            const propValue = this.get(property);\r\n            if (propValue != undefined) {\r\n                this._text.set(property, propValue);\r\n            }\r\n        });\r\n        if (this.get(\"html\", \"\") !== \"\") {\r\n            this._text.set(\"text\", \"\");\r\n        }\r\n        this.onPrivate(\"maxWidth\", () => {\r\n            this._setMaxDimentions();\r\n        });\r\n        this.onPrivate(\"maxHeight\", () => {\r\n            this._setMaxDimentions();\r\n        });\r\n    }\r\n    _makeText() {\r\n        this._text = this.children.push(Text.new(this._root, {}));\r\n    }\r\n    _updateChildren() {\r\n        super._updateChildren();\r\n        $array.each(this._textKeys, (property) => {\r\n            this._text.set(property, this.get(property));\r\n        });\r\n        if (this.isDirty(\"maxWidth\")) {\r\n            this._setMaxDimentions();\r\n        }\r\n        if (this.isDirty(\"maxHeight\")) {\r\n            this._setMaxDimentions();\r\n        }\r\n        if (this.isDirty(\"rotation\")) {\r\n            this._setMaxDimentions();\r\n        }\r\n        // Do not show regular text if HTML is used\r\n        if (this.get(\"html\", \"\") !== \"\") {\r\n            this._text.set(\"text\", \"\");\r\n        }\r\n        else {\r\n            this._text.set(\"text\", this.get(\"text\"));\r\n        }\r\n        if (this.isDirty(\"textAlign\") || this.isDirty(\"width\")) {\r\n            const textAlign = this.get(\"textAlign\");\r\n            let x;\r\n            if (this.get(\"width\") != null) {\r\n                if (textAlign == \"right\") {\r\n                    x = p100;\r\n                }\r\n                else if (textAlign == \"center\") {\r\n                    x = p50;\r\n                }\r\n                else {\r\n                    x = 0;\r\n                }\r\n            }\r\n            else {\r\n                if (textAlign == \"left\" || textAlign == \"start\") {\r\n                    x = this.get(\"paddingLeft\");\r\n                }\r\n                else if (textAlign == \"right\" || textAlign == \"end\") {\r\n                    x = -this.get(\"paddingRight\");\r\n                }\r\n            }\r\n            this.text.set(\"x\", x);\r\n        }\r\n    }\r\n    _setMaxDimentions() {\r\n        const rotation = this.get(\"rotation\");\r\n        const vertical = rotation == 90 || rotation == 270 || rotation == -90;\r\n        const maxWidth = this.get(\"maxWidth\", this.getPrivate(\"maxWidth\", Infinity));\r\n        if ($type.isNumber(maxWidth)) {\r\n            this.text.set(vertical ? \"maxHeight\" : \"maxWidth\", maxWidth - this.get(\"paddingLeft\", 0) - this.get(\"paddingRight\", 0));\r\n        }\r\n        else {\r\n            this.text.set(vertical ? \"maxHeight\" : \"maxWidth\", undefined);\r\n        }\r\n        const maxHeight = this.get(\"maxHeight\", this.getPrivate(\"maxHeight\", Infinity));\r\n        if ($type.isNumber(maxHeight)) {\r\n            this.text.set(vertical ? \"maxWidth\" : \"maxHeight\", maxHeight - this.get(\"paddingTop\", 0) - this.get(\"paddingBottom\", 0));\r\n        }\r\n        else {\r\n            this.text.set(vertical ? \"maxWidth\" : \"maxHeight\", undefined);\r\n        }\r\n    }\r\n    _setDataItem(dataItem) {\r\n        super._setDataItem(dataItem);\r\n        this._markDirtyKey(\"text\");\r\n        if (this.text.get(\"populateText\")) {\r\n            this.text.markDirtyText();\r\n        }\r\n    }\r\n    /**\r\n     * Returns text with populated placeholders and formatting if `populateText` is\r\n     * set to `true`.\r\n     *\r\n     * @return Populated text\r\n     */\r\n    getText() {\r\n        return this._text._getText();\r\n    }\r\n}\r\nObject.defineProperty(Label, \"className\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: \"Label\"\r\n});\r\nObject.defineProperty(Label, \"classNames\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: Container.classNames.concat([Label.className])\r\n});\r\n","import { Entity } from \"../util/Entity\";\r\nexport function eachChildren(container, f) {\r\n    if (container.get(\"reverseChildren\", false)) {\r\n        container.children.eachReverse(f);\r\n    }\r\n    else {\r\n        container.children.each(f);\r\n    }\r\n}\r\n/**\r\n * Base class for [[Container]] layouts.\r\n */\r\nexport class Layout extends Entity {\r\n}\r\nObject.defineProperty(Layout, \"className\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: \"Layout\"\r\n});\r\nObject.defineProperty(Layout, \"classNames\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: Entity.classNames.concat([Layout.className])\r\n});\r\n","import { Graphics } from \"./Graphics\";\r\nimport * as $math from \"../util/Math\";\r\n/**\r\n * Draws a rectangle with a pointer.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/common-elements/graphics/} for more info\r\n * @important\r\n */\r\nexport class PointedRectangle extends Graphics {\r\n    _beforeChanged() {\r\n        super._beforeChanged();\r\n        if (this.isDirty(\"pointerBaseWidth\") || this.isDirty(\"cornerRadius\") || this.isDirty(\"pointerLength\") || this.isDirty(\"pointerX\") || this.isDirty(\"pointerY\") || this.isDirty(\"width\") || this.isDirty(\"height\")) {\r\n            this._clear = true;\r\n        }\r\n    }\r\n    _changed() {\r\n        super._changed();\r\n        if (this._clear) {\r\n            this.markDirtyBounds();\r\n            let w = this.width();\r\n            let h = this.height();\r\n            if (w > 0 && h > 0) {\r\n                let cr = this.get(\"cornerRadius\", 8);\r\n                cr = $math.fitToRange(cr, 0, Math.min(w / 2, h / 2));\r\n                let x = this.get(\"pointerX\", 0);\r\n                let y = this.get(\"pointerY\", 0);\r\n                let bwh = this.get(\"pointerBaseWidth\", 15) / 2;\r\n                // corner coordinates\r\n                // top left\r\n                let xtl = 0;\r\n                let ytl = 0;\r\n                // top right\r\n                let xtr = w;\r\n                let ytr = 0;\r\n                // bottom right\r\n                let xbr = w;\r\n                let ybr = h;\r\n                // bottom left\r\n                let xbl = 0;\r\n                let ybl = h;\r\n                // find stem base side: http://$math.stackexchange.com/questions/274712/calculate-on-which-side-of-straign-line-is-dot-located\r\n                // d=(xx1)(y2y1)(yy1)(x2x1)\r\n                let d1 = (x - xtl) * (ybr - ytl) - (y - ytl) * (xbr - xtl);\r\n                let d2 = (x - xbl) * (ytr - ybl) - (y - ybl) * (xtr - xbl);\r\n                const display = this._display;\r\n                // top\r\n                display.moveTo(cr, 0);\r\n                if (d1 > 0 && d2 > 0) {\r\n                    let stemX = Math.round($math.fitToRange(x, cr + bwh, w - bwh - cr));\r\n                    y = $math.fitToRange(y, -Infinity, 0);\r\n                    display.lineTo(stemX - bwh, 0);\r\n                    display.lineTo(x, y);\r\n                    display.lineTo(stemX + bwh, 0);\r\n                }\r\n                display.lineTo(w - cr, 0);\r\n                display.arcTo(w, 0, w, cr, cr);\r\n                // right\r\n                if (d1 > 0 && d2 < 0) {\r\n                    let stemY = Math.round($math.fitToRange(y, cr + bwh, h - bwh - cr));\r\n                    x = $math.fitToRange(x, w, Infinity);\r\n                    display.lineTo(w, cr);\r\n                    display.lineTo(w, Math.max(stemY - bwh, cr));\r\n                    display.lineTo(x, y);\r\n                    display.lineTo(w, stemY + bwh);\r\n                }\r\n                display.lineTo(w, h - cr);\r\n                display.arcTo(w, h, w - cr, h, cr);\r\n                // bottom\r\n                if (d1 < 0 && d2 < 0) {\r\n                    let stemX = Math.round($math.fitToRange(x, cr + bwh, w - bwh - cr));\r\n                    y = $math.fitToRange(y, h, Infinity);\r\n                    display.lineTo(w - cr, h);\r\n                    display.lineTo(stemX + bwh, h);\r\n                    display.lineTo(x, y);\r\n                    display.lineTo(stemX - bwh, h);\r\n                }\r\n                display.lineTo(cr, h);\r\n                display.arcTo(0, h, 0, h - cr, cr);\r\n                // left\r\n                if (d1 < 0 && d2 > 0) {\r\n                    let stemY = Math.round($math.fitToRange(y, cr + bwh, h - cr - bwh));\r\n                    x = $math.fitToRange(x, -Infinity, 0);\r\n                    display.lineTo(0, h - cr);\r\n                    display.lineTo(0, stemY + bwh);\r\n                    display.lineTo(x, y);\r\n                    display.lineTo(0, Math.max(stemY - bwh, cr));\r\n                }\r\n                display.lineTo(0, cr);\r\n                display.arcTo(0, 0, cr, 0, cr);\r\n                display.closePath();\r\n            }\r\n        }\r\n    }\r\n}\r\nObject.defineProperty(PointedRectangle, \"className\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: \"PointedRectangle\"\r\n});\r\nObject.defineProperty(PointedRectangle, \"classNames\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: Graphics.classNames.concat([PointedRectangle.className])\r\n});\r\n","import { Graphics } from \"./Graphics\";\r\n/**\r\n * Draws a rectangle.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/common-elements/graphics/} for more info\r\n * @important\r\n */\r\nexport class Rectangle extends Graphics {\r\n    _beforeChanged() {\r\n        super._beforeChanged();\r\n        if (this.isDirty(\"width\") || this.isDirty(\"height\") || this.isPrivateDirty(\"width\") || this.isPrivateDirty(\"height\")) {\r\n            this._clear = true;\r\n        }\r\n    }\r\n    _changed() {\r\n        super._changed();\r\n        if (this._clear && !this.get(\"draw\")) {\r\n            this._draw();\r\n        }\r\n    }\r\n    _draw() {\r\n        this._display.drawRect(0, 0, this.width(), this.height());\r\n    }\r\n    _updateSize() {\r\n        this.markDirty();\r\n        this._clear = true;\r\n    }\r\n}\r\nObject.defineProperty(Rectangle, \"className\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: \"Rectangle\"\r\n});\r\nObject.defineProperty(Rectangle, \"classNames\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: Graphics.classNames.concat([Rectangle.className])\r\n});\r\n","import { __awaiter } from \"tslib\";\r\nimport { Entity } from \"../util/Entity\";\r\nimport { Template } from \"../util/Template\";\r\nimport { Percent } from \"../util/Percent\";\r\nimport { EventDispatcher } from \"../util/EventDispatcher\";\r\nimport { MultiDisposer, CounterDisposer } from \"../util/Disposer\";\r\nimport { waitForAnimations } from \"../util/Animation\";\r\nimport * as $utils from \"../util/Utils\";\r\nimport * as $array from \"../util/Array\";\r\nimport * as $type from \"../util/Type\";\r\nimport * as $object from \"../util/Object\";\r\nimport * as $math from \"../util/Math\";\r\n//import { populateString } from \"../util/PopulateString\";\r\n/**\r\n * An [[EventDispatcher]] for [[Sprite]].\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/events/} for more info\r\n */\r\nclass SpriteEventDispatcher extends EventDispatcher {\r\n    constructor(sprite) {\r\n        super();\r\n        Object.defineProperty(this, \"_sprite\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_rendererDisposers\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        Object.defineProperty(this, \"_dispatchParents\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: true\r\n        });\r\n        this._sprite = sprite;\r\n    }\r\n    _makePointerEvent(key, event) {\r\n        return {\r\n            type: key,\r\n            originalEvent: event.event,\r\n            point: event.point,\r\n            simulated: event.simulated,\r\n            native: event.native,\r\n            target: this._sprite\r\n        };\r\n    }\r\n    _onRenderer(key, dispatch) {\r\n        // TODO: is this OK? it'd be good not to require to set this on each individual element\r\n        this._sprite.set(\"interactive\", true);\r\n        this._sprite._display.interactive = true;\r\n        let events = this._rendererDisposers[key];\r\n        if (events === undefined) {\r\n            const disposer = this._sprite._display.on(key, (e) => {\r\n                dispatch.call(this, e);\r\n            });\r\n            events = this._rendererDisposers[key] = new CounterDisposer(() => {\r\n                delete this._rendererDisposers[key];\r\n                disposer.dispose();\r\n            });\r\n        }\r\n        return events.increment();\r\n    }\r\n    _on(once, type, callback, context, shouldClone, dispatch) {\r\n        const info = super._on(once, type, callback, context, shouldClone, dispatch);\r\n        const rendererEvent = SpriteEventDispatcher.RENDERER_EVENTS[type];\r\n        if (rendererEvent !== undefined) {\r\n            info.disposer = new MultiDisposer([\r\n                info.disposer,\r\n                this._onRenderer(type, rendererEvent),\r\n            ]);\r\n        }\r\n        return info;\r\n    }\r\n    /**\r\n     * Will stop any bubbling up of the event to element's parents.\r\n     *\r\n     * Should be called in an event handler, e.g.:\r\n     *\r\n     * ```TypeScript\r\n     * element.events.on(\"pointerdown\", function(ev) {\r\n     *   // Do something here and prevent from \"pointerdown\" bubbling up\r\n     *   // ...\r\n     *   ev.target.events.stopParentDispatch();\r\n     * });\r\n     * ```\r\n     * ```JavaScript\r\n     * element.events.on(\"pointerdown\", function(ev) {\r\n     *   // Do something here and prevent from \"pointerdown\" bubbling up\r\n     *   // ...\r\n     *   ev.target.events.stopParentDispatch();\r\n     * });\r\n     * ```\r\n     */\r\n    stopParentDispatch() {\r\n        this._dispatchParents = false;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    dispatchParents(type, event) {\r\n        const old = this._dispatchParents;\r\n        this._dispatchParents = true;\r\n        try {\r\n            this.dispatch(type, event);\r\n            if (this._dispatchParents && this._sprite.parent) {\r\n                this._sprite.parent.events.dispatchParents(type, event);\r\n            }\r\n        }\r\n        finally {\r\n            this._dispatchParents = old;\r\n        }\r\n    }\r\n}\r\nObject.defineProperty(SpriteEventDispatcher, \"RENDERER_EVENTS\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: {\r\n        \"click\": function (event) {\r\n            if (this.isEnabled(\"click\") && !this._sprite.isDragging() && this._sprite._hasDown() && !this._sprite._hasMoved(this._makePointerEvent(\"click\", event))) {\r\n                this.dispatch(\"click\", this._makePointerEvent(\"click\", event));\r\n            }\r\n        },\r\n        \"rightclick\": function (event) {\r\n            if (this.isEnabled(\"rightclick\")) {\r\n                this.dispatch(\"rightclick\", this._makePointerEvent(\"rightclick\", event));\r\n            }\r\n        },\r\n        \"middleclick\": function (event) {\r\n            if (this.isEnabled(\"middleclick\")) {\r\n                this.dispatch(\"middleclick\", this._makePointerEvent(\"middleclick\", event));\r\n            }\r\n        },\r\n        \"dblclick\": function (event) {\r\n            this.dispatchParents(\"dblclick\", this._makePointerEvent(\"dblclick\", event));\r\n        },\r\n        \"pointerover\": function (event) {\r\n            if (this.isEnabled(\"pointerover\")) {\r\n                this.dispatch(\"pointerover\", this._makePointerEvent(\"pointerover\", event));\r\n            }\r\n        },\r\n        \"pointerout\": function (event) {\r\n            if (this.isEnabled(\"pointerout\")) {\r\n                this.dispatch(\"pointerout\", this._makePointerEvent(\"pointerout\", event));\r\n            }\r\n        },\r\n        \"pointerdown\": function (event) {\r\n            this.dispatchParents(\"pointerdown\", this._makePointerEvent(\"pointerdown\", event));\r\n        },\r\n        \"pointerup\": function (event) {\r\n            if (this.isEnabled(\"pointerup\")) {\r\n                this.dispatch(\"pointerup\", this._makePointerEvent(\"pointerup\", event));\r\n            }\r\n        },\r\n        \"globalpointerup\": function (event) {\r\n            if (this.isEnabled(\"globalpointerup\")) {\r\n                this.dispatch(\"globalpointerup\", this._makePointerEvent(\"globalpointerup\", event));\r\n            }\r\n        },\r\n        \"globalpointermove\": function (event) {\r\n            if (this.isEnabled(\"globalpointermove\")) {\r\n                this.dispatch(\"globalpointermove\", this._makePointerEvent(\"globalpointermove\", event));\r\n            }\r\n        },\r\n        \"wheel\": function (event) {\r\n            this.dispatchParents(\"wheel\", {\r\n                type: \"wheel\",\r\n                target: this._sprite,\r\n                originalEvent: event.event,\r\n                point: event.point,\r\n            });\r\n        },\r\n    }\r\n});\r\n/**\r\n * A base class for all visual elements.\r\n *\r\n * @important\r\n */\r\nexport class Sprite extends Entity {\r\n    constructor() {\r\n        super(...arguments);\r\n        Object.defineProperty(this, \"_adjustedLocalBounds\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: { left: 0, right: 0, top: 0, bottom: 0 }\r\n        });\r\n        Object.defineProperty(this, \"_localBounds\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: { left: 0, right: 0, top: 0, bottom: 0 }\r\n        });\r\n        Object.defineProperty(this, \"_parent\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_dataItem\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_templateField\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_sizeDirty\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        // Will be true only when dragging\r\n        Object.defineProperty(this, \"_isDragging\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        // The event when the dragging starts\r\n        Object.defineProperty(this, \"_dragEvent\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        // The position when dragging starts\r\n        Object.defineProperty(this, \"_dragPoint\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_isHidden\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(this, \"_isShowing\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(this, \"_isHiding\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(this, \"_isDown\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(this, \"_downPoint\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_downPoints\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        Object.defineProperty(this, \"_toggleDp\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_dragDp\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_tooltipDp\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_hoverDp\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_focusDp\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_tooltipMoveDp\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_tooltipPointerDp\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_statesHandled\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n    }\r\n    _afterNew() {\r\n        this.setPrivateRaw(\"visible\", true);\r\n        super._afterNew();\r\n    }\r\n    _markDirtyKey(key) {\r\n        super._markDirtyKey(key);\r\n        if (key == \"x\" || key == \"y\" || key == \"dx\" || key == \"dy\") {\r\n            this.markDirtyBounds();\r\n            this._addPercentagePositionChildren();\r\n            this.markDirtyPosition();\r\n        }\r\n    }\r\n    _markDirtyPrivateKey(key) {\r\n        super._markDirtyPrivateKey(key);\r\n        if (key == \"x\" || key == \"y\") {\r\n            this.markDirtyPosition();\r\n        }\r\n    }\r\n    _removeTemplateField() {\r\n        if (this._templateField) {\r\n            this._templateField._removeObjectTemplate(this);\r\n        }\r\n    }\r\n    _createEvents() {\r\n        return new SpriteEventDispatcher(this);\r\n    }\r\n    _processTemplateField() {\r\n        let template;\r\n        const field = this.get(\"templateField\");\r\n        if (field) {\r\n            const dataItem = this.dataItem;\r\n            if (dataItem) {\r\n                const context = dataItem.dataContext;\r\n                if (context) {\r\n                    template = context[field];\r\n                    if (!(template instanceof Template) && template) {\r\n                        template = Template.new(template);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        if (this._templateField !== template) {\r\n            this._removeTemplateField();\r\n            this._templateField = template;\r\n            if (template) {\r\n                template._setObjectTemplate(this);\r\n            }\r\n            this._applyTemplates();\r\n        }\r\n    }\r\n    // TODO change this to run before the element is added to the parent, so that way\r\n    //      it doesn't need to apply the themes twice\r\n    _setDataItem(dataItem) {\r\n        const oldDataItem = this._dataItem;\r\n        this._dataItem = dataItem;\r\n        this._processTemplateField();\r\n        const eventType = \"dataitemchanged\";\r\n        if (dataItem != oldDataItem) {\r\n            if (this.events.isEnabled(eventType)) {\r\n                this.events.dispatch(eventType, {\r\n                    type: eventType,\r\n                    target: this,\r\n                    oldDataItem: oldDataItem,\r\n                    newDataItem: dataItem\r\n                });\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * A [[DataItem]] used for this element.\r\n     *\r\n     * NOTE: data item is being assigned automatically in most cases where it\r\n     * matters. Use this accessor to set data item only if you know what you're\r\n     * doing.\r\n     *\r\n     * @param  value  Data item\r\n     */\r\n    set dataItem(value) {\r\n        this._setDataItem(value);\r\n    }\r\n    /**\r\n     * @return DataItem\r\n     */\r\n    get dataItem() {\r\n        if (this._dataItem) {\r\n            return this._dataItem;\r\n        }\r\n        else {\r\n            let parent = this._parent;\r\n            while (parent) {\r\n                if (parent._dataItem) {\r\n                    return parent._dataItem;\r\n                }\r\n                else {\r\n                    parent = parent._parent;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    _addPercentageSizeChildren() {\r\n        let parent = this.parent;\r\n        if (parent) {\r\n            if (this.get(\"width\") instanceof Percent || this.get(\"height\") instanceof Percent) {\r\n                $array.pushOne(parent._percentageSizeChildren, this);\r\n            }\r\n            else {\r\n                $array.removeFirst(parent._percentageSizeChildren, this);\r\n            }\r\n        }\r\n    }\r\n    _addPercentagePositionChildren() {\r\n        let parent = this.parent;\r\n        if (parent) {\r\n            if (this.get(\"x\") instanceof Percent || this.get(\"y\") instanceof Percent) {\r\n                $array.pushOne(parent._percentagePositionChildren, this);\r\n            }\r\n            else {\r\n                $array.removeFirst(parent._percentagePositionChildren, this);\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    markDirtyPosition() {\r\n        this._root._addDirtyPosition(this);\r\n    }\r\n    updatePivotPoint() {\r\n        const bounds = this._localBounds;\r\n        if (bounds) {\r\n            const centerX = this.get(\"centerX\");\r\n            if (centerX != null) {\r\n                this._display.pivot.x = bounds.left + $utils.relativeToValue(centerX, bounds.right - bounds.left);\r\n            }\r\n            const centerY = this.get(\"centerY\");\r\n            if (centerY != null) {\r\n                this._display.pivot.y = bounds.top + $utils.relativeToValue(centerY, bounds.bottom - bounds.top);\r\n            }\r\n        }\r\n    }\r\n    _beforeChanged() {\r\n        super._beforeChanged();\r\n        // handling states in beforeChanged, otherwise states is not applied without animated theme\r\n        this._handleStates();\r\n        if (this.isDirty(\"tooltip\")) {\r\n            const previous = this._prevSettings.tooltip;\r\n            if (previous) {\r\n                previous.dispose();\r\n            }\r\n        }\r\n        if (this.isDirty(\"layer\") || this.isDirty(\"layerMargin\")) {\r\n            this._display.setLayer(this.get(\"layer\"), this.get(\"layerMargin\"));\r\n            this.markDirtyLayer();\r\n        }\r\n        if (this.isDirty(\"tooltipPosition\")) {\r\n            const tooltipMoveDp = this._tooltipMoveDp;\r\n            if (tooltipMoveDp) {\r\n                tooltipMoveDp.dispose();\r\n                this._tooltipMoveDp = undefined;\r\n            }\r\n            const tooltipPointerDp = this._tooltipPointerDp;\r\n            if (tooltipPointerDp) {\r\n                tooltipPointerDp.dispose();\r\n                this._tooltipPointerDp = undefined;\r\n            }\r\n            if (this.get(\"tooltipPosition\") == \"pointer\") {\r\n                this._tooltipPointerDp = new MultiDisposer([\r\n                    this.events.on(\"pointerover\", () => {\r\n                        this._tooltipMoveDp = this.events.on(\"globalpointermove\", (e) => {\r\n                            this.showTooltip(e.point);\r\n                        });\r\n                    }),\r\n                    this.events.on(\"pointerout\", () => {\r\n                        const tooltipMoveDp = this._tooltipMoveDp;\r\n                        if (tooltipMoveDp) {\r\n                            tooltipMoveDp.dispose();\r\n                            this._tooltipMoveDp = undefined;\r\n                        }\r\n                    })\r\n                ]);\r\n            }\r\n        }\r\n    }\r\n    _handleStates() {\r\n        if (!this._statesHandled) {\r\n            if (this.isDirty(\"active\")) {\r\n                if (this.get(\"active\")) {\r\n                    this.states.applyAnimate(\"active\");\r\n                    this.set(\"ariaChecked\", true);\r\n                }\r\n                else {\r\n                    if (!this.isHidden()) {\r\n                        this.states.applyAnimate(\"default\");\r\n                    }\r\n                    this.set(\"ariaChecked\", false);\r\n                }\r\n                this.markDirtyAccessibility();\r\n            }\r\n            if (this.isDirty(\"disabled\")) {\r\n                if (this.get(\"disabled\")) {\r\n                    this.states.applyAnimate(\"disabled\");\r\n                    this.set(\"ariaChecked\", false);\r\n                }\r\n                else {\r\n                    if (!this.isHidden()) {\r\n                        this.states.applyAnimate(\"default\");\r\n                    }\r\n                    this.set(\"ariaChecked\", true);\r\n                }\r\n                this.markDirtyAccessibility();\r\n            }\r\n            this._statesHandled = true;\r\n        }\r\n    }\r\n    _changed() {\r\n        super._changed();\r\n        const display = this._display;\r\n        const events = this.events;\r\n        if (this.isDirty(\"draggable\")) {\r\n            const draggable = this.get(\"draggable\");\r\n            if (draggable) {\r\n                this.set(\"interactive\", true);\r\n                this._dragDp = new MultiDisposer([\r\n                    events.on(\"pointerdown\", (ev) => {\r\n                        this.dragStart(ev);\r\n                    }),\r\n                    events.on(\"globalpointermove\", (ev) => {\r\n                        this.dragMove(ev);\r\n                    }),\r\n                    events.on(\"globalpointerup\", (ev) => {\r\n                        this.dragStop(ev);\r\n                    })\r\n                ]);\r\n            }\r\n            else {\r\n                if (this._dragDp) {\r\n                    this._dragDp.dispose();\r\n                    this._dragDp = undefined;\r\n                }\r\n            }\r\n            display.cancelTouch = draggable ? true : false;\r\n        }\r\n        if (this.isDirty(\"tooltipText\") || this.isDirty(\"tooltipHTML\") || this.isDirty(\"showTooltipOn\")) {\r\n            const tooltipText = this.get(\"tooltipText\");\r\n            const tooltipHTML = this.get(\"tooltipHTML\");\r\n            const showTooltipOn = this.get(\"showTooltipOn\", \"hover\");\r\n            if (this._tooltipDp) {\r\n                this._tooltipDp.dispose();\r\n                this._tooltipDp = undefined;\r\n            }\r\n            if (tooltipText || tooltipHTML) {\r\n                if (showTooltipOn == \"click\") {\r\n                    this._tooltipDp = new MultiDisposer([\r\n                        events.on(\"click\", () => {\r\n                            this.setTimeout(() => this.showTooltip(), 10);\r\n                        }),\r\n                        $utils.addEventListener(document, \"click\", (_ev) => {\r\n                            this.hideTooltip();\r\n                        })\r\n                    ]);\r\n                    this._disposers.push(this._tooltipDp);\r\n                }\r\n                else if (showTooltipOn == \"always\") {\r\n                    // nothing\r\n                }\r\n                else {\r\n                    this._tooltipDp = new MultiDisposer([\r\n                        events.on(\"pointerover\", () => {\r\n                            this.showTooltip();\r\n                        }),\r\n                        events.on(\"pointerout\", () => {\r\n                            this.hideTooltip();\r\n                        })\r\n                    ]);\r\n                    this._disposers.push(this._tooltipDp);\r\n                }\r\n            }\r\n        }\r\n        if (this.isDirty(\"toggleKey\")) {\r\n            let toggleKey = this.get(\"toggleKey\");\r\n            if (toggleKey && toggleKey != \"none\") {\r\n                this._toggleDp = events.on(\"click\", () => {\r\n                    if (!this._isDragging) {\r\n                        this.set(toggleKey, !this.get(toggleKey));\r\n                    }\r\n                });\r\n            }\r\n            else {\r\n                if (this._toggleDp) {\r\n                    this._toggleDp.dispose();\r\n                    this._toggleDp = undefined;\r\n                }\r\n            }\r\n        }\r\n        if (this.isDirty(\"opacity\")) {\r\n            display.alpha = Math.max(0, this.get(\"opacity\", 1));\r\n        }\r\n        if (this.isDirty(\"rotation\")) {\r\n            this.markDirtyBounds();\r\n            display.angle = this.get(\"rotation\", 0);\r\n        }\r\n        if (this.isDirty(\"scale\")) {\r\n            this.markDirtyBounds();\r\n            display.scale = this.get(\"scale\", 0);\r\n        }\r\n        if (this.isDirty(\"centerX\") || this.isDirty(\"centerY\")) {\r\n            this.markDirtyBounds();\r\n            this.updatePivotPoint();\r\n        }\r\n        if (this.isDirty(\"visible\") || this.isPrivateDirty(\"visible\") || this.isDirty(\"forceHidden\")) {\r\n            if (!this.get(\"visible\") || !this.getPrivate(\"visible\") || this.get(\"forceHidden\")) {\r\n                display.visible = false;\r\n                this.hideTooltip();\r\n            }\r\n            else {\r\n                display.visible = true;\r\n            }\r\n            this.markDirtyBounds();\r\n            if (this.get(\"focusable\")) {\r\n                this.markDirtyAccessibility();\r\n            }\r\n        }\r\n        if (this.isDirty(\"width\") || this.isDirty(\"height\")) {\r\n            this.markDirtyBounds();\r\n            this._addPercentageSizeChildren();\r\n            const parent = this.parent;\r\n            if (parent) {\r\n                if ((this.isDirty(\"width\") && this.get(\"width\") instanceof Percent) || (this.isDirty(\"height\") && this.get(\"height\") instanceof Percent)) {\r\n                    parent.markDirty();\r\n                    parent._prevWidth = 0;\r\n                }\r\n            }\r\n            this._sizeDirty = true;\r\n        }\r\n        if (this.isDirty(\"maxWidth\") || this.isDirty(\"maxHeight\") || this.isPrivateDirty(\"width\") || this.isPrivateDirty(\"height\") || this.isDirty(\"minWidth\") || this.isDirty(\"minHeight\") || this.isPrivateDirty(\"maxWidth\") || this.isPrivateDirty(\"maxHeight\") || this.isPrivateDirty(\"minWidth\") || this.isPrivateDirty(\"minHeight\")) {\r\n            this.markDirtyBounds();\r\n            this._sizeDirty = true;\r\n        }\r\n        if (this._sizeDirty) {\r\n            this._updateSize();\r\n        }\r\n        if (this.isDirty(\"wheelable\")) {\r\n            const wheelable = this.get(\"wheelable\");\r\n            if (wheelable) {\r\n                this.set(\"interactive\", true);\r\n            }\r\n            display.wheelable = wheelable ? true : false;\r\n        }\r\n        // Accessibility\r\n        if (this.isDirty(\"tabindexOrder\") || this.isDirty(\"focusableGroup\")) {\r\n            if (this.get(\"focusable\")) {\r\n                this._root._registerTabindexOrder(this);\r\n            }\r\n            else {\r\n                this._root._unregisterTabindexOrder(this);\r\n            }\r\n        }\r\n        if (this.isDirty(\"filter\")) {\r\n            //this.markDirtyBounds();\r\n            display.filter = this.get(\"filter\");\r\n        }\r\n        if (this.isDirty(\"cursorOverStyle\")) {\r\n            display.cursorOverStyle = this.get(\"cursorOverStyle\");\r\n        }\r\n        if (this.isDirty(\"hoverOnFocus\")) {\r\n            if (this.get(\"hoverOnFocus\")) {\r\n                this._focusDp = new MultiDisposer([\r\n                    events.on(\"focus\", () => {\r\n                        // TODO: proper hover, not just tooltip\r\n                        this.showTooltip();\r\n                    }),\r\n                    events.on(\"blur\", () => {\r\n                        // TODO: proper hover, not just tooltip\r\n                        this.hideTooltip();\r\n                    })\r\n                ]);\r\n            }\r\n            else {\r\n                if (this._focusDp) {\r\n                    this._focusDp.dispose();\r\n                    this._focusDp = undefined;\r\n                }\r\n            }\r\n        }\r\n        if (this.isDirty(\"focusable\")) {\r\n            if (this.get(\"focusable\")) {\r\n                this._root._registerTabindexOrder(this);\r\n            }\r\n            else {\r\n                this._root._unregisterTabindexOrder(this);\r\n            }\r\n            this.markDirtyAccessibility();\r\n        }\r\n        if (this.isDirty(\"role\") || this.isDirty(\"ariaLive\") || this.isDirty(\"ariaChecked\") || this.isDirty(\"ariaHidden\") || this.isDirty(\"ariaOrientation\") || this.isDirty(\"ariaValueNow\") || this.isDirty(\"ariaValueMin\") || this.isDirty(\"ariaValueMax\") || this.isDirty(\"ariaValueText\") || this.isDirty(\"ariaLabel\") || this.isDirty(\"ariaControls\")) {\r\n            // display.accessibility.ariaLabel = populateString(this, this.get(\"ariaLabel\", \"\"));\r\n            // @todo make sure ariaLabel gets populated in Root\r\n            this.markDirtyAccessibility();\r\n        }\r\n        if (this.isDirty(\"exportable\")) {\r\n            display.exportable = this.get(\"exportable\");\r\n        }\r\n        if (this.isDirty(\"interactive\")) {\r\n            const events = this.events;\r\n            if (this.get(\"interactive\")) {\r\n                this._hoverDp = new MultiDisposer([\r\n                    events.on(\"click\", (ev) => {\r\n                        if ($utils.isTouchEvent(ev.originalEvent)) {\r\n                            if (!this.getPrivate(\"touchHovering\")) {\r\n                                this.setTimeout(() => {\r\n                                    this._handleOver();\r\n                                    if (this.get(\"tooltipText\") || this.get(\"tooltipHTML\")) {\r\n                                        this.showTooltip();\r\n                                    }\r\n                                    this.setPrivateRaw(\"touchHovering\", true);\r\n                                    this.events.dispatch(\"pointerover\", {\r\n                                        type: \"pointerover\",\r\n                                        target: ev.target,\r\n                                        originalEvent: ev.originalEvent,\r\n                                        point: ev.point,\r\n                                        simulated: ev.simulated\r\n                                    });\r\n                                }, 10);\r\n                            }\r\n                        }\r\n                    }),\r\n                    events.on(\"globalpointerup\", (ev) => {\r\n                        if ($utils.isTouchEvent(ev.originalEvent)) {\r\n                            if (this.getPrivate(\"touchHovering\")) {\r\n                                this._handleOut();\r\n                                if (this.get(\"tooltipText\") || this.get(\"tooltipHTML\")) {\r\n                                    this.hideTooltip();\r\n                                }\r\n                                this.setPrivateRaw(\"touchHovering\", false);\r\n                                this.events.dispatch(\"pointerout\", {\r\n                                    type: \"pointerout\",\r\n                                    target: ev.target,\r\n                                    originalEvent: ev.originalEvent,\r\n                                    point: ev.point,\r\n                                    simulated: ev.simulated\r\n                                });\r\n                            }\r\n                        }\r\n                        if (this._isDown) {\r\n                            this._handleUp(ev);\r\n                        }\r\n                        //this._isDown = false;\r\n                    }),\r\n                    events.on(\"pointerover\", () => {\r\n                        this._handleOver();\r\n                    }),\r\n                    events.on(\"pointerout\", () => {\r\n                        this._handleOut();\r\n                    }),\r\n                    events.on(\"pointerdown\", (e) => {\r\n                        this._handleDown(e);\r\n                    })\r\n                ]);\r\n            }\r\n            else {\r\n                this._display.interactive = false;\r\n                if (this._hoverDp) {\r\n                    this._hoverDp.dispose();\r\n                    this._hoverDp = undefined;\r\n                }\r\n            }\r\n        }\r\n        if (this.isDirty(\"forceInactive\")) {\r\n            this._display.inactive = this.get(\"forceInactive\", false);\r\n        }\r\n        if (this.get(\"showTooltipOn\") == \"always\" && this._display.visible) {\r\n            this.showTooltip();\r\n        }\r\n    }\r\n    /**\r\n     * @ignore\r\n     * @todo should this be user-accessible?\r\n     */\r\n    dragStart(e) {\r\n        this._dragEvent = e;\r\n        this.events.stopParentDispatch();\r\n    }\r\n    /**\r\n     * @ignore\r\n     * @todo should this be user-accessible?\r\n     */\r\n    dragStop(e) {\r\n        this._dragEvent = undefined;\r\n        this._dragPoint = undefined;\r\n        this.events.stopParentDispatch();\r\n        if (this._isDragging) {\r\n            this._isDragging = false;\r\n            const type = \"dragstop\";\r\n            if (this.events.isEnabled(type)) {\r\n                this.events.dispatch(type, {\r\n                    type: type,\r\n                    target: this,\r\n                    originalEvent: e.originalEvent,\r\n                    point: e.point,\r\n                    simulated: e.simulated,\r\n                });\r\n            }\r\n        }\r\n    }\r\n    _handleOver() {\r\n        if (!this.isHidden()) {\r\n            if (this.get(\"active\") && this.states.lookup(\"hoverActive\")) {\r\n                this.states.applyAnimate(\"hoverActive\");\r\n            }\r\n            else if (this.get(\"disabled\") && this.states.lookup(\"hoverDisabled\")) {\r\n                this.states.applyAnimate(\"hoverDisabled\");\r\n            }\r\n            else {\r\n                this.states.applyAnimate(\"hover\");\r\n            }\r\n            if (this.get(\"draggable\") && this._isDown && this.states.lookup(\"down\")) {\r\n                this.states.applyAnimate(\"down\");\r\n            }\r\n        }\r\n    }\r\n    _handleOut() {\r\n        if (!this.isHidden()) {\r\n            if (this.get(\"active\") && this.states.lookup(\"active\")) {\r\n                this.states.applyAnimate(\"active\");\r\n            }\r\n            else if (this.get(\"disabled\") && this.states.lookup(\"disabled\")) {\r\n                this.states.applyAnimate(\"disabled\");\r\n            }\r\n            else {\r\n                if (this.states.lookup(\"hover\") || this.states.lookup(\"hoverActive\")) {\r\n                    this.states.applyAnimate(\"default\");\r\n                }\r\n            }\r\n            if (this.get(\"draggable\") && this._isDown && this.states.lookup(\"down\")) {\r\n                this.states.applyAnimate(\"down\");\r\n            }\r\n        }\r\n    }\r\n    _handleUp(e) {\r\n        if (!this.isHidden()) {\r\n            if (this.get(\"active\") && this.states.lookup(\"active\")) {\r\n                this.states.applyAnimate(\"active\");\r\n            }\r\n            else if (this.get(\"disabled\") && this.states.lookup(\"disabled\")) {\r\n                this.states.applyAnimate(\"disabled\");\r\n            }\r\n            else if (this.states.lookup(\"down\")) {\r\n                if (this.isHover()) {\r\n                    this.states.applyAnimate(\"hover\");\r\n                }\r\n                else {\r\n                    this.states.applyAnimate(\"default\");\r\n                }\r\n            }\r\n            // @todo remove this once migrated to _downPoints\r\n            this._downPoint = undefined;\r\n            const pointerId = $utils.getPointerId(e.originalEvent);\r\n            delete this._downPoints[pointerId];\r\n            if ($object.keys(this._downPoints).length == 0) {\r\n                this._isDown = false;\r\n            }\r\n        }\r\n    }\r\n    _hasMoved(e) {\r\n        // @todo remove this once migrated to _downPoints\r\n        // if (this._downPoint) {\r\n        // \tconst x = Math.abs(this._downPoint.x - e.point.x);\r\n        // \tconst y = Math.abs(this._downPoint.y - e.point.y);\r\n        // \treturn (x > 5) || (y > 5);\r\n        // }\r\n        const pointerId = $utils.getPointerId(e.originalEvent);\r\n        const downPoint = this._downPoints[pointerId];\r\n        if (downPoint) {\r\n            const x = Math.abs(downPoint.x - e.point.x);\r\n            const y = Math.abs(downPoint.y - e.point.y);\r\n            return (x > 5) || (y > 5);\r\n        }\r\n        return false;\r\n    }\r\n    _hasDown() {\r\n        return $object.keys(this._downPoints).length > 0;\r\n    }\r\n    _handleDown(e) {\r\n        const parent = this.parent;\r\n        if (parent && !this.get(\"draggable\")) {\r\n            parent._handleDown(e);\r\n        }\r\n        if (this.get(\"interactive\") && !this.isHidden()) {\r\n            if (this.states.lookup(\"down\")) {\r\n                this.states.applyAnimate(\"down\");\r\n            }\r\n            this._downPoint = {\r\n                x: e.point.x,\r\n                y: e.point.y\r\n            };\r\n            // @todo remove this once migrated to _downPoints\r\n            this._isDown = true;\r\n            const pointerId = $utils.getPointerId(e.originalEvent);\r\n            this._downPoints[pointerId] = {\r\n                x: e.point.x,\r\n                y: e.point.y\r\n            };\r\n        }\r\n    }\r\n    /**\r\n     * @ignore\r\n     * @todo should this be user-accessible?\r\n     */\r\n    dragMove(e) {\r\n        let dragEvent = this._dragEvent;\r\n        if (dragEvent) {\r\n            if (dragEvent.simulated && !e.simulated) {\r\n                return true;\r\n            }\r\n            let angle = 0;\r\n            let parent = this.parent;\r\n            while (parent != null) {\r\n                angle += parent.get(\"rotation\", 0);\r\n                parent = parent.parent;\r\n            }\r\n            let x = e.point.x - dragEvent.point.x;\r\n            let y = e.point.y - dragEvent.point.y;\r\n            const events = this.events;\r\n            if (dragEvent.simulated && !this._isDragging) {\r\n                this._isDragging = true;\r\n                this._dragEvent = e;\r\n                this._dragPoint = {\r\n                    x: this.x(),\r\n                    y: this.y()\r\n                };\r\n                const type = \"dragstart\";\r\n                if (events.isEnabled(type)) {\r\n                    events.dispatch(type, {\r\n                        type: type,\r\n                        target: this,\r\n                        originalEvent: e.originalEvent,\r\n                        point: e.point,\r\n                        simulated: e.simulated,\r\n                    });\r\n                }\r\n            }\r\n            if (this._isDragging) {\r\n                let dragPoint = this._dragPoint;\r\n                this.set(\"x\", dragPoint.x + x * $math.cos(angle) + y * $math.sin(angle));\r\n                this.set(\"y\", dragPoint.y + y * $math.cos(angle) - x * $math.sin(angle));\r\n                const type = \"dragged\";\r\n                if (events.isEnabled(type)) {\r\n                    events.dispatch(type, {\r\n                        type: type,\r\n                        target: this,\r\n                        originalEvent: e.originalEvent,\r\n                        point: e.point,\r\n                        simulated: e.simulated,\r\n                    });\r\n                }\r\n            }\r\n            else {\r\n                if (Math.hypot(x, y) > 5) {\r\n                    this._isDragging = true;\r\n                    this._dragEvent = e;\r\n                    this._dragPoint = {\r\n                        x: this.x(),\r\n                        y: this.y()\r\n                    };\r\n                    const type = \"dragstart\";\r\n                    if (events.isEnabled(type)) {\r\n                        events.dispatch(type, {\r\n                            type: type,\r\n                            target: this,\r\n                            originalEvent: e.originalEvent,\r\n                            point: e.point,\r\n                            simulated: e.simulated\r\n                        });\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n    _updateSize() {\r\n    }\r\n    _getBounds() {\r\n        this._localBounds = this._display.getLocalBounds();\r\n    }\r\n    /**\r\n     * Returns depth (how deep in the hierachy of the content tree) of this\r\n     * element.\r\n     *\r\n     * @return Depth\r\n     */\r\n    depth() {\r\n        let self = this.parent;\r\n        let depth = 0;\r\n        while (true) {\r\n            if (self) {\r\n                ++depth;\r\n                self = self.parent;\r\n            }\r\n            else {\r\n                return depth;\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    markDirtySize() {\r\n        this._sizeDirty = true;\r\n        this.markDirty();\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    markDirtyBounds() {\r\n        if (this.get(\"isMeasured\")) {\r\n            const display = this._display;\r\n            this._root._addDirtyBounds(this);\r\n            display.isMeasured = true;\r\n            display.invalidateBounds();\r\n            const parent = this.parent;\r\n            if (parent && this.get(\"position\") != \"absolute\") {\r\n                if (parent.get(\"width\") == null || parent.get(\"height\") == null || parent.get(\"layout\")) {\r\n                    parent.markDirtyBounds();\r\n                }\r\n            }\r\n            if (this.get(\"focusable\") && this.isFocus()) {\r\n                this.markDirtyAccessibility();\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    markDirtyAccessibility() {\r\n        //if (this._root.focused(this)) {\r\n        this._root._invalidateAccessibility(this);\r\n        //}\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    markDirtyLayer() {\r\n        //this._display.markDirtyLayer(this.isDirty(\"opacity\") || this.isDirty(\"visible\")); https://codepen.io/team/amcharts/pen/gOWZPmP <- problems\r\n        this._display.markDirtyLayer(true);\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    markDirty() {\r\n        super.markDirty();\r\n        this.markDirtyLayer();\r\n    }\r\n    _updateBounds() {\r\n        const oldBounds = this._adjustedLocalBounds;\r\n        let newBounds;\r\n        // if display.visible == false, it still returns bounds\r\n        if (!this.get(\"visible\") || !this.getPrivate(\"visible\") || this.get(\"forceHidden\")) {\r\n            newBounds = {\r\n                left: 0,\r\n                right: 0,\r\n                top: 0,\r\n                bottom: 0\r\n            };\r\n            this._localBounds = newBounds;\r\n            this._adjustedLocalBounds = newBounds;\r\n        }\r\n        else {\r\n            this._getBounds();\r\n            this._fixMinBounds(this._localBounds);\r\n            this.updatePivotPoint();\r\n            this._adjustedLocalBounds = this._display.getAdjustedBounds(this._localBounds);\r\n            newBounds = this._adjustedLocalBounds;\r\n        }\r\n        if (!oldBounds || (oldBounds.left !== newBounds.left || oldBounds.top !== newBounds.top || oldBounds.right !== newBounds.right || oldBounds.bottom !== newBounds.bottom)) {\r\n            const eventType = \"boundschanged\";\r\n            if (this.events.isEnabled(eventType)) {\r\n                this.events.dispatch(eventType, { type: eventType, target: this });\r\n            }\r\n            if (this.parent) {\r\n                this.parent.markDirty();\r\n                this.parent.markDirtyBounds();\r\n            }\r\n        }\r\n    }\r\n    _fixMinBounds(bounds) {\r\n        let minWidth = this.get(\"minWidth\", this.getPrivate(\"minWidth\"));\r\n        let minHeight = this.get(\"minHeight\", this.getPrivate(\"minHeight\"));\r\n        if ($type.isNumber(minWidth)) {\r\n            if (bounds.right - bounds.left < minWidth) {\r\n                bounds.right = bounds.left + minWidth;\r\n            }\r\n        }\r\n        if ($type.isNumber(minHeight)) {\r\n            if (bounds.bottom - bounds.top < minHeight) {\r\n                bounds.bottom = bounds.top + minHeight;\r\n            }\r\n        }\r\n        let privateWidth = this.getPrivate(\"width\");\r\n        let privateHeight = this.getPrivate(\"height\");\r\n        if ($type.isNumber(privateWidth)) {\r\n            if (privateWidth > 0) {\r\n                bounds.right = bounds.left + privateWidth;\r\n            }\r\n            else {\r\n                bounds.left = bounds.right + privateWidth;\r\n            }\r\n        }\r\n        if ($type.isNumber(privateHeight)) {\r\n            if (privateHeight > 0) {\r\n                bounds.bottom = bounds.top + privateHeight;\r\n            }\r\n            else {\r\n                bounds.top = bounds.bottom + privateHeight;\r\n            }\r\n        }\r\n    }\r\n    _removeParent(parent) {\r\n        if (parent) {\r\n            parent.children.removeValue(this);\r\n            $array.removeFirst(parent._percentageSizeChildren, this);\r\n            $array.removeFirst(parent._percentagePositionChildren, this);\r\n        }\r\n    }\r\n    _clearDirty() {\r\n        super._clearDirty();\r\n        this._sizeDirty = false;\r\n        this._statesHandled = false;\r\n    }\r\n    /**\r\n     * Simulate hover over element.\r\n     */\r\n    hover() {\r\n        this.showTooltip();\r\n        this._handleOver();\r\n    }\r\n    /**\r\n     * Simulate unhover over element.\r\n     */\r\n    unhover() {\r\n        this.hideTooltip();\r\n        this._handleOut();\r\n    }\r\n    /**\r\n     * Shows element's [[Tooltip]].\r\n     */\r\n    showTooltip(point) {\r\n        const tooltip = this.getTooltip();\r\n        const tooltipText = this.get(\"tooltipText\");\r\n        const tooltipHTML = this.get(\"tooltipHTML\");\r\n        if ((tooltipText || tooltipHTML) && tooltip) {\r\n            const tooltipPosition = this.get(\"tooltipPosition\");\r\n            const tooltipTarget = this.getPrivate(\"tooltipTarget\", this);\r\n            if (tooltipPosition == \"fixed\" || !point) {\r\n                this._display._setMatrix();\r\n                point = this.toGlobal(tooltipTarget._getTooltipPoint());\r\n            }\r\n            tooltip.set(\"pointTo\", point);\r\n            tooltip.set(\"tooltipTarget\", tooltipTarget);\r\n            if (!tooltip.get(\"x\")) {\r\n                tooltip.set(\"x\", point.x);\r\n            }\r\n            if (!tooltip.get(\"y\")) {\r\n                tooltip.set(\"y\", point.y);\r\n            }\r\n            if (tooltipText) {\r\n                tooltip.label.set(\"text\", tooltipText);\r\n            }\r\n            if (tooltipHTML) {\r\n                tooltip.label.set(\"html\", tooltipHTML);\r\n            }\r\n            const dataItem = this.dataItem;\r\n            if (dataItem) {\r\n                tooltip.label._setDataItem(dataItem);\r\n            }\r\n            if (this.get(\"showTooltipOn\") == \"always\" && (point.x < 0 || point.x > this._root.width() || point.y < 0 || point.y > this._root.height())) {\r\n                this.hideTooltip();\r\n                return;\r\n            }\r\n            tooltip.label.text.markDirtyText();\r\n            const promise = tooltip.show();\r\n            this.setPrivateRaw(\"showingTooltip\", true);\r\n            return promise;\r\n        }\r\n    }\r\n    /**\r\n     * Hides element's [[Tooltip]].\r\n     */\r\n    hideTooltip() {\r\n        const tooltip = this.getTooltip();\r\n        if (tooltip) {\r\n            if (tooltip.get(\"tooltipTarget\") == this.getPrivate(\"tooltipTarget\", this)) {\r\n                let timeout = tooltip.get(\"keepTargetHover\") && tooltip.get(\"stateAnimationDuration\", 0) == 0 ? 400 : undefined;\r\n                const promise = tooltip.hide(timeout);\r\n                this.setPrivateRaw(\"showingTooltip\", false);\r\n                return promise;\r\n            }\r\n        }\r\n    }\r\n    _getTooltipPoint() {\r\n        const bounds = this._localBounds;\r\n        if (bounds) {\r\n            let x = 0;\r\n            let y = 0;\r\n            if (!this.get(\"isMeasured\")) {\r\n                x = $utils.relativeToValue(this.get(\"tooltipX\", 0), this.width());\r\n                y = $utils.relativeToValue(this.get(\"tooltipY\", 0), this.height());\r\n            }\r\n            else {\r\n                x = bounds.left + $utils.relativeToValue(this.get(\"tooltipX\", 0), bounds.right - bounds.left);\r\n                y = bounds.top + $utils.relativeToValue(this.get(\"tooltipY\", 0), bounds.bottom - bounds.top);\r\n            }\r\n            return { x, y };\r\n        }\r\n        return { x: 0, y: 0 };\r\n    }\r\n    /**\r\n     * Returns [[Tooltip]] used for this element.\r\n     *\r\n     * @return Tooltip\r\n     */\r\n    getTooltip() {\r\n        let tooltip = this.get(\"tooltip\");\r\n        if (!tooltip) {\r\n            let parent = this.parent;\r\n            if (parent) {\r\n                return parent.getTooltip();\r\n            }\r\n        }\r\n        else {\r\n            return tooltip;\r\n        }\r\n    }\r\n    _updatePosition() {\r\n        const parent = this.parent;\r\n        let dx = this.get(\"dx\", 0);\r\n        let dy = this.get(\"dy\", 0);\r\n        let x = this.get(\"x\");\r\n        let _x = this.getPrivate(\"x\");\r\n        let xx = 0;\r\n        let yy = 0;\r\n        const position = this.get(\"position\");\r\n        if (x instanceof Percent) {\r\n            if (parent) {\r\n                x = parent.innerWidth() * x.value + parent.get(\"paddingLeft\", 0);\r\n            }\r\n            else {\r\n                x = 0;\r\n            }\r\n        }\r\n        if ($type.isNumber(x)) {\r\n            xx = x + dx;\r\n        }\r\n        else {\r\n            if (_x != null) {\r\n                xx = _x;\r\n            }\r\n            else if (parent) {\r\n                if (position == \"relative\") {\r\n                    xx = parent.get(\"paddingLeft\", 0) + dx;\r\n                }\r\n            }\r\n        }\r\n        let y = this.get(\"y\");\r\n        let _y = this.getPrivate(\"y\");\r\n        if (y instanceof Percent) {\r\n            if (parent) {\r\n                y = parent.innerHeight() * y.value + parent.get(\"paddingTop\", 0);\r\n            }\r\n            else {\r\n                y = 0;\r\n            }\r\n        }\r\n        if ($type.isNumber(y)) {\r\n            yy = y + dy;\r\n        }\r\n        else {\r\n            if (_y != null) {\r\n                yy = _y;\r\n            }\r\n            else if (parent) {\r\n                if (position == \"relative\") {\r\n                    yy = parent.get(\"paddingTop\", 0) + dy;\r\n                }\r\n            }\r\n        }\r\n        const display = this._display;\r\n        if (display.x != xx || display.y != yy) {\r\n            display.invalidateBounds();\r\n            display.x = xx;\r\n            display.y = yy;\r\n            const eventType = \"positionchanged\";\r\n            if (this.events.isEnabled(eventType)) {\r\n                this.events.dispatch(eventType, { type: eventType, target: this });\r\n            }\r\n        }\r\n        // Update tooltip position together with the Sprite\r\n        if (this.getPrivate(\"showingTooltip\")) {\r\n            this.showTooltip();\r\n        }\r\n    }\r\n    /**\r\n     * Returns element's actual X position in pixels.\r\n     *\r\n     * @return X (px)\r\n     */\r\n    x() {\r\n        let x = this.get(\"x\");\r\n        let _x = this.getPrivate(\"x\");\r\n        const parent = this.parent;\r\n        if (parent) {\r\n            if (x instanceof Percent) {\r\n                return $utils.relativeToValue(x, parent.innerWidth()) + parent.get(\"paddingLeft\", 0);\r\n            }\r\n            else {\r\n                if (!$type.isNumber(x)) {\r\n                    if (_x != null) {\r\n                        return _x;\r\n                    }\r\n                    else {\r\n                        return parent.get(\"paddingLeft\", this._display.x);\r\n                    }\r\n                }\r\n                else {\r\n                    return x;\r\n                }\r\n            }\r\n        }\r\n        return this._display.x;\r\n    }\r\n    /**\r\n     * Returns element's actual Y position in pixels.\r\n     *\r\n     * @return Y (px)\r\n     */\r\n    y() {\r\n        let _y = this.getPrivate(\"y\");\r\n        if (_y != null) {\r\n            return _y;\r\n        }\r\n        let y = this.get(\"y\");\r\n        const parent = this.parent;\r\n        if (parent) {\r\n            if (y instanceof Percent) {\r\n                return $utils.relativeToValue(y, parent.innerHeight()) + parent.get(\"paddingTop\", 0);\r\n            }\r\n            else {\r\n                if (!$type.isNumber(y)) {\r\n                    if (_y != null) {\r\n                        return _y;\r\n                    }\r\n                    else {\r\n                        return parent.get(\"paddingTop\", this._display.y);\r\n                    }\r\n                }\r\n                else {\r\n                    return y;\r\n                }\r\n            }\r\n        }\r\n        return this._display.y;\r\n    }\r\n    _dispose() {\r\n        super._dispose();\r\n        this._display.dispose();\r\n        this._removeTemplateField();\r\n        this._removeParent(this.parent);\r\n        this._root._removeFocusElement(this);\r\n        const tooltip = this.get(\"tooltip\");\r\n        if (tooltip) {\r\n            tooltip.dispose();\r\n        }\r\n        this.markDirty();\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    adjustedLocalBounds() {\r\n        this._fixMinBounds(this._adjustedLocalBounds);\r\n        return this._adjustedLocalBounds;\r\n    }\r\n    /**\r\n     * Returns local coordinates of the element's bounds.\r\n     *\r\n     * @ignore\r\n     * @return Global bounds\r\n     */\r\n    localBounds() {\r\n        return this._localBounds;\r\n    }\r\n    /**\r\n     * Returns adjusted local coordinates of the element's bounds.\r\n     *\r\n     * @ignore\r\n     * @return Global bounds\r\n     */\r\n    bounds() {\r\n        const bounds = this._adjustedLocalBounds;\r\n        const x = this.x();\r\n        const y = this.y();\r\n        return { left: bounds.left + x, right: bounds.right + x, top: bounds.top + y, bottom: bounds.bottom + y };\r\n    }\r\n    /**\r\n     * Returns global coordinates of the element's bounds.\r\n     *\r\n     * @ignore\r\n     * @return Global bounds\r\n     */\r\n    globalBounds() {\r\n        const bounds = this.localBounds();\r\n        const p0 = this.toGlobal({ x: bounds.left, y: bounds.top });\r\n        const p1 = this.toGlobal({ x: bounds.right, y: bounds.top });\r\n        const p2 = this.toGlobal({ x: bounds.right, y: bounds.bottom });\r\n        const p3 = this.toGlobal({ x: bounds.left, y: bounds.bottom });\r\n        return {\r\n            left: Math.min(p0.x, p1.x, p2.x, p3.x),\r\n            top: Math.min(p0.y, p1.y, p2.y, p3.y),\r\n            right: Math.max(p0.x, p1.x, p2.x, p3.x),\r\n            bottom: Math.max(p0.y, p1.y, p2.y, p3.y)\r\n        };\r\n    }\r\n    _onShow(_duration) {\r\n    }\r\n    _onHide(_duration) {\r\n    }\r\n    /**\r\n     * Plays initial reveal animation regardless if element is currently hidden\r\n     * or visible.\r\n     *\r\n     * @param   duration  Duration of the animation in milliseconds\r\n     * @param   delay     Delay showing of the element by X milliseconds\r\n     * @return            Promise\r\n     */\r\n    appear(duration, delay) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            yield this.hide(0);\r\n            if (delay) {\r\n                return new Promise((success, _error) => {\r\n                    this.setTimeout(() => {\r\n                        success(this.show(duration));\r\n                    }, delay);\r\n                });\r\n            }\r\n            else {\r\n                return this.show(duration);\r\n            }\r\n        });\r\n    }\r\n    /**\r\n     * Shows currently hidden element and returns a `Promise` which completes\r\n     * when all showing animations are finished.\r\n     *\r\n     * ```TypeScript\r\n     * series.show().then(function(ev) {\r\n     *   console.log(\"Series is now fully visible\");\r\n     * })\r\n     * ```\r\n     * ```JavaScript\r\n     * series.show().then(function(ev) {\r\n     *   console.log(\"Series is now fully visible\");\r\n     * })\r\n     * ```\r\n     *\r\n     * @return Promise\r\n     */\r\n    show(duration) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            if (!this._isShowing) {\r\n                this._isHidden = false;\r\n                this._isShowing = true;\r\n                this._isHiding = false;\r\n                if (this.states.lookup(\"default\").get(\"visible\")) {\r\n                    this.set(\"visible\", true);\r\n                }\r\n                this._onShow(duration);\r\n                const animations = this.states.applyAnimate(\"default\", duration);\r\n                yield waitForAnimations(animations);\r\n                this._isShowing = false;\r\n            }\r\n        });\r\n    }\r\n    /**\r\n     * Hides the element and returns a `Promise` which completes when all hiding\r\n     * animations are finished.\r\n     *\r\n     * ```TypeScript\r\n     * series.hide().then(function(ev) {\r\n     *   console.log(\"Series finished hiding\");\r\n     * })\r\n     * ```\r\n     * ```JavaScript\r\n     * series.hide().then(function(ev) {\r\n     *   console.log(\"Series finished hiding\");\r\n     * })\r\n     * ```\r\n     *\r\n     * @return Promise\r\n     */\r\n    hide(duration) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            if (!this._isHiding && !this._isHidden) {\r\n                this._isHiding = true;\r\n                this._isShowing = false;\r\n                let state = this.states.lookup(\"hidden\");\r\n                if (!state) {\r\n                    state = this.states.create(\"hidden\", {\r\n                        \"opacity\": 0,\r\n                        \"visible\": false\r\n                    });\r\n                }\r\n                this._isHidden = true;\r\n                this._onHide(duration);\r\n                const animations = this.states.applyAnimate(\"hidden\", duration);\r\n                yield waitForAnimations(animations);\r\n                this._isHiding = false;\r\n            }\r\n        });\r\n    }\r\n    /**\r\n     * Returns `true` if this element is currently hidden.\r\n     *\r\n     * @return Is hidden?\r\n     */\r\n    isHidden() {\r\n        return this._isHidden;\r\n    }\r\n    /**\r\n     * Returns `true` if this element is currently animating to a default state.\r\n     *\r\n     * @return Is showing?\r\n     */\r\n    isShowing() {\r\n        return this._isShowing;\r\n    }\r\n    /**\r\n     * Returns `true` if this element is currently animating to a hidden state.\r\n     *\r\n     * @return Is hiding?\r\n     */\r\n    isHiding() {\r\n        return this._isHiding;\r\n    }\r\n    /**\r\n     * Returns `true` if this element is currently hovered by a pointer.\r\n     *\r\n     * @return Is hovered?\r\n     */\r\n    isHover() {\r\n        return this._display.hovering();\r\n    }\r\n    /**\r\n     * Returns `true` if this element does currently have focus.\r\n     *\r\n     * @return Is focused?\r\n     */\r\n    isFocus() {\r\n        return this._root.focused(this);\r\n    }\r\n    /**\r\n     * Returns `true` if this element is currently being dragged.\r\n     *\r\n     * @return Is dragged?\r\n     */\r\n    isDragging() {\r\n        return this._isDragging;\r\n    }\r\n    /**\r\n     * Returns `false` if if either public or private setting `visible` is set\r\n     * to `false`, or `forceHidden` is set to `true`.\r\n     *\r\n     * @return Visible?\r\n     */\r\n    isVisible() {\r\n        if (this.get(\"visible\") && this.getPrivate(\"visible\") && !this.get(\"forceHidden\")) {\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n    /**\r\n     * Same as `isVisible()`, except it checks all ascendants, too.\r\n     *\r\n     * @since 5.2.7\r\n     * @return Visible?\r\n     */\r\n    isVisibleDeep() {\r\n        return this._parent ? (this._parent.isVisibleDeep() && this.isVisible()) : this.isVisible();\r\n    }\r\n    /**\r\n     * Returns an actual opacity of the element, taking into account all parents.\r\n     *\r\n     * @return Opacity\r\n     * @since 5.2.11\r\n     */\r\n    compositeOpacity() {\r\n        const opacity = this.get(\"opacity\", 1);\r\n        return this._parent ? (this._parent.compositeOpacity() * opacity) : opacity;\r\n    }\r\n    /**\r\n     * Returns width of this element in pixels.\r\n     *\r\n     * @return Width (px)\r\n     */\r\n    width() {\r\n        let width = this.get(\"width\");\r\n        let maxWidth = this.get(\"maxWidth\", this.getPrivate(\"maxWidth\"));\r\n        let minWidth = this.get(\"minWidth\", this.getPrivate(\"minWidth\"));\r\n        let privateWidth = this.getPrivate(\"width\");\r\n        let w = 0;\r\n        if ($type.isNumber(privateWidth)) {\r\n            w = privateWidth;\r\n        }\r\n        else {\r\n            if (width == null) {\r\n                if (this._adjustedLocalBounds) {\r\n                    w = this._adjustedLocalBounds.right - this._adjustedLocalBounds.left;\r\n                }\r\n            }\r\n            else {\r\n                if (width instanceof Percent) {\r\n                    const parent = this.parent;\r\n                    if (parent) {\r\n                        w = parent.innerWidth() * width.value;\r\n                    }\r\n                    else {\r\n                        w = this._root.width() * width.value;\r\n                    }\r\n                }\r\n                else if ($type.isNumber(width)) {\r\n                    w = width;\r\n                }\r\n            }\r\n        }\r\n        if ($type.isNumber(minWidth)) {\r\n            w = Math.max(minWidth, w);\r\n        }\r\n        if ($type.isNumber(maxWidth)) {\r\n            w = Math.min(maxWidth, w);\r\n        }\r\n        return w;\r\n    }\r\n    /**\r\n     * Returns maximum allowed width of this element in pixels.\r\n     *\r\n     * @return Maximum width (px)\r\n     */\r\n    maxWidth() {\r\n        let maxWidth = this.get(\"maxWidth\", this.getPrivate(\"maxWidth\"));\r\n        if ($type.isNumber(maxWidth)) {\r\n            return maxWidth;\r\n        }\r\n        else {\r\n            let width = this.get(\"width\");\r\n            if ($type.isNumber(width)) {\r\n                return width;\r\n            }\r\n        }\r\n        const parent = this.parent;\r\n        if (parent) {\r\n            return parent.innerWidth();\r\n        }\r\n        return this._root.width();\r\n    }\r\n    /**\r\n     * Returns maximum allowed height of this element in pixels.\r\n     *\r\n     * @return Maximum height (px)\r\n     */\r\n    maxHeight() {\r\n        let maxHeight = this.get(\"maxHeight\", this.getPrivate(\"maxHeight\"));\r\n        if ($type.isNumber(maxHeight)) {\r\n            return maxHeight;\r\n        }\r\n        else {\r\n            let height = this.get(\"height\");\r\n            if ($type.isNumber(height)) {\r\n                return height;\r\n            }\r\n        }\r\n        const parent = this.parent;\r\n        if (parent) {\r\n            return parent.innerHeight();\r\n        }\r\n        return this._root.height();\r\n    }\r\n    /**\r\n     * Returns height of this element in pixels.\r\n     *\r\n     * @return Height (px)\r\n     */\r\n    height() {\r\n        let height = this.get(\"height\");\r\n        let maxHeight = this.get(\"maxHeight\", this.getPrivate(\"maxHeight\"));\r\n        let minHeight = this.get(\"minHeight\", this.getPrivate(\"minHeight\"));\r\n        let privateHeight = this.getPrivate(\"height\");\r\n        let h = 0;\r\n        if ($type.isNumber(privateHeight)) {\r\n            h = privateHeight;\r\n        }\r\n        else {\r\n            if (height == null) {\r\n                if (this._adjustedLocalBounds) {\r\n                    h = this._adjustedLocalBounds.bottom - this._adjustedLocalBounds.top;\r\n                }\r\n            }\r\n            else {\r\n                if (height instanceof Percent) {\r\n                    const parent = this.parent;\r\n                    if (parent) {\r\n                        h = parent.innerHeight() * height.value;\r\n                    }\r\n                    else {\r\n                        h = this._root.height() * height.value;\r\n                    }\r\n                }\r\n                else if ($type.isNumber(height)) {\r\n                    h = height;\r\n                }\r\n            }\r\n        }\r\n        if ($type.isNumber(minHeight)) {\r\n            h = Math.max(minHeight, h);\r\n        }\r\n        if ($type.isNumber(maxHeight)) {\r\n            h = Math.min(maxHeight, h);\r\n        }\r\n        return h;\r\n    }\r\n    _findStaticTemplate(f) {\r\n        // templateField overrides template\r\n        if (this._templateField && f(this._templateField)) {\r\n            return this._templateField;\r\n        }\r\n        return super._findStaticTemplate(f);\r\n    }\r\n    _walkParents(f) {\r\n        if (this._parent) {\r\n            this._walkParent(f);\r\n        }\r\n    }\r\n    _walkParent(f) {\r\n        if (this._parent) {\r\n            this._parent._walkParent(f);\r\n        }\r\n        f(this);\r\n    }\r\n    /**\r\n     * Parent [[Container]] of this element.\r\n     *\r\n     * @return Parent container\r\n     */\r\n    get parent() {\r\n        return this._parent;\r\n    }\r\n    _setParent(parent, updateChildren = false) {\r\n        const prevParent = this._parent;\r\n        if (parent !== prevParent) {\r\n            this.markDirtyBounds();\r\n            parent.markDirty();\r\n            this._parent = parent;\r\n            if (updateChildren) {\r\n                this._removeParent(prevParent);\r\n                if (parent) {\r\n                    this._addPercentageSizeChildren();\r\n                    this._addPercentagePositionChildren();\r\n                }\r\n            }\r\n            this.markDirtyPosition();\r\n            this._applyThemes();\r\n        }\r\n    }\r\n    /**\r\n     * Returns an instance of [[NumberFormatter]] used in this element.\r\n     *\r\n     * If this element does not have it set, global one form [[Root]] is used.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/concepts/using-formatters/} for more info\r\n     * @return NumberFormatter instace\r\n     */\r\n    getNumberFormatter() {\r\n        return this.get(\"numberFormatter\", this._root.numberFormatter);\r\n    }\r\n    /**\r\n     * Returns an instance of [[DateFormatter]] used in this element.\r\n     *\r\n     * If this element does not have it set, global one form [[Root]] is used.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/concepts/using-formatters/} for more info\r\n     * @return DateFormatter instace\r\n     */\r\n    getDateFormatter() {\r\n        return this.get(\"dateFormatter\", this._root.dateFormatter);\r\n    }\r\n    /**\r\n     * Returns an instance of [[DurationFormatter]] used in this element.\r\n     *\r\n     * If this element does not have it set, global one form [[Root]] is used.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/concepts/using-formatters/} for more info\r\n     * @return DurationFormatter instace\r\n     */\r\n    getDurationFormatter() {\r\n        return this.get(\"durationFormatter\", this._root.durationFormatter);\r\n    }\r\n    /**\r\n     * Converts X/Y coordinate within this element to a global coordinate.\r\n     *\r\n     * @param  point  Local coordinate\r\n     * @return        Global coordinate\r\n     */\r\n    toGlobal(point) {\r\n        return this._display.toGlobal(point);\r\n    }\r\n    /**\r\n     * Converts global X/Y coordinate to a coordinate within this element.\r\n     *\r\n     * @param  point  Global coordinate\r\n     * @return        Local coordinate\r\n     */\r\n    toLocal(point) {\r\n        return this._display.toLocal(point);\r\n    }\r\n    _getDownPoint() {\r\n        const id = this._getDownPointId();\r\n        if (id) {\r\n            return this._downPoints[id];\r\n        }\r\n    }\r\n    _getDownPointId() {\r\n        if (this._downPoints) {\r\n            return $object.keysOrdered(this._downPoints, (a, b) => {\r\n                if (a > b) {\r\n                    return 1;\r\n                }\r\n                if (a < b) {\r\n                    return -1;\r\n                }\r\n                return 0;\r\n            })[0];\r\n        }\r\n    }\r\n    /**\r\n     * Moves sprite to the end of the parent's children array.\r\n     *\r\n     * Depending on `layout` setting of the parten container, it may effect the\r\n     * positioning or overlapping order of the elements.\r\n     */\r\n    toFront() {\r\n        const parent = this.parent;\r\n        if (parent) {\r\n            parent.children.moveValue(this, parent.children.length - 1);\r\n        }\r\n    }\r\n    /**\r\n     * Moves sprite to the beginning of the parent's children array.\r\n     *\r\n     * Depending on `layout` setting of the parten container, it may effect the\r\n     * positioning or overlapping order of the elements.\r\n     */\r\n    toBack() {\r\n        const parent = this.parent;\r\n        if (parent) {\r\n            parent.children.moveValue(this, 0);\r\n        }\r\n    }\r\n}\r\nObject.defineProperty(Sprite, \"className\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: \"Sprite\"\r\n});\r\nObject.defineProperty(Sprite, \"classNames\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: Entity.classNames.concat([Sprite.className])\r\n});\r\n","import { Sprite } from \"./Sprite\";\r\nimport { populateString } from \"../util/PopulateString\";\r\nimport * as $array from \"../util/Array\";\r\nimport { Disposer } from \"../util/Disposer\";\r\n/**\r\n * @ignore Text is an internal class. Use Label instead.\r\n */\r\nexport class Text extends Sprite {\r\n    constructor() {\r\n        super(...arguments);\r\n        Object.defineProperty(this, \"textStyle\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: this._root._renderer.makeTextStyle()\r\n        });\r\n        Object.defineProperty(this, \"_display\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: this._root._renderer.makeText(\"\", this.textStyle)\r\n        });\r\n        Object.defineProperty(this, \"_textStyles\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: [\r\n                \"textAlign\",\r\n                \"fontFamily\",\r\n                \"fontSize\",\r\n                \"fontStyle\",\r\n                \"fontWeight\",\r\n                \"fontStyle\",\r\n                \"fontVariant\",\r\n                \"textDecoration\",\r\n                \"shadowColor\",\r\n                \"shadowBlur\",\r\n                \"shadowOffsetX\",\r\n                \"shadowOffsetY\",\r\n                \"shadowOpacity\",\r\n                // \"leading\",\r\n                // \"letterSpacing\",\r\n                \"lineHeight\",\r\n                \"baselineRatio\",\r\n                //\"padding\",\r\n                // \"stroke\",\r\n                // \"strokeThickness\",\r\n                // \"trim\",\r\n                // \"wordWrap\",\r\n                \"direction\",\r\n                \"textBaseline\",\r\n                \"oversizedBehavior\",\r\n                \"breakWords\",\r\n                \"ellipsis\",\r\n                \"minScale\"\r\n            ]\r\n        });\r\n        Object.defineProperty(this, \"_originalScale\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n    }\r\n    _updateBounds() {\r\n        if (!this.get(\"text\")) {\r\n            let newBounds = {\r\n                left: 0,\r\n                right: 0,\r\n                top: 0,\r\n                bottom: 0,\r\n            };\r\n            this._adjustedLocalBounds = newBounds;\r\n        }\r\n        else {\r\n            super._updateBounds();\r\n        }\r\n    }\r\n    _changed() {\r\n        super._changed();\r\n        this._display.clear();\r\n        let textStyle = this.textStyle;\r\n        if (this.isDirty(\"opacity\")) {\r\n            let opacity = this.get(\"opacity\", 1);\r\n            this._display.alpha = opacity;\r\n        }\r\n        if (this.isDirty(\"text\") || this.isDirty(\"populateText\")) {\r\n            this._display.text = this._getText();\r\n            this.markDirtyBounds();\r\n            if (this.get(\"role\") == \"tooltip\") {\r\n                this._root.updateTooltip(this);\r\n            }\r\n        }\r\n        if (this.isPrivateDirty(\"tooltipElement\")) {\r\n            const tooltipElement = this.getPrivate(\"tooltipElement\");\r\n            if (tooltipElement) {\r\n                this._disposers.push(new Disposer(() => {\r\n                    this._root._removeTooltipElement(this);\r\n                }));\r\n            }\r\n        }\r\n        if (this.isDirty(\"width\")) {\r\n            textStyle.wordWrapWidth = this.width();\r\n            this.markDirtyBounds();\r\n        }\r\n        if (this.isDirty(\"oversizedBehavior\")) {\r\n            textStyle.oversizedBehavior = this.get(\"oversizedBehavior\", \"none\");\r\n            this.markDirtyBounds();\r\n        }\r\n        if (this.isDirty(\"breakWords\")) {\r\n            textStyle.breakWords = this.get(\"breakWords\", false);\r\n            this.markDirtyBounds();\r\n        }\r\n        if (this.isDirty(\"ellipsis\")) {\r\n            textStyle.ellipsis = this.get(\"ellipsis\");\r\n            this.markDirtyBounds();\r\n        }\r\n        if (this.isDirty(\"ignoreFormatting\")) {\r\n            textStyle.ignoreFormatting = this.get(\"ignoreFormatting\", false);\r\n            this.markDirtyBounds();\r\n        }\r\n        if (this.isDirty(\"minScale\")) {\r\n            textStyle.minScale = this.get(\"minScale\", 0);\r\n            this.markDirtyBounds();\r\n        }\r\n        if (this.isDirty(\"fill\")) {\r\n            let fill = this.get(\"fill\");\r\n            if (fill) {\r\n                textStyle.fill = fill;\r\n            }\r\n        }\r\n        if (this.isDirty(\"fillOpacity\")) {\r\n            let fillOpacity = this.get(\"fillOpacity\", 1);\r\n            if (fillOpacity) {\r\n                textStyle.fillOpacity = fillOpacity;\r\n            }\r\n        }\r\n        if (this.isDirty(\"maxWidth\") || this.isPrivateDirty(\"maxWidth\")) {\r\n            textStyle.maxWidth = this.get(\"maxWidth\", this.getPrivate(\"maxWidth\"));\r\n            this.markDirtyBounds();\r\n        }\r\n        if (this.isDirty(\"maxHeight\") || this.isPrivateDirty(\"maxHeight\")) {\r\n            textStyle.maxHeight = this.get(\"maxHeight\", this.getPrivate(\"maxHeight\"));\r\n            this.markDirtyBounds();\r\n        }\r\n        $array.each(this._textStyles, (styleName) => {\r\n            if (this._dirty[styleName]) {\r\n                textStyle[styleName] = this.get(styleName);\r\n                this.markDirtyBounds();\r\n            }\r\n        });\r\n        textStyle[\"fontSize\"] = this.get(\"fontSize\");\r\n        textStyle[\"fontFamily\"] = this.get(\"fontFamily\");\r\n        this._display.style = textStyle;\r\n        if (this.isDirty(\"role\") && this.get(\"role\") == \"tooltip\") {\r\n            this._root.updateTooltip(this);\r\n        }\r\n    }\r\n    _getText() {\r\n        const text = this.get(\"text\", \"\");\r\n        return this.get(\"populateText\") ? populateString(this, text) : text;\r\n    }\r\n    markDirtyText() {\r\n        this._display.text = this._getText();\r\n        if (this.get(\"role\") == \"tooltip\") {\r\n            this._root.updateTooltip(this);\r\n        }\r\n        this.markDirtyBounds();\r\n        this.markDirty();\r\n    }\r\n    _setDataItem(dataItem) {\r\n        super._setDataItem(dataItem);\r\n        if (this.get(\"populateText\")) {\r\n            this.markDirtyText();\r\n        }\r\n    }\r\n    getNumberFormatter() {\r\n        if (this.parent) {\r\n            return this.parent.getNumberFormatter();\r\n        }\r\n        else {\r\n            return super.getNumberFormatter();\r\n        }\r\n    }\r\n    getDateFormatter() {\r\n        if (this.parent) {\r\n            return this.parent.getDateFormatter();\r\n        }\r\n        else {\r\n            return super.getDateFormatter();\r\n        }\r\n    }\r\n    getDurationFormatter() {\r\n        if (this.parent) {\r\n            return this.parent.getDurationFormatter();\r\n        }\r\n        else {\r\n            return super.getDurationFormatter();\r\n        }\r\n    }\r\n}\r\nObject.defineProperty(Text, \"className\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: \"Text\"\r\n});\r\nObject.defineProperty(Text, \"classNames\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: Sprite.classNames.concat([Text.className])\r\n});\r\n","import { MultiDisposer } from \"../util/Disposer\";\r\nimport { Label } from \"../render/Label\";\r\nimport { PointedRectangle } from \"../render/PointedRectangle\";\r\nimport { Container } from \"./Container\";\r\nimport { Percent } from \"../util/Percent\";\r\nimport { Color } from \"../util/Color\";\r\nimport * as $math from \"../util/Math\";\r\nimport * as $array from \"../util/Array\";\r\nimport * as $utils from \"../util/Utils\";\r\n/**\r\n * Creates a tooltip.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/common-elements/tooltips/} for more info\r\n * @important\r\n */\r\nexport class Tooltip extends Container {\r\n    constructor(root, settings, isReal, templates = []) {\r\n        super(root, settings, isReal, templates);\r\n        Object.defineProperty(this, \"_fx\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(this, \"_fy\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(this, \"_label\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_fillDp\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_strokeDp\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_labelDp\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_w\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(this, \"_h\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(this, \"_keepHoverDp\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_htmlContentHovered\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n    }\r\n    _afterNew() {\r\n        this._settings.themeTags = $utils.mergeTags(this._settings.themeTags, [\"tooltip\"]);\r\n        super._afterNew();\r\n        this.set(\"background\", PointedRectangle.new(this._root, {\r\n            themeTags: [\"tooltip\", \"background\"]\r\n        }));\r\n        this._label = this.children.push(Label.new(this._root, {}));\r\n        this._disposers.push(this._label.events.on(\"boundschanged\", () => {\r\n            this._updateBackground();\r\n        }));\r\n        this._disposers.push(this.on(\"bounds\", () => {\r\n            this._updateBackground();\r\n        }));\r\n        this._updateTextColor();\r\n        this._root.tooltipContainer.children.push(this);\r\n        this.hide(0);\r\n        this._disposers.push(this.label.onPrivate(\"htmlElement\", (htmlElement) => {\r\n            if (htmlElement) {\r\n                $utils.addEventListener(htmlElement, \"pointerover\", (_ev) => {\r\n                    this._htmlContentHovered = true;\r\n                });\r\n                $utils.addEventListener(htmlElement, \"pointerout\", (_ev) => {\r\n                    this._htmlContentHovered = false;\r\n                });\r\n            }\r\n        }));\r\n        this._root._tooltips.push(this);\r\n    }\r\n    /**\r\n     * A [[Label]] element for the tooltip.\r\n     *\r\n     * @readonly\r\n     * @return Label\r\n     */\r\n    get label() {\r\n        return this._label;\r\n    }\r\n    /**\r\n     * Permanently disposes the tooltip.\r\n     */\r\n    dispose() {\r\n        super.dispose();\r\n        $array.remove(this._root._tooltips, this);\r\n    }\r\n    _updateChildren() {\r\n        super._updateChildren();\r\n        if (this.isDirty(\"pointerOrientation\") || this.isPrivateDirty(\"minWidth\") || this.isPrivateDirty(\"minHeight\")) {\r\n            this.get(\"background\")._markDirtyKey(\"width\");\r\n        }\r\n        const labelText = this.get(\"labelText\");\r\n        if (labelText != null) {\r\n            this.label.set(\"text\", this.get(\"labelText\"));\r\n        }\r\n        const labelHTML = this.get(\"labelHTML\");\r\n        if (labelHTML != null) {\r\n            this.label.set(\"html\", this.get(\"labelHTML\"));\r\n        }\r\n    }\r\n    _changed() {\r\n        super._changed();\r\n        if (this.isDirty(\"pointTo\") || this.isDirty(\"pointerOrientation\")) {\r\n            // can't compare to previous, as sometimes pointTo is set twice (when pointer moves, so the position won't be udpated)\r\n            this._updateBackground();\r\n        }\r\n        if (this.isDirty(\"tooltipTarget\")) {\r\n            this.updateBackgroundColor();\r\n        }\r\n        if (this.isDirty(\"keepTargetHover\")) {\r\n            const keephover = this.get(\"keepTargetHover\");\r\n            if (keephover) {\r\n                const bg = this.get(\"background\");\r\n                this._keepHoverDp = new MultiDisposer([\r\n                    bg.events.on(\"pointerover\", (_ev) => {\r\n                        let target = this.get(\"tooltipTarget\");\r\n                        if (target) {\r\n                            if (target.parent && target.parent.getPrivate(\"tooltipTarget\") == target) {\r\n                                target = target.parent;\r\n                            }\r\n                            target.hover();\r\n                        }\r\n                    }),\r\n                    bg.events.on(\"pointerout\", (_ev) => {\r\n                        let target = this.get(\"tooltipTarget\");\r\n                        if (target) {\r\n                            if (target.parent && target.parent.getPrivate(\"tooltipTarget\") == target) {\r\n                                target = target.parent;\r\n                            }\r\n                            if (!this._htmlContentHovered) {\r\n                                target.unhover();\r\n                            }\r\n                        }\r\n                    })\r\n                ]);\r\n                this.label.onPrivate(\"htmlElement\", (htmlElement) => {\r\n                    if (this._keepHoverDp && htmlElement) {\r\n                        this._keepHoverDp.disposers.push($utils.addEventListener(htmlElement, \"pointerleave\", (ev) => {\r\n                            const outEvent = this.root._renderer.getEvent(ev);\r\n                            bg.events.dispatch(\"pointerout\", {\r\n                                type: \"pointerout\",\r\n                                originalEvent: outEvent.event,\r\n                                point: outEvent.point,\r\n                                simulated: false,\r\n                                target: bg\r\n                            });\r\n                        }));\r\n                    }\r\n                });\r\n            }\r\n            else {\r\n                if (this._keepHoverDp) {\r\n                    this._keepHoverDp.dispose();\r\n                    this._keepHoverDp = undefined;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    _onShow() {\r\n        super._onShow();\r\n        this.updateBackgroundColor();\r\n    }\r\n    updateBackgroundColor() {\r\n        let tooltipTarget = this.get(\"tooltipTarget\");\r\n        const background = this.get(\"background\");\r\n        let fill;\r\n        let stroke;\r\n        if (tooltipTarget && background) {\r\n            fill = tooltipTarget.get(\"fill\");\r\n            stroke = tooltipTarget.get(\"stroke\");\r\n            if (fill == null) {\r\n                fill = stroke;\r\n            }\r\n            if (this.get(\"getFillFromSprite\")) {\r\n                if (this._fillDp) {\r\n                    this._fillDp.dispose();\r\n                }\r\n                if (fill != null) {\r\n                    background.set(\"fill\", fill);\r\n                }\r\n                this._fillDp = tooltipTarget.on(\"fill\", (fill) => {\r\n                    if (fill != null) {\r\n                        background.set(\"fill\", fill);\r\n                        this._updateTextColor(fill);\r\n                    }\r\n                });\r\n                this._disposers.push(this._fillDp);\r\n            }\r\n            if (this.get(\"getStrokeFromSprite\")) {\r\n                if (this._strokeDp) {\r\n                    this._strokeDp.dispose();\r\n                }\r\n                if (fill != null) {\r\n                    background.set(\"stroke\", fill);\r\n                }\r\n                this._strokeDp = tooltipTarget.on(\"fill\", (fill) => {\r\n                    if (fill != null) {\r\n                        background.set(\"stroke\", fill);\r\n                    }\r\n                });\r\n                this._disposers.push(this._strokeDp);\r\n            }\r\n            if (this.get(\"getLabelFillFromSprite\")) {\r\n                if (this._labelDp) {\r\n                    this._labelDp.dispose();\r\n                }\r\n                if (fill != null) {\r\n                    this.label.set(\"fill\", fill);\r\n                }\r\n                this._labelDp = tooltipTarget.on(\"fill\", (fill) => {\r\n                    if (fill != null) {\r\n                        this.label.set(\"fill\", fill);\r\n                    }\r\n                });\r\n                this._disposers.push(this._labelDp);\r\n            }\r\n        }\r\n        this._updateTextColor(fill);\r\n    }\r\n    _updateTextColor(fill) {\r\n        if (this.get(\"autoTextColor\")) {\r\n            if (fill == null) {\r\n                fill = this.get(\"background\").get(\"fill\");\r\n            }\r\n            if (fill == null) {\r\n                fill = this._root.interfaceColors.get(\"background\");\r\n            }\r\n            if (fill instanceof Color) {\r\n                this.label.set(\"fill\", Color.alternative(fill, this._root.interfaceColors.get(\"alternativeText\"), this._root.interfaceColors.get(\"text\")));\r\n            }\r\n        }\r\n    }\r\n    _setDataItem(dataItem) {\r\n        super._setDataItem(dataItem);\r\n        this.label._setDataItem(dataItem);\r\n    }\r\n    _updateBackground() {\r\n        super.updateBackground();\r\n        const parent = this._root.container;\r\n        if (parent) {\r\n            let cw = 0.5;\r\n            let ch = 0.5;\r\n            let centerX = this.get(\"centerX\");\r\n            if (centerX instanceof Percent) {\r\n                cw = centerX.value;\r\n            }\r\n            let centerY = this.get(\"centerY\");\r\n            if (centerY instanceof Percent) {\r\n                ch = centerY.value;\r\n            }\r\n            let parentW = parent.width();\r\n            let parentH = parent.height();\r\n            let tooltipContainer = this.parent;\r\n            let xx = 0;\r\n            let yy = 0;\r\n            if (tooltipContainer) {\r\n                xx = tooltipContainer.x();\r\n                yy = tooltipContainer.y();\r\n                const layerMargin = tooltipContainer.get(\"layerMargin\");\r\n                if (layerMargin) {\r\n                    xx += layerMargin.left || 0;\r\n                    yy += layerMargin.top || 0;\r\n                    parentW += (layerMargin.left || 0) + (layerMargin.right || 0);\r\n                    parentH += (layerMargin.top || 0) + (layerMargin.bottom || 0);\r\n                }\r\n            }\r\n            const bounds = this.get(\"bounds\", { left: -xx, top: -yy, right: parentW - xx, bottom: parentH - yy });\r\n            this._updateBounds();\r\n            let w = this.width();\r\n            let h = this.height();\r\n            // use old w and h,as when tooltip is hidden, these are 0 and unneeded animation happens\r\n            if (w === 0) {\r\n                w = this._w;\r\n            }\r\n            if (h === 0) {\r\n                h = this._h;\r\n            }\r\n            let pointTo = this.get(\"pointTo\", { x: parentW / 2, y: parentH / 2 });\r\n            let x = pointTo.x;\r\n            let y = pointTo.y;\r\n            let pointerOrientation = this.get(\"pointerOrientation\");\r\n            let background = this.get(\"background\");\r\n            let pointerLength = 0;\r\n            let bgStrokeSizeY = 0;\r\n            let bgStrokeSizeX = 0;\r\n            if (background instanceof PointedRectangle) {\r\n                pointerLength = background.get(\"pointerLength\", 0);\r\n                bgStrokeSizeY = background.get(\"strokeWidth\", 0) / 2;\r\n                bgStrokeSizeX = bgStrokeSizeY;\r\n                background.set(\"width\", w);\r\n                background.set(\"height\", h);\r\n            }\r\n            let pointerX = 0;\r\n            let pointerY = 0;\r\n            let boundsW = bounds.right - bounds.left;\r\n            let boundsH = bounds.bottom - bounds.top;\r\n            // horizontal\r\n            if (pointerOrientation == \"horizontal\" || pointerOrientation == \"left\" || pointerOrientation == \"right\") {\r\n                bgStrokeSizeY = 0;\r\n                if (pointerOrientation == \"horizontal\") {\r\n                    if (x > bounds.left + boundsW / 2) {\r\n                        x -= (w * (1 - cw) + pointerLength);\r\n                        bgStrokeSizeX *= -1;\r\n                    }\r\n                    else {\r\n                        x += (w * cw + pointerLength);\r\n                    }\r\n                }\r\n                else if (pointerOrientation == \"left\") {\r\n                    x += (w * (1 - cw) + pointerLength);\r\n                }\r\n                else {\r\n                    x -= (w * cw + pointerLength);\r\n                    bgStrokeSizeX *= -1;\r\n                }\r\n            }\r\n            // vertical pointer\r\n            else {\r\n                bgStrokeSizeX = 0;\r\n                if (pointerOrientation == \"vertical\") {\r\n                    if (y > bounds.top + h / 2 + pointerLength) {\r\n                        y -= (h * (1 - ch) + pointerLength);\r\n                    }\r\n                    else {\r\n                        y += (h * ch + pointerLength);\r\n                        bgStrokeSizeY *= -1;\r\n                    }\r\n                }\r\n                else if (pointerOrientation == \"down\") {\r\n                    y -= (h * (1 - ch) + pointerLength);\r\n                }\r\n                else {\r\n                    y += (h * ch + pointerLength);\r\n                    bgStrokeSizeY *= -1;\r\n                }\r\n            }\r\n            x = $math.fitToRange(x, bounds.left + w * cw, bounds.left + boundsW - w * (1 - cw)) + bgStrokeSizeX;\r\n            y = $math.fitToRange(y, bounds.top + h * ch, bounds.top + boundsH - h * (1 - ch)) - bgStrokeSizeY;\r\n            pointerX = pointTo.x - x + w * cw + bgStrokeSizeX;\r\n            pointerY = pointTo.y - y + h * ch - bgStrokeSizeY;\r\n            this._fx = x;\r\n            this._fy = y;\r\n            const animationDuration = this.get(\"animationDuration\", 0);\r\n            if (animationDuration > 0 && this.get(\"visible\") && this.get(\"opacity\") > 0.1) {\r\n                const animationEasing = this.get(\"animationEasing\");\r\n                this.animate({ key: \"x\", to: x, duration: animationDuration, easing: animationEasing });\r\n                this.animate({ key: \"y\", to: y, duration: animationDuration, easing: animationEasing });\r\n            }\r\n            else {\r\n                this.set(\"x\", x);\r\n                this.set(\"y\", y);\r\n            }\r\n            if (background instanceof PointedRectangle) {\r\n                background.set(\"pointerX\", pointerX);\r\n                background.set(\"pointerY\", pointerY);\r\n            }\r\n            if (w > 0) {\r\n                this._w = w;\r\n            }\r\n            if (h > 0) {\r\n                this._h = h;\r\n            }\r\n        }\r\n    }\r\n}\r\nObject.defineProperty(Tooltip, \"className\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: \"Tooltip\"\r\n});\r\nObject.defineProperty(Tooltip, \"classNames\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: Container.classNames.concat([Tooltip.className])\r\n});\r\n","import { Layout, eachChildren } from \"./Layout\";\r\nimport * as $type from \"../util/Type\";\r\nimport { Percent } from \"../util/Percent\";\r\n/**\r\n * A vertical children layout for [[Container]].\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/common-elements/containers/#Layout} for more info\r\n */\r\nexport class VerticalLayout extends Layout {\r\n    /**\r\n     * @ignore\r\n     */\r\n    updateContainer(container) {\r\n        let paddingTop = container.get(\"paddingTop\", 0);\r\n        let availableHeight = container.innerHeight();\r\n        let totalPercent = 0;\r\n        eachChildren(container, (child) => {\r\n            if (child.isVisible()) {\r\n                if (child.get(\"position\") == \"relative\") {\r\n                    let childHeight = child.get(\"height\");\r\n                    if (childHeight instanceof Percent) {\r\n                        totalPercent += childHeight.value;\r\n                        let h = availableHeight * childHeight.value;\r\n                        let minHeight = child.get(\"minHeight\", child.getPrivate(\"minHeight\", -Infinity));\r\n                        if (minHeight > h) {\r\n                            availableHeight -= minHeight;\r\n                            totalPercent -= childHeight.value;\r\n                        }\r\n                        let maxHeight = child.get(\"maxHeight\", child.getPrivate(\"maxHeight\", Infinity));\r\n                        if (h > maxHeight) {\r\n                            availableHeight -= maxHeight;\r\n                            totalPercent -= childHeight.value;\r\n                        }\r\n                    }\r\n                    else {\r\n                        if (!$type.isNumber(childHeight)) {\r\n                            childHeight = child.height();\r\n                        }\r\n                        availableHeight -= childHeight + child.get(\"marginTop\", 0) + child.get(\"marginBottom\", 0);\r\n                    }\r\n                }\r\n            }\r\n        });\r\n        if (availableHeight <= 0 || availableHeight == Infinity) {\r\n            availableHeight = .1;\r\n        }\r\n        //if (availableHeight > 0) {\r\n        eachChildren(container, (child) => {\r\n            if (child.isVisible()) {\r\n                if (child.get(\"position\") == \"relative\") {\r\n                    let childHeight = child.get(\"height\");\r\n                    if (childHeight instanceof Percent) {\r\n                        let privateHeight = availableHeight * childHeight.value / totalPercent - child.get(\"marginTop\", 0) - child.get(\"marginBottom\", 0);\r\n                        let minHeight = child.get(\"minHeight\", child.getPrivate(\"minHeight\", -Infinity));\r\n                        let maxHeight = child.get(\"maxHeight\", child.getPrivate(\"maxHeight\", Infinity));\r\n                        privateHeight = Math.min(Math.max(minHeight, privateHeight), maxHeight);\r\n                        child.setPrivate(\"height\", privateHeight);\r\n                    }\r\n                }\r\n            }\r\n        });\r\n        //}\r\n        let prevY = paddingTop;\r\n        eachChildren(container, (child) => {\r\n            if (child.get(\"position\") == \"relative\") {\r\n                if (child.isVisible()) {\r\n                    let bounds = child.adjustedLocalBounds();\r\n                    let marginTop = child.get(\"marginTop\", 0);\r\n                    let top = bounds.top;\r\n                    let bottom = bounds.bottom;\r\n                    let maxHeight = child.get(\"maxHeight\");\r\n                    if (maxHeight) {\r\n                        if (bottom - top > maxHeight) {\r\n                            bottom = top + maxHeight;\r\n                        }\r\n                    }\r\n                    let marginBottom = child.get(\"marginBottom\", 0);\r\n                    let y = prevY + marginTop - top;\r\n                    child.setPrivate(\"y\", y);\r\n                    prevY = y + bottom + marginBottom;\r\n                }\r\n                else {\r\n                    child.setPrivate(\"y\", undefined);\r\n                }\r\n            }\r\n        });\r\n    }\r\n}\r\nObject.defineProperty(VerticalLayout, \"className\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: \"VerticalLayout\"\r\n});\r\nObject.defineProperty(VerticalLayout, \"classNames\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: Layout.classNames.concat([VerticalLayout.className])\r\n});\r\n","/** @ignore */ /** */\r\nimport { BlendMode } from \"./Renderer\";\r\nimport { Color } from \"../../util/Color\";\r\nimport { Matrix } from \"../../util/Matrix\";\r\nimport { Percent, percent } from \"../../util/Percent\";\r\n//import { Throttler } from \"../../util/Throttler\";\r\nimport { ArrayDisposer, Disposer, DisposerClass, CounterDisposer, MultiDisposer } from \"../../util/Disposer\";\r\nimport { TextFormatter } from \"../../util/TextFormatter\";\r\nimport * as $utils from \"../../util/Utils\";\r\nimport * as $array from \"../../util/Array\";\r\nimport * as $object from \"../../util/Object\";\r\nimport * as $type from \"../../util/Type\";\r\nimport * as $math from \"../../util/Math\";\r\nimport arcToBezier from 'svg-arc-to-cubic-bezier';\r\n/**\r\n * @ignore\r\n */\r\nfunction checkArgs(name, actual, expected) {\r\n    if (actual !== expected) {\r\n        throw new Error(\"Required \" + expected + \" arguments for \" + name + \" but got \" + actual);\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction checkMinArgs(name, actual, expected) {\r\n    if (actual < expected) {\r\n        throw new Error(\"Required at least \" + expected + \" arguments for \" + name + \" but got \" + actual);\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction checkEvenArgs(name, actual, expected) {\r\n    checkMinArgs(name, actual, expected);\r\n    if ((actual % expected) !== 0) {\r\n        throw new Error(\"Arguments for \" + name + \" must be in pairs of \" + expected);\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n * This splits the flag so that way 0017 will be processed as 0 0 17\r\n *\r\n * This is important for weird paths like `M17 5A1 1 0 0017 30 1 1 0 0017 5`\r\n */\r\nfunction splitArcFlags(args) {\r\n    for (let i = 0; i < args.length; i += 7) {\r\n        let index = i + 3;\r\n        let flag = args[index];\r\n        if (flag.length > 1) {\r\n            const a = /^([01])([01])(.*)$/.exec(flag);\r\n            if (a !== null) {\r\n                args.splice(index, 0, a[1]);\r\n                ++index;\r\n                args.splice(index, 0, a[2]);\r\n                ++index;\r\n                if (a[3].length > 0) {\r\n                    args[index] = a[3];\r\n                }\r\n                else {\r\n                    args.splice(index, 1);\r\n                }\r\n            }\r\n        }\r\n        ++index;\r\n        flag = args[index];\r\n        if (flag.length > 1) {\r\n            const a = /^([01])(.+)$/.exec(flag);\r\n            if (a !== null) {\r\n                args.splice(index, 0, a[1]);\r\n                ++index;\r\n                args[index] = a[2];\r\n            }\r\n        }\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction assertBinary(value) {\r\n    if (value === 0 || value === 1) {\r\n        return value;\r\n    }\r\n    else {\r\n        throw new Error(\"Flag must be 0 or 1\");\r\n    }\r\n}\r\n//  1 -> 0xffffff * (2 / 2)\r\n//  2 -> 0xffffff * (1 / 2)\r\n//\r\n//  3 -> 0xffffff * (3 / 4)\r\n//  4 -> 0xffffff * (1 / 4)\r\n//\r\n//  5 -> 0xffffff * (7 / 8)\r\n//  6 -> 0xffffff * (5 / 8)\r\n//  7 -> 0xffffff * (3 / 8)\r\n//  8 -> 0xffffff * (1 / 8)\r\n//\r\n//  9 -> 0xffffff * (15 / 16)\r\n// 10 -> 0xffffff * (13 / 16)\r\n// 11 -> 0xffffff * (11 / 16)\r\n// 12 -> 0xffffff *  (9 / 16)\r\n// 13 -> 0xffffff *  (7 / 16)\r\n// 14 -> 0xffffff *  (5 / 16)\r\n// 15 -> 0xffffff *  (3 / 16)\r\n// 16 -> 0xffffff *  (1 / 16)\r\n// @todo remove this old color distribution algo if the new one pans out\r\n// function distributeIdBAK(id: number): number {\r\n// \tif (id === 1) {\r\n// \t\treturn 0x000001;\r\n// \t} else {\r\n// \t\t// Finds the closest power of 2\r\n// \t\tconst base = Math.pow(2, Math.ceil(Math.log(id) / Math.log(2)));\r\n// \t\t// Translates the id into an odd fraction index\r\n// \t\tconst index = ((base - id) * 2) + 1;\r\n// \t\t// TODO is Math.round correct ?\r\n// \t\treturn Math.round(0xffffff * (index / base));\r\n// \t}\r\n// }\r\n/**\r\n * Function by smeans:\r\n * https://lowcode.life/generating-unique-contrasting-colors-in-javascript/\r\n * @ignore\r\n */\r\nfunction distributeId(id) {\r\n    const rgb = [0, 0, 0];\r\n    for (let i = 0; i < 24; i++) {\r\n        rgb[i % 3] <<= 1;\r\n        rgb[i % 3] |= id & 0x01;\r\n        id >>= 1;\r\n    }\r\n    return (rgb[2] | 0) + (rgb[1] << 8) + (rgb[0] << 16);\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction eachTargets(hitTarget, f) {\r\n    for (;;) {\r\n        if (hitTarget.interactive) {\r\n            if (!f(hitTarget)) {\r\n                break;\r\n            }\r\n        }\r\n        if (hitTarget._parent) {\r\n            hitTarget = hitTarget._parent;\r\n        }\r\n        else {\r\n            break;\r\n        }\r\n    }\r\n}\r\n// TODO feature detection for mouse/touch/pointer\r\n/**\r\n * @ignore\r\n */\r\nfunction onPointerEvent(element, name, f) {\r\n    return $utils.addEventListener(element, $utils.getRendererEvent(name), (event) => {\r\n        const target = $utils.getEventTarget(event);\r\n        let touches = event.touches;\r\n        if (touches) {\r\n            if (touches.length == 0) {\r\n                touches = event.changedTouches;\r\n            }\r\n            f($array.copy(touches), target);\r\n        }\r\n        else {\r\n            f([event], target);\r\n        }\r\n    });\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction isTainted(image) {\r\n    const canvas = document.createElement(\"canvas\");\r\n    canvas.width = 1;\r\n    canvas.height = 1;\r\n    const context = canvas.getContext(\"2d\", { willReadFrequently: true });\r\n    context.drawImage(image, 0, 0, 1, 1);\r\n    try {\r\n        context.getImageData(0, 0, 1, 1);\r\n        return false;\r\n    }\r\n    catch (err) {\r\n        console.warn(\"Image \\\"\" + image.src + \"\\\" is loaded from different host and is not covered by CORS policy. For more information about the implications read here: https://www.amcharts.com/docs/v5/concepts/cors\");\r\n        return true;\r\n    }\r\n}\r\n/**\r\n * This is needed to workaround a bug in iOS which causes it to not GC canvas elements.\r\n *\r\n * @ignore\r\n */\r\nfunction clearCanvas(view) {\r\n    view.width = 0;\r\n    view.height = 0;\r\n    view.style.width = \"0px\";\r\n    view.style.height = \"0px\";\r\n}\r\n/**\r\n * @ignore\r\n */\r\nexport class CanvasPivot {\r\n    constructor() {\r\n        Object.defineProperty(this, \"_x\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(this, \"_y\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n    }\r\n    get x() {\r\n        return this._x;\r\n    }\r\n    get y() {\r\n        return this._y;\r\n    }\r\n    set x(value) {\r\n        this._x = value;\r\n    }\r\n    set y(value) {\r\n        this._y = value;\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nexport class CanvasDisplayObject extends DisposerClass {\r\n    constructor(renderer) {\r\n        super();\r\n        Object.defineProperty(this, \"_layer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"mask\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: null\r\n        });\r\n        Object.defineProperty(this, \"visible\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: true\r\n        });\r\n        Object.defineProperty(this, \"exportable\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: true\r\n        });\r\n        Object.defineProperty(this, \"interactive\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(this, \"inactive\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(this, \"wheelable\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(this, \"cancelTouch\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(this, \"isMeasured\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(this, \"buttonMode\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(this, \"alpha\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 1\r\n        });\r\n        Object.defineProperty(this, \"compoundAlpha\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 1\r\n        });\r\n        Object.defineProperty(this, \"angle\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(this, \"scale\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 1\r\n        });\r\n        Object.defineProperty(this, \"x\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(this, \"y\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(this, \"crisp\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(this, \"pivot\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new CanvasPivot()\r\n        });\r\n        Object.defineProperty(this, \"filter\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"cursorOverStyle\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_replacedCursorStyle\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_localMatrix\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new Matrix()\r\n        });\r\n        Object.defineProperty(this, \"_matrix\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new Matrix()\r\n        });\r\n        // TODO can this be replaced with _localMatrix ?\r\n        Object.defineProperty(this, \"_uMatrix\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new Matrix()\r\n        });\r\n        Object.defineProperty(this, \"_renderer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_parent\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_localBounds\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_bounds\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_colorId\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        this._renderer = renderer;\r\n    }\r\n    _dispose() {\r\n        this._renderer._removeObject(this);\r\n        this.getLayer().dirty = true;\r\n    }\r\n    getCanvas() {\r\n        return this.getLayer().view;\r\n    }\r\n    getLayer() {\r\n        let self = this;\r\n        for (;;) {\r\n            if (self._layer) {\r\n                return self._layer;\r\n            }\r\n            else if (self._parent) {\r\n                self = self._parent;\r\n            }\r\n            else {\r\n                return this._renderer.defaultLayer;\r\n            }\r\n        }\r\n    }\r\n    setLayer(order, margin) {\r\n        if (order == null) {\r\n            this._layer = undefined;\r\n        }\r\n        else {\r\n            const visible = true;\r\n            this._layer = this._renderer.getLayer(order, visible);\r\n            this._layer.visible = visible;\r\n            this._layer.margin = margin;\r\n            if (margin) {\r\n                $utils.setInteractive(this._layer.view, false);\r\n            }\r\n            this._renderer._ghostLayer.setMargin(this._renderer.layers);\r\n            if (this._parent) {\r\n                this._parent.registerChildLayer(this._layer);\r\n            }\r\n            this._layer.dirty = true;\r\n            this._renderer.resizeLayer(this._layer);\r\n            this._renderer.resizeGhost();\r\n        }\r\n    }\r\n    markDirtyLayer() {\r\n        this.getLayer().dirty = true;\r\n    }\r\n    clear() {\r\n        this.invalidateBounds();\r\n    }\r\n    invalidateBounds() {\r\n        this._localBounds = undefined;\r\n    }\r\n    _addBounds(_bounds) { }\r\n    _getColorId() {\r\n        if (this._colorId === undefined) {\r\n            this._colorId = this._renderer.paintId(this);\r\n        }\r\n        return this._colorId;\r\n    }\r\n    _isInteractive() {\r\n        return this.inactive == false && (this.interactive || this._renderer._forceInteractive > 0);\r\n    }\r\n    _isInteractiveMask() {\r\n        return this._isInteractive();\r\n    }\r\n    contains(child) {\r\n        for (;;) {\r\n            if (child === this) {\r\n                return true;\r\n            }\r\n            else if (child._parent) {\r\n                child = child._parent;\r\n            }\r\n            else {\r\n                return false;\r\n            }\r\n        }\r\n    }\r\n    toGlobal(point) {\r\n        return this._matrix.apply(point);\r\n    }\r\n    toLocal(point) {\r\n        return this._matrix.applyInverse(point);\r\n    }\r\n    getLocalMatrix() {\r\n        this._uMatrix.setTransform(0, 0, this.pivot.x, this.pivot.y, this.angle * Math.PI / 180, this.scale);\r\n        return this._uMatrix;\r\n    }\r\n    getLocalBounds() {\r\n        if (!this._localBounds) {\r\n            const bn = 10000000;\r\n            this._localBounds = {\r\n                left: bn,\r\n                top: bn,\r\n                right: -bn,\r\n                bottom: -bn\r\n            };\r\n            this._addBounds(this._localBounds);\r\n        }\r\n        return this._localBounds;\r\n    }\r\n    getAdjustedBounds(bounds) {\r\n        this._setMatrix();\r\n        const matrix = this.getLocalMatrix();\r\n        const p0 = matrix.apply({ x: bounds.left, y: bounds.top });\r\n        const p1 = matrix.apply({ x: bounds.right, y: bounds.top });\r\n        const p2 = matrix.apply({ x: bounds.right, y: bounds.bottom });\r\n        const p3 = matrix.apply({ x: bounds.left, y: bounds.bottom });\r\n        return {\r\n            left: Math.min(p0.x, p1.x, p2.x, p3.x),\r\n            top: Math.min(p0.y, p1.y, p2.y, p3.y),\r\n            right: Math.max(p0.x, p1.x, p2.x, p3.x),\r\n            bottom: Math.max(p0.y, p1.y, p2.y, p3.y)\r\n        };\r\n    }\r\n    on(key, callback, context) {\r\n        if (this.interactive) {\r\n            return this._renderer._addEvent(this, key, callback, context);\r\n        }\r\n        else {\r\n            return new Disposer(() => { });\r\n        }\r\n    }\r\n    _setMatrix() {\r\n        // TODO only calculate this if it has actually changed\r\n        this._localMatrix.setTransform(this.x, this.y, this.pivot.x, this.pivot.y, \r\n        // Converts degrees to radians\r\n        this.angle * Math.PI / 180, this.scale);\r\n        this._matrix.copyFrom(this._localMatrix);\r\n        if (this._parent) {\r\n            // TODO only calculate this if it has actually changed\r\n            this._matrix.prepend(this._parent._matrix);\r\n        }\r\n    }\r\n    _transform(context, resolution) {\r\n        const m = this._matrix;\r\n        let tx = m.tx * resolution;\r\n        let ty = m.ty * resolution;\r\n        if (this.crisp) {\r\n            tx = Math.floor(tx) + .5;\r\n            ty = Math.floor(ty) + .5;\r\n        }\r\n        context.setTransform(m.a * resolution, m.b * resolution, m.c * resolution, m.d * resolution, tx, ty);\r\n    }\r\n    _transformMargin(context, resolution, margin) {\r\n        const m = this._matrix;\r\n        context.setTransform(m.a * resolution, m.b * resolution, m.c * resolution, m.d * resolution, (m.tx + margin.left) * resolution, (m.ty + margin.top) * resolution);\r\n    }\r\n    _transformLayer(context, resolution, layer) {\r\n        if (layer.margin) {\r\n            this._transformMargin(context, layer.scale || resolution, layer.margin);\r\n        }\r\n        else {\r\n            this._transform(context, layer.scale || resolution);\r\n        }\r\n    }\r\n    render(parentLayer) {\r\n        if (this.visible && (this.exportable !== false || !this._renderer._omitTainted)) {\r\n            this._setMatrix();\r\n            const resolution = this._renderer.resolution;\r\n            const layers = this._renderer.layers;\r\n            const ghostLayer = this._renderer._ghostLayer;\r\n            const ghostContext = ghostLayer.context;\r\n            const mask = this.mask;\r\n            if (mask) {\r\n                mask._setMatrix();\r\n            }\r\n            // TODO improve this\r\n            $array.each(layers, (layer) => {\r\n                if (layer) {\r\n                    const context = layer.context;\r\n                    context.save();\r\n                    // We must apply the mask before we transform the element\r\n                    if (mask) {\r\n                        mask._transformLayer(context, resolution, layer);\r\n                        mask._runPath(context);\r\n                        context.clip();\r\n                    }\r\n                    context.globalAlpha = this.compoundAlpha * this.alpha;\r\n                    this._transformLayer(context, resolution, layer);\r\n                    if (this.filter) {\r\n                        context.filter = this.filter;\r\n                    }\r\n                }\r\n            });\r\n            ghostContext.save();\r\n            // We must apply the mask before we transform the element\r\n            if (mask && this._isInteractiveMask()) {\r\n                mask._transformMargin(ghostContext, resolution, ghostLayer.margin);\r\n                mask._runPath(ghostContext);\r\n                ghostContext.clip();\r\n            }\r\n            this._transformMargin(ghostContext, resolution, ghostLayer.margin);\r\n            this._render(parentLayer);\r\n            ghostContext.restore();\r\n            $array.each(layers, (layer) => {\r\n                if (layer) {\r\n                    layer.context.restore();\r\n                }\r\n            });\r\n        }\r\n    }\r\n    _render(parentLayer) {\r\n        if (this.exportable === false) {\r\n            const layer = this._layer || parentLayer;\r\n            layer.tainted = true;\r\n        }\r\n    }\r\n    hovering() {\r\n        return this._renderer._hovering.has(this);\r\n    }\r\n    dragging() {\r\n        return this._renderer._dragging.some((x) => x.value === this);\r\n    }\r\n    shouldCancelTouch() {\r\n        const renderer = this._renderer;\r\n        if (renderer.tapToActivate && !renderer._touchActive) {\r\n            return false;\r\n        }\r\n        if (this.cancelTouch) {\r\n            return true;\r\n        }\r\n        else if (this._parent) {\r\n            return this._parent.shouldCancelTouch();\r\n        }\r\n        return false;\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nexport class CanvasContainer extends CanvasDisplayObject {\r\n    constructor() {\r\n        super(...arguments);\r\n        Object.defineProperty(this, \"interactiveChildren\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: true\r\n        });\r\n        Object.defineProperty(this, \"_childLayers\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_children\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n    }\r\n    _isInteractiveMask() {\r\n        return this.interactiveChildren || super._isInteractiveMask();\r\n    }\r\n    addChild(child) {\r\n        child._parent = this;\r\n        this._children.push(child);\r\n        if (child._layer) {\r\n            this.registerChildLayer(child._layer);\r\n        }\r\n    }\r\n    addChildAt(child, index) {\r\n        child._parent = this;\r\n        this._children.splice(index, 0, child);\r\n        if (child._layer) {\r\n            this.registerChildLayer(child._layer);\r\n        }\r\n    }\r\n    removeChild(child) {\r\n        child._parent = undefined;\r\n        $array.removeFirst(this._children, child);\r\n    }\r\n    _render(parentLayer) {\r\n        super._render(parentLayer);\r\n        const renderer = this._renderer;\r\n        if (this.interactive && this.interactiveChildren) {\r\n            ++renderer._forceInteractive;\r\n        }\r\n        const layer = this._layer || parentLayer;\r\n        $array.each(this._children, (child) => {\r\n            child.compoundAlpha = this.compoundAlpha * this.alpha;\r\n            child.render(layer);\r\n        });\r\n        if (this.interactive && this.interactiveChildren) {\r\n            --renderer._forceInteractive;\r\n        }\r\n    }\r\n    registerChildLayer(layer) {\r\n        if (!this._childLayers) {\r\n            this._childLayers = [];\r\n        }\r\n        $array.pushOne(this._childLayers, layer);\r\n        if (this._parent) {\r\n            this._parent.registerChildLayer(layer);\r\n        }\r\n    }\r\n    markDirtyLayer(deep = false) {\r\n        super.markDirtyLayer();\r\n        if (deep && this._childLayers) {\r\n            $array.each(this._childLayers, (layer) => layer.dirty = true);\r\n        }\r\n    }\r\n    _dispose() {\r\n        super._dispose();\r\n        if (this._childLayers) {\r\n            $array.each(this._childLayers, (layer) => {\r\n                layer.dirty = true;\r\n            });\r\n        }\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction setPoint(bounds, point) {\r\n    bounds.left = Math.min(bounds.left, point.x);\r\n    bounds.top = Math.min(bounds.top, point.y);\r\n    bounds.right = Math.max(bounds.right, point.x);\r\n    bounds.bottom = Math.max(bounds.bottom, point.y);\r\n}\r\n/**\r\n * @ignore\r\n */\r\nclass Op {\r\n    colorize(_context, _forceColor) { }\r\n    path(_context) { }\r\n    addBounds(_bounds) { }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nclass BeginPath extends Op {\r\n    colorize(context, _forceColor) {\r\n        context.beginPath();\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nclass BeginFill extends Op {\r\n    constructor(color) {\r\n        super();\r\n        Object.defineProperty(this, \"color\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: color\r\n        });\r\n    }\r\n    colorize(context, forceColor) {\r\n        if (forceColor !== undefined) {\r\n            context.fillStyle = forceColor;\r\n        }\r\n        else {\r\n            context.fillStyle = this.color;\r\n        }\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nclass EndFill extends Op {\r\n    constructor(clearShadow) {\r\n        super();\r\n        Object.defineProperty(this, \"clearShadow\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: clearShadow\r\n        });\r\n    }\r\n    colorize(context, _forceColor) {\r\n        context.fill();\r\n        if (this.clearShadow) {\r\n            context.shadowColor = \"\";\r\n            context.shadowBlur = 0;\r\n            context.shadowOffsetX = 0;\r\n            context.shadowOffsetY = 0;\r\n        }\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nclass EndStroke extends Op {\r\n    colorize(context, _forceColor) {\r\n        context.stroke();\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nclass LineStyle extends Op {\r\n    constructor(width, color, lineJoin) {\r\n        super();\r\n        Object.defineProperty(this, \"width\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: width\r\n        });\r\n        Object.defineProperty(this, \"color\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: color\r\n        });\r\n        Object.defineProperty(this, \"lineJoin\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: lineJoin\r\n        });\r\n    }\r\n    colorize(context, forceColor) {\r\n        if (forceColor !== undefined) {\r\n            context.strokeStyle = forceColor;\r\n        }\r\n        else {\r\n            context.strokeStyle = this.color;\r\n        }\r\n        context.lineWidth = this.width;\r\n        if (this.lineJoin) {\r\n            context.lineJoin = this.lineJoin;\r\n        }\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nclass LineDash extends Op {\r\n    constructor(dash) {\r\n        super();\r\n        Object.defineProperty(this, \"dash\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: dash\r\n        });\r\n    }\r\n    colorize(context, _forceColor) {\r\n        context.setLineDash(this.dash);\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nclass LineDashOffset extends Op {\r\n    constructor(dashOffset) {\r\n        super();\r\n        Object.defineProperty(this, \"dashOffset\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: dashOffset\r\n        });\r\n    }\r\n    colorize(context, _forceColor) {\r\n        context.lineDashOffset = this.dashOffset;\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nclass DrawRect extends Op {\r\n    constructor(x, y, width, height) {\r\n        super();\r\n        Object.defineProperty(this, \"x\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: x\r\n        });\r\n        Object.defineProperty(this, \"y\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: y\r\n        });\r\n        Object.defineProperty(this, \"width\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: width\r\n        });\r\n        Object.defineProperty(this, \"height\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: height\r\n        });\r\n    }\r\n    path(context) {\r\n        context.rect(this.x, this.y, this.width, this.height);\r\n    }\r\n    addBounds(bounds) {\r\n        const l = this.x;\r\n        const t = this.y;\r\n        const r = l + this.width;\r\n        const b = t + this.height;\r\n        setPoint(bounds, { x: l, y: t });\r\n        setPoint(bounds, { x: r, y: t });\r\n        setPoint(bounds, { x: l, y: b });\r\n        setPoint(bounds, { x: r, y: b });\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nclass DrawCircle extends Op {\r\n    constructor(x, y, radius) {\r\n        super();\r\n        Object.defineProperty(this, \"x\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: x\r\n        });\r\n        Object.defineProperty(this, \"y\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: y\r\n        });\r\n        Object.defineProperty(this, \"radius\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: radius\r\n        });\r\n    }\r\n    path(context) {\r\n        context.moveTo(this.x + this.radius, this.y);\r\n        context.arc(this.x, this.y, this.radius, 0, 2 * Math.PI);\r\n    }\r\n    // TODO handle skewing and rotation\r\n    addBounds(bounds) {\r\n        setPoint(bounds, { x: this.x - this.radius, y: this.y - this.radius });\r\n        setPoint(bounds, { x: this.x + this.radius, y: this.y + this.radius });\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nclass DrawEllipse extends Op {\r\n    constructor(x, y, radiusX, radiusY) {\r\n        super();\r\n        Object.defineProperty(this, \"x\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: x\r\n        });\r\n        Object.defineProperty(this, \"y\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: y\r\n        });\r\n        Object.defineProperty(this, \"radiusX\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: radiusX\r\n        });\r\n        Object.defineProperty(this, \"radiusY\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: radiusY\r\n        });\r\n    }\r\n    path(context) {\r\n        context.ellipse(0, 0, this.radiusX, this.radiusY, 0, 0, Math.PI * 2);\r\n    }\r\n    // TODO handle skewing and rotation\r\n    addBounds(bounds) {\r\n        setPoint(bounds, { x: this.x - this.radiusX, y: this.y - this.radiusY });\r\n        setPoint(bounds, { x: this.x + this.radiusX, y: this.y + this.radiusY });\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nclass Arc extends Op {\r\n    constructor(cx, cy, radius, startAngle, endAngle, anticlockwise) {\r\n        super();\r\n        Object.defineProperty(this, \"cx\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: cx\r\n        });\r\n        Object.defineProperty(this, \"cy\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: cy\r\n        });\r\n        Object.defineProperty(this, \"radius\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: radius\r\n        });\r\n        Object.defineProperty(this, \"startAngle\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: startAngle\r\n        });\r\n        Object.defineProperty(this, \"endAngle\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: endAngle\r\n        });\r\n        Object.defineProperty(this, \"anticlockwise\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: anticlockwise\r\n        });\r\n    }\r\n    path(context) {\r\n        if (this.radius > 0) {\r\n            context.arc(this.cx, this.cy, this.radius, this.startAngle, this.endAngle, this.anticlockwise);\r\n        }\r\n    }\r\n    addBounds(bounds) {\r\n        let arcBounds = $math.getArcBounds(this.cx, this.cy, this.startAngle * $math.DEGREES, this.endAngle * $math.DEGREES, this.radius);\r\n        setPoint(bounds, { x: arcBounds.left, y: arcBounds.top });\r\n        setPoint(bounds, { x: arcBounds.right, y: arcBounds.bottom });\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nclass ArcTo extends Op {\r\n    constructor(x1, y1, x2, y2, radius) {\r\n        super();\r\n        Object.defineProperty(this, \"x1\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: x1\r\n        });\r\n        Object.defineProperty(this, \"y1\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: y1\r\n        });\r\n        Object.defineProperty(this, \"x2\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: x2\r\n        });\r\n        Object.defineProperty(this, \"y2\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: y2\r\n        });\r\n        Object.defineProperty(this, \"radius\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: radius\r\n        });\r\n    }\r\n    path(context) {\r\n        if (this.radius > 0) {\r\n            context.arcTo(this.x1, this.y1, this.x2, this.y2, this.radius);\r\n        }\r\n    }\r\n    // TODO: add points\r\n    addBounds(_bounds) {\r\n        /*\r\n        // not finished\r\n        https://math.stackexchange.com/questions/1781438/finding-the-center-of-a-circle-given-two-points-and-a-radius-algebraically\r\n\r\n        if (prevPoint) {\r\n            let x1 = prevPoint.x;\r\n            let y1 = prevPoint.y;\r\n            let x2 = this.x2;\r\n            let y2 = this.y2;\r\n            let r = this.radius;\r\n\r\n            let xa = (x2 - x1) / 2;\r\n            let ya = (y2 - y1) / 2;\r\n\r\n            let x0 = x1 + xa;\r\n            let y0 = y1 + ya;\r\n\r\n            let a = Math.hypot(xa, ya);\r\n            let b = Math.sqrt(r * r - a * a);\r\n\r\n            let cx = x0 + b * ya / a;\r\n            let cy = y0 - b * xa / a;\r\n\r\n            console.log(cx, cy);\r\n        }*/\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nclass LineTo extends Op {\r\n    constructor(x, y) {\r\n        super();\r\n        Object.defineProperty(this, \"x\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: x\r\n        });\r\n        Object.defineProperty(this, \"y\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: y\r\n        });\r\n    }\r\n    path(context) {\r\n        context.lineTo(this.x, this.y);\r\n    }\r\n    addBounds(bounds) {\r\n        setPoint(bounds, { x: this.x, y: this.y });\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nclass MoveTo extends Op {\r\n    constructor(x, y) {\r\n        super();\r\n        Object.defineProperty(this, \"x\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: x\r\n        });\r\n        Object.defineProperty(this, \"y\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: y\r\n        });\r\n    }\r\n    path(context) {\r\n        context.moveTo(this.x, this.y);\r\n    }\r\n    addBounds(bounds) {\r\n        setPoint(bounds, { x: this.x, y: this.y });\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nclass ClosePath extends Op {\r\n    path(context) {\r\n        context.closePath();\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nclass BezierCurveTo extends Op {\r\n    constructor(cpX, cpY, cpX2, cpY2, toX, toY) {\r\n        super();\r\n        Object.defineProperty(this, \"cpX\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: cpX\r\n        });\r\n        Object.defineProperty(this, \"cpY\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: cpY\r\n        });\r\n        Object.defineProperty(this, \"cpX2\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: cpX2\r\n        });\r\n        Object.defineProperty(this, \"cpY2\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: cpY2\r\n        });\r\n        Object.defineProperty(this, \"toX\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: toX\r\n        });\r\n        Object.defineProperty(this, \"toY\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: toY\r\n        });\r\n    }\r\n    path(context) {\r\n        context.bezierCurveTo(this.cpX, this.cpY, this.cpX2, this.cpY2, this.toX, this.toY);\r\n    }\r\n    // TODO: OK?\r\n    addBounds(bounds) {\r\n        setPoint(bounds, { x: this.cpX, y: this.cpY });\r\n        setPoint(bounds, { x: this.cpX2, y: this.cpY2 });\r\n        setPoint(bounds, { x: this.toX, y: this.toY });\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nclass QuadraticCurveTo extends Op {\r\n    constructor(cpX, cpY, toX, toY) {\r\n        super();\r\n        Object.defineProperty(this, \"cpX\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: cpX\r\n        });\r\n        Object.defineProperty(this, \"cpY\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: cpY\r\n        });\r\n        Object.defineProperty(this, \"toX\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: toX\r\n        });\r\n        Object.defineProperty(this, \"toY\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: toY\r\n        });\r\n    }\r\n    path(context) {\r\n        context.quadraticCurveTo(this.cpX, this.cpY, this.toX, this.toY);\r\n    }\r\n    // TODO: OK?\r\n    addBounds(bounds) {\r\n        setPoint(bounds, { x: this.cpX, y: this.cpY });\r\n        setPoint(bounds, { x: this.toX, y: this.toY });\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nclass Shadow extends Op {\r\n    constructor(color, blur, offsetX, offsetY, opacity) {\r\n        super();\r\n        Object.defineProperty(this, \"color\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: color\r\n        });\r\n        Object.defineProperty(this, \"blur\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: blur\r\n        });\r\n        Object.defineProperty(this, \"offsetX\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: offsetX\r\n        });\r\n        Object.defineProperty(this, \"offsetY\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: offsetY\r\n        });\r\n        Object.defineProperty(this, \"opacity\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: opacity\r\n        });\r\n    }\r\n    colorize(context, _forceColor) {\r\n        if (this.opacity) {\r\n            context.fillStyle = this.color;\r\n        }\r\n        context.shadowColor = this.color;\r\n        context.shadowBlur = this.blur;\r\n        context.shadowOffsetX = this.offsetX;\r\n        context.shadowOffsetY = this.offsetY;\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nclass GraphicsImage extends Op {\r\n    constructor(image, width, height, x, y) {\r\n        super();\r\n        Object.defineProperty(this, \"image\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: image\r\n        });\r\n        Object.defineProperty(this, \"width\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: width\r\n        });\r\n        Object.defineProperty(this, \"height\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: height\r\n        });\r\n        Object.defineProperty(this, \"x\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: x\r\n        });\r\n        Object.defineProperty(this, \"y\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: y\r\n        });\r\n    }\r\n    path(context) {\r\n        context.drawImage(this.image, this.x, this.y, this.width, this.height);\r\n    }\r\n    // TODO: OK?\r\n    addBounds(bounds) {\r\n        setPoint(bounds, { x: this.x, y: this.y });\r\n        setPoint(bounds, { x: this.width, y: this.height });\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nexport class CanvasGraphics extends CanvasDisplayObject {\r\n    constructor() {\r\n        super(...arguments);\r\n        Object.defineProperty(this, \"_operations\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n        Object.defineProperty(this, \"blendMode\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: BlendMode.NORMAL\r\n        });\r\n        Object.defineProperty(this, \"_hasShadows\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(this, \"_fillAlpha\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_strokeAlpha\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n    }\r\n    clear() {\r\n        super.clear();\r\n        this._operations.length = 0;\r\n    }\r\n    _pushOp(op) {\r\n        this._operations.push(op);\r\n    }\r\n    beginFill(color, alpha = 1) {\r\n        this._fillAlpha = alpha;\r\n        if (color) {\r\n            if (color instanceof Color) {\r\n                this._pushOp(new BeginFill(color.toCSS(alpha)));\r\n            }\r\n            else {\r\n                this.isMeasured = true;\r\n                this._pushOp(new BeginFill(color));\r\n            }\r\n        }\r\n        else {\r\n            this._pushOp(new BeginFill(\"rgba(0, 0, 0, \" + alpha + \")\"));\r\n        }\r\n    }\r\n    endFill() {\r\n        this._pushOp(new EndFill(this._hasShadows));\r\n    }\r\n    endStroke() {\r\n        this._pushOp(new EndStroke());\r\n    }\r\n    beginPath() {\r\n        this._pushOp(new BeginPath());\r\n    }\r\n    lineStyle(width = 0, color, alpha = 1, lineJoin) {\r\n        this._strokeAlpha = alpha;\r\n        if (color) {\r\n            if (color instanceof Color) {\r\n                this._pushOp(new LineStyle(width, color.toCSS(alpha), lineJoin));\r\n            }\r\n            else {\r\n                this._pushOp(new LineStyle(width, color, lineJoin));\r\n            }\r\n        }\r\n        else {\r\n            this._pushOp(new LineStyle(width, \"rgba(0, 0, 0, \" + alpha + \")\", lineJoin));\r\n        }\r\n    }\r\n    setLineDash(dash) {\r\n        this._pushOp(new LineDash(dash ? dash : []));\r\n    }\r\n    setLineDashOffset(dashOffset = 0) {\r\n        this._pushOp(new LineDashOffset(dashOffset));\r\n    }\r\n    drawRect(x, y, width, height) {\r\n        this._pushOp(new DrawRect(x, y, width, height));\r\n    }\r\n    drawCircle(x, y, radius) {\r\n        this._pushOp(new DrawCircle(x, y, radius));\r\n    }\r\n    drawEllipse(x, y, radiusX, radiusY) {\r\n        this._pushOp(new DrawEllipse(x, y, radiusX, radiusY));\r\n    }\r\n    arc(cx, cy, radius, startAngle, endAngle, anticlockwise = false) {\r\n        this._pushOp(new Arc(cx, cy, radius, startAngle, endAngle, anticlockwise));\r\n    }\r\n    arcTo(x1, y1, x2, y2, radius) {\r\n        this._pushOp(new ArcTo(x1, y1, x2, y2, radius));\r\n    }\r\n    lineTo(x, y) {\r\n        this._pushOp(new LineTo(x, y));\r\n    }\r\n    moveTo(x, y) {\r\n        this._pushOp(new MoveTo(x, y));\r\n    }\r\n    bezierCurveTo(cpX, cpY, cpX2, cpY2, toX, toY) {\r\n        this._pushOp(new BezierCurveTo(cpX, cpY, cpX2, cpY2, toX, toY));\r\n    }\r\n    quadraticCurveTo(cpX, cpY, toX, toY) {\r\n        this._pushOp(new QuadraticCurveTo(cpX, cpY, toX, toY));\r\n    }\r\n    closePath() {\r\n        this._pushOp(new ClosePath());\r\n    }\r\n    shadow(color, blur = 0, offsetX = 0, offsetY = 0, opacity) {\r\n        this._hasShadows = true;\r\n        this._pushOp(new Shadow(opacity ? color.toCSS(opacity) : color.toCSS(this._fillAlpha || this._strokeAlpha), blur, offsetX, offsetY));\r\n    }\r\n    image(image, width, height, x, y) {\r\n        this._pushOp(new GraphicsImage(image, width, height, x, y));\r\n    }\r\n    // https://svgwg.org/svg2-draft/paths.html#DProperty\r\n    // TODO better error checking\r\n    svgPath(path) {\r\n        let x = 0;\r\n        let y = 0;\r\n        let cpx = null;\r\n        let cpy = null;\r\n        let qcpx = null;\r\n        let qcpy = null;\r\n        const SEGMENTS_REGEXP = /([MmZzLlHhVvCcSsQqTtAa])([^MmZzLlHhVvCcSsQqTtAa]*)/g;\r\n        const ARGS_REGEXP = /[\\u0009\\u0020\\u000A\\u000C\\u000D]*([\\+\\-]?[0-9]*\\.?[0-9]+(?:[eE][\\+\\-]?[0-9]+)?)[\\u0009\\u0020\\u000A\\u000C\\u000D]*,?/g;\r\n        let match;\r\n        while ((match = SEGMENTS_REGEXP.exec(path)) !== null) {\r\n            const name = match[1];\r\n            const rest = match[2];\r\n            const args = [];\r\n            while ((match = ARGS_REGEXP.exec(rest)) !== null) {\r\n                args.push(match[1]);\r\n            }\r\n            // Reset control point\r\n            if (name !== \"S\" && name !== \"s\" && name !== \"C\" && name !== \"c\") {\r\n                cpx = null;\r\n                cpy = null;\r\n            }\r\n            // Reset control point\r\n            if (name !== \"Q\" && name !== \"q\" && name !== \"T\" && name !== \"t\") {\r\n                qcpx = null;\r\n                qcpy = null;\r\n            }\r\n            switch (name) {\r\n                case \"M\":\r\n                    checkEvenArgs(name, args.length, 2);\r\n                    x = +args[0];\r\n                    y = +args[1];\r\n                    this.moveTo(x, y);\r\n                    for (let i = 2; i < args.length; i += 2) {\r\n                        x = +args[i];\r\n                        y = +args[i + 1];\r\n                        this.lineTo(x, y);\r\n                    }\r\n                    break;\r\n                case \"m\":\r\n                    checkEvenArgs(name, args.length, 2);\r\n                    x += +args[0];\r\n                    y += +args[1];\r\n                    this.moveTo(x, y);\r\n                    for (let i = 2; i < args.length; i += 2) {\r\n                        x += +args[i];\r\n                        y += +args[i + 1];\r\n                        this.lineTo(x, y);\r\n                    }\r\n                    break;\r\n                case \"L\":\r\n                    checkEvenArgs(name, args.length, 2);\r\n                    for (let i = 0; i < args.length; i += 2) {\r\n                        x = +args[i];\r\n                        y = +args[i + 1];\r\n                        this.lineTo(x, y);\r\n                    }\r\n                    break;\r\n                case \"l\":\r\n                    checkEvenArgs(name, args.length, 2);\r\n                    for (let i = 0; i < args.length; i += 2) {\r\n                        x += +args[i];\r\n                        y += +args[i + 1];\r\n                        this.lineTo(x, y);\r\n                    }\r\n                    break;\r\n                case \"H\":\r\n                    checkMinArgs(name, args.length, 1);\r\n                    for (let i = 0; i < args.length; ++i) {\r\n                        x = +args[i];\r\n                        this.lineTo(x, y);\r\n                    }\r\n                    break;\r\n                case \"h\":\r\n                    checkMinArgs(name, args.length, 1);\r\n                    for (let i = 0; i < args.length; ++i) {\r\n                        x += +args[i];\r\n                        this.lineTo(x, y);\r\n                    }\r\n                    break;\r\n                case \"V\":\r\n                    checkMinArgs(name, args.length, 1);\r\n                    for (let i = 0; i < args.length; ++i) {\r\n                        y = +args[i];\r\n                        this.lineTo(x, y);\r\n                    }\r\n                    break;\r\n                case \"v\":\r\n                    checkMinArgs(name, args.length, 1);\r\n                    for (let i = 0; i < args.length; ++i) {\r\n                        y += +args[i];\r\n                        this.lineTo(x, y);\r\n                    }\r\n                    break;\r\n                case \"C\":\r\n                    checkEvenArgs(name, args.length, 6);\r\n                    for (let i = 0; i < args.length; i += 6) {\r\n                        const x1 = +args[i];\r\n                        const y1 = +args[i + 1];\r\n                        cpx = +args[i + 2];\r\n                        cpy = +args[i + 3];\r\n                        x = +args[i + 4];\r\n                        y = +args[i + 5];\r\n                        this.bezierCurveTo(x1, y1, cpx, cpy, x, y);\r\n                    }\r\n                    break;\r\n                case \"c\":\r\n                    checkEvenArgs(name, args.length, 6);\r\n                    for (let i = 0; i < args.length; i += 6) {\r\n                        const x1 = +args[i] + x;\r\n                        const y1 = +args[i + 1] + y;\r\n                        cpx = +args[i + 2] + x;\r\n                        cpy = +args[i + 3] + y;\r\n                        x += +args[i + 4];\r\n                        y += +args[i + 5];\r\n                        this.bezierCurveTo(x1, y1, cpx, cpy, x, y);\r\n                    }\r\n                    break;\r\n                case \"S\":\r\n                    checkEvenArgs(name, args.length, 4);\r\n                    if (cpx === null || cpy === null) {\r\n                        cpx = x;\r\n                        cpy = y;\r\n                    }\r\n                    for (let i = 0; i < args.length; i += 4) {\r\n                        const x1 = 2 * x - cpx;\r\n                        const y1 = 2 * y - cpy;\r\n                        cpx = +args[i];\r\n                        cpy = +args[i + 1];\r\n                        x = +args[i + 2];\r\n                        y = +args[i + 3];\r\n                        this.bezierCurveTo(x1, y1, cpx, cpy, x, y);\r\n                    }\r\n                    break;\r\n                case \"s\":\r\n                    checkEvenArgs(name, args.length, 4);\r\n                    if (cpx === null || cpy === null) {\r\n                        cpx = x;\r\n                        cpy = y;\r\n                    }\r\n                    for (let i = 0; i < args.length; i += 4) {\r\n                        const x1 = 2 * x - cpx;\r\n                        const y1 = 2 * y - cpy;\r\n                        cpx = +args[i] + x;\r\n                        cpy = +args[i + 1] + y;\r\n                        x += +args[i + 2];\r\n                        y += +args[i + 3];\r\n                        this.bezierCurveTo(x1, y1, cpx, cpy, x, y);\r\n                    }\r\n                    break;\r\n                case \"Q\":\r\n                    checkEvenArgs(name, args.length, 4);\r\n                    for (let i = 0; i < args.length; i += 4) {\r\n                        qcpx = +args[i];\r\n                        qcpy = +args[i + 1];\r\n                        x = +args[i + 2];\r\n                        y = +args[i + 3];\r\n                        this.quadraticCurveTo(qcpx, qcpy, x, y);\r\n                    }\r\n                    break;\r\n                case \"q\":\r\n                    checkEvenArgs(name, args.length, 4);\r\n                    for (let i = 0; i < args.length; i += 4) {\r\n                        qcpx = +args[i] + x;\r\n                        qcpy = +args[i + 1] + y;\r\n                        x += +args[i + 2];\r\n                        y += +args[i + 3];\r\n                        this.quadraticCurveTo(qcpx, qcpy, x, y);\r\n                    }\r\n                    break;\r\n                case \"T\":\r\n                    checkEvenArgs(name, args.length, 2);\r\n                    if (qcpx === null || qcpy === null) {\r\n                        qcpx = x;\r\n                        qcpy = y;\r\n                    }\r\n                    for (let i = 0; i < args.length; i += 2) {\r\n                        qcpx = 2 * x - qcpx;\r\n                        qcpy = 2 * y - qcpy;\r\n                        x = +args[i];\r\n                        y = +args[i + 1];\r\n                        this.quadraticCurveTo(qcpx, qcpy, x, y);\r\n                    }\r\n                    break;\r\n                case \"t\":\r\n                    checkEvenArgs(name, args.length, 2);\r\n                    if (qcpx === null || qcpy === null) {\r\n                        qcpx = x;\r\n                        qcpy = y;\r\n                    }\r\n                    for (let i = 0; i < args.length; i += 2) {\r\n                        qcpx = 2 * x - qcpx;\r\n                        qcpy = 2 * y - qcpy;\r\n                        x += +args[i];\r\n                        y += +args[i + 1];\r\n                        this.quadraticCurveTo(qcpx, qcpy, x, y);\r\n                    }\r\n                    break;\r\n                case \"A\":\r\n                case \"a\":\r\n                    const relative = (name === \"a\");\r\n                    splitArcFlags(args);\r\n                    checkEvenArgs(name, args.length, 7);\r\n                    for (let i = 0; i < args.length; i += 7) {\r\n                        let cx = +args[i + 5];\r\n                        let cy = +args[i + 6];\r\n                        if (relative) {\r\n                            cx += x;\r\n                            cy += y;\r\n                        }\r\n                        const bs = arcToBezier({\r\n                            px: x,\r\n                            py: y,\r\n                            rx: +args[i],\r\n                            ry: +args[i + 1],\r\n                            xAxisRotation: +args[i + 2],\r\n                            largeArcFlag: assertBinary(+args[i + 3]),\r\n                            sweepFlag: assertBinary(+args[i + 4]),\r\n                            cx,\r\n                            cy,\r\n                        });\r\n                        $array.each(bs, (b) => {\r\n                            this.bezierCurveTo(b.x1, b.y1, b.x2, b.y2, b.x, b.y);\r\n                            x = b.x;\r\n                            y = b.y;\r\n                        });\r\n                    }\r\n                    break;\r\n                case \"Z\":\r\n                case \"z\":\r\n                    checkArgs(name, args.length, 0);\r\n                    this.closePath();\r\n                    break;\r\n            }\r\n        }\r\n    }\r\n    _runPath(context) {\r\n        context.beginPath();\r\n        $array.each(this._operations, (op) => {\r\n            op.path(context);\r\n        });\r\n    }\r\n    _render(parentLayer) {\r\n        super._render(parentLayer);\r\n        const layer = this._layer || parentLayer;\r\n        const layerDirty = layer.dirty;\r\n        const interactive = this._isInteractive();\r\n        if (layerDirty || interactive) {\r\n            const context = layer.context;\r\n            const ghostContext = this._renderer._ghostLayer.context;\r\n            if (layerDirty) {\r\n                context.globalCompositeOperation = this.blendMode;\r\n                context.beginPath();\r\n            }\r\n            let color;\r\n            if (interactive) {\r\n                ghostContext.beginPath();\r\n                color = this._getColorId();\r\n            }\r\n            $array.each(this._operations, (op) => {\r\n                if (layerDirty) {\r\n                    op.path(context);\r\n                    op.colorize(context, undefined);\r\n                }\r\n                if (interactive) {\r\n                    op.path(ghostContext);\r\n                    op.colorize(ghostContext, color);\r\n                }\r\n            });\r\n        }\r\n    }\r\n    renderDetached(context) {\r\n        if (this.visible) {\r\n            this._setMatrix();\r\n            context.save();\r\n            // We must apply the mask before we transform the element\r\n            const mask = this.mask;\r\n            if (mask) {\r\n                mask._setMatrix();\r\n                mask._transform(context, 1);\r\n                mask._runPath(context);\r\n                context.clip();\r\n            }\r\n            // TODO handle compoundAlpha somehow ?\r\n            context.globalAlpha = this.compoundAlpha * this.alpha;\r\n            this._transform(context, 1);\r\n            if (this.filter) {\r\n                context.filter = this.filter;\r\n            }\r\n            context.globalCompositeOperation = this.blendMode;\r\n            context.beginPath();\r\n            $array.each(this._operations, (op) => {\r\n                op.path(context);\r\n                op.colorize(context, undefined);\r\n            });\r\n            context.restore();\r\n        }\r\n    }\r\n    _addBounds(bounds) {\r\n        if (this.visible && this.isMeasured) {\r\n            $array.each(this._operations, (op) => {\r\n                op.addBounds(bounds);\r\n            });\r\n        }\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nexport class CanvasText extends CanvasDisplayObject {\r\n    constructor(renderer, text, style) {\r\n        super(renderer);\r\n        Object.defineProperty(this, \"text\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"style\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"resolution\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 1\r\n        });\r\n        Object.defineProperty(this, \"textVisible\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: true\r\n        });\r\n        Object.defineProperty(this, \"_textInfo\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_originalScale\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 1\r\n        });\r\n        this.text = text;\r\n        this.style = style;\r\n    }\r\n    invalidateBounds() {\r\n        super.invalidateBounds();\r\n        this._textInfo = undefined;\r\n    }\r\n    _shared(context) {\r\n        if (this.style.textAlign) {\r\n            context.textAlign = this.style.textAlign;\r\n        }\r\n        if (this.style.direction) {\r\n            context.direction = this.style.direction;\r\n        }\r\n        if (this.style.textBaseline) {\r\n            context.textBaseline = this.style.textBaseline;\r\n        }\r\n    }\r\n    _prerender(layer, ignoreGhost = false, ignoreFontWeight = false) {\r\n        super._render(layer);\r\n        const context = layer.context;\r\n        const ghostContext = this._renderer._ghostLayer.context;\r\n        // Font style\r\n        const style = this.style;\r\n        let fontStyle = this._getFontStyle(undefined, ignoreFontWeight);\r\n        context.font = fontStyle;\r\n        if (this._isInteractive() && !ignoreGhost) {\r\n            ghostContext.font = fontStyle;\r\n        }\r\n        // Other parameters\r\n        if (style.fill) {\r\n            if (style.fill instanceof Color) {\r\n                context.fillStyle = style.fill.toCSS(style.fillOpacity != undefined ? style.fillOpacity : 1);\r\n            }\r\n            else {\r\n                context.fillStyle = style.fill;\r\n            }\r\n        }\r\n        if (style.shadowColor) {\r\n            layer.context.shadowColor = style.shadowColor.toCSS(style.shadowOpacity || 1);\r\n        }\r\n        if (style.shadowBlur) {\r\n            layer.context.shadowBlur = style.shadowBlur;\r\n        }\r\n        if (style.shadowOffsetX) {\r\n            layer.context.shadowOffsetX = style.shadowOffsetX;\r\n        }\r\n        if (style.shadowOffsetY) {\r\n            layer.context.shadowOffsetY = style.shadowOffsetY;\r\n        }\r\n        this._shared(context);\r\n        if (this._isInteractive() && !ignoreGhost) {\r\n            ghostContext.fillStyle = this._getColorId();\r\n            this._shared(ghostContext);\r\n        }\r\n    }\r\n    _getFontStyle(style2, ignoreFontWeight = false) {\r\n        // Process defaults\r\n        const style = this.style;\r\n        let fontStyle = [];\r\n        if (style2 && style2.fontVariant) {\r\n            fontStyle.push(style2.fontVariant);\r\n        }\r\n        else if (style.fontVariant) {\r\n            fontStyle.push(style.fontVariant);\r\n        }\r\n        if (!ignoreFontWeight) {\r\n            if (style2 && style2.fontWeight) {\r\n                fontStyle.push(style2.fontWeight);\r\n            }\r\n            else if (style.fontWeight) {\r\n                fontStyle.push(style.fontWeight);\r\n            }\r\n        }\r\n        if (style2 && style2.fontStyle) {\r\n            fontStyle.push(style2.fontStyle);\r\n        }\r\n        else if (style.fontStyle) {\r\n            fontStyle.push(style.fontStyle);\r\n        }\r\n        if (style2 && style2.fontSize) {\r\n            if ($type.isNumber(style2.fontSize)) {\r\n                style2.fontSize = style2.fontSize + \"px\";\r\n            }\r\n            fontStyle.push(style2.fontSize);\r\n        }\r\n        else if (style.fontSize) {\r\n            if ($type.isNumber(style.fontSize)) {\r\n                style.fontSize = style.fontSize + \"px\";\r\n            }\r\n            fontStyle.push(style.fontSize);\r\n        }\r\n        if (style2 && style2.fontFamily) {\r\n            fontStyle.push(style2.fontFamily);\r\n        }\r\n        else if (style.fontFamily) {\r\n            fontStyle.push(style.fontFamily);\r\n        }\r\n        else if (fontStyle.length) {\r\n            fontStyle.push(\"Arial\");\r\n        }\r\n        return fontStyle.join(\" \");\r\n    }\r\n    _render(parentLayer) {\r\n        const layer = this._layer || parentLayer;\r\n        // We need measurements in order to properly position text for alignment\r\n        if (!this._textInfo) {\r\n            this._measure(layer);\r\n        }\r\n        if (this.textVisible) {\r\n            const interactive = this._isInteractive();\r\n            const context = layer.context;\r\n            const layerDirty = layer.dirty;\r\n            const ghostContext = this._renderer._ghostLayer.context;\r\n            context.save();\r\n            ghostContext.save();\r\n            this._prerender(layer);\r\n            // const lines = this.text.toString().replace(/\\r/g, \"\").split(/\\n/);\r\n            // const x = this._localBounds && (this._localBounds.left < 0) ? Math.abs(this._localBounds.left) : 0;\r\n            // Process text info produced by _measure()\r\n            $array.each(this._textInfo, (line, _index) => {\r\n                $array.each(line.textChunks, (chunk, _index) => {\r\n                    // Set style\r\n                    if (chunk.style) {\r\n                        context.save();\r\n                        ghostContext.save();\r\n                        context.font = chunk.style;\r\n                        if (this._isInteractive()) {\r\n                            ghostContext.font = chunk.style;\r\n                        }\r\n                    }\r\n                    if (chunk.fill) {\r\n                        context.save();\r\n                        context.fillStyle = chunk.fill.toCSS();\r\n                        // Color does not affect ghostContext so we not set it\r\n                    }\r\n                    // Draw text\r\n                    if (layerDirty) {\r\n                        context.fillText(chunk.text, chunk.offsetX, line.offsetY + chunk.offsetY);\r\n                    }\r\n                    // Draw underline\r\n                    if (chunk.textDecoration == \"underline\" || chunk.textDecoration == \"line-through\") {\r\n                        let thickness = 1;\r\n                        let offset = 1;\r\n                        let fontSize = chunk.height;\r\n                        let offsetX = chunk.offsetX;\r\n                        switch (this.style.textAlign) {\r\n                            case \"right\":\r\n                            case \"end\":\r\n                                offsetX -= chunk.width;\r\n                                break;\r\n                            case \"center\":\r\n                                offsetX -= chunk.width / 2;\r\n                                break;\r\n                        }\r\n                        if (chunk.style) {\r\n                            const format = TextFormatter.getTextStyle(chunk.style);\r\n                            switch (format.fontWeight) {\r\n                                case \"bolder\":\r\n                                case \"bold\":\r\n                                case \"700\":\r\n                                case \"800\":\r\n                                case \"900\":\r\n                                    thickness = 2;\r\n                                    break;\r\n                            }\r\n                        }\r\n                        if (fontSize) {\r\n                            offset = fontSize / 20;\r\n                        }\r\n                        let y;\r\n                        if (chunk.textDecoration == \"line-through\") {\r\n                            y = thickness + line.offsetY + chunk.offsetY - chunk.height / 2;\r\n                        }\r\n                        else {\r\n                            y = thickness + offset * 1.5 + line.offsetY + chunk.offsetY;\r\n                        }\r\n                        context.save();\r\n                        context.beginPath();\r\n                        if (chunk.fill) {\r\n                            context.strokeStyle = chunk.fill.toCSS();\r\n                        }\r\n                        else if (this.style.fill && this.style.fill instanceof Color) {\r\n                            context.strokeStyle = this.style.fill.toCSS();\r\n                        }\r\n                        context.lineWidth = thickness * offset;\r\n                        context.moveTo(offsetX, y);\r\n                        context.lineTo(offsetX + chunk.width, y);\r\n                        context.stroke();\r\n                        context.restore();\r\n                    }\r\n                    if (interactive && this.interactive) {\r\n                        // Draw text in ghost canvas ONLY if it is set as interactive\r\n                        // explicitly. This way we avoid hit test anomalies caused by anti\r\n                        // aliasing of text.\r\n                        ghostContext.fillText(chunk.text, chunk.offsetX, line.offsetY + chunk.offsetY);\r\n                    }\r\n                    if (chunk.fill) {\r\n                        context.restore();\r\n                        // Color does not affect ghostContext so we not set it\r\n                    }\r\n                    // Reset style\r\n                    if (chunk.style) {\r\n                        context.restore();\r\n                        ghostContext.restore();\r\n                    }\r\n                });\r\n            });\r\n            context.restore();\r\n            ghostContext.restore();\r\n        }\r\n    }\r\n    _addBounds(bounds) {\r\n        if (this.visible && this.isMeasured) {\r\n            //if (this._textVisible) {\r\n            const x = this._measure(this.getLayer());\r\n            setPoint(bounds, { x: x.left, y: x.top });\r\n            setPoint(bounds, { x: x.right, y: x.bottom });\r\n            //}\r\n        }\r\n    }\r\n    _ignoreFontWeight() {\r\n        return /apple/i.test(navigator.vendor);\r\n    }\r\n    _measure(layer) {\r\n        const context = layer.context;\r\n        const ghostContext = this._renderer._ghostLayer.context;\r\n        const rtl = this.style.direction == \"rtl\";\r\n        // Reset text info\r\n        this._textInfo = [];\r\n        // Init\r\n        const oversizedBehavior = this.style.oversizedBehavior;\r\n        const maxWidth = this.style.maxWidth;\r\n        const truncate = $type.isNumber(maxWidth) && oversizedBehavior == \"truncate\";\r\n        const wrap = $type.isNumber(maxWidth) && (oversizedBehavior == \"wrap\" || oversizedBehavior == \"wrap-no-break\");\r\n        // Pre-render\r\n        context.save();\r\n        ghostContext.save();\r\n        this._prerender(layer, true, this._ignoreFontWeight());\r\n        // Get default font metrix\r\n        const refText = \"abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789 \";\r\n        // Split up text into lines\r\n        const lines = this.text.toString().replace(/\\r/g, \"\").split(/\\n/);\r\n        let styleRestored = true;\r\n        let minX = 0;\r\n        let maxX = 0;\r\n        // Iterate through the lines\r\n        let offsetY = 0;\r\n        let currentStyle;\r\n        $array.each(lines, (line, _index) => {\r\n            // Split up line into format/value chunks\r\n            let chunks;\r\n            if (line == \"\") {\r\n                chunks = [{\r\n                        type: \"value\",\r\n                        text: \"\"\r\n                    }];\r\n            }\r\n            else {\r\n                chunks = TextFormatter.chunk(line, false, this.style.ignoreFormatting);\r\n            }\r\n            while (chunks.length > 0) {\r\n                // Init line object\r\n                let lineInfo = {\r\n                    offsetY: offsetY,\r\n                    ascent: 0,\r\n                    width: 0,\r\n                    height: 0,\r\n                    left: 0,\r\n                    right: 0,\r\n                    textChunks: []\r\n                };\r\n                // Measure reference text\r\n                const metrics = this._measureText(refText, context);\r\n                const height = metrics.actualBoundingBoxAscent + metrics.actualBoundingBoxDescent;\r\n                lineInfo.height = height;\r\n                lineInfo.ascent = metrics.actualBoundingBoxAscent;\r\n                let currentFormat;\r\n                let currentDecoration = this.style.textDecoration;\r\n                let currentFill;\r\n                let currentChunkWidth;\r\n                let skipFurtherText = false;\r\n                let firstTextChunk = true;\r\n                let leftoverChunks = [];\r\n                let currentVerticalAlign;\r\n                //let offsetX = 0;\r\n                //let chunk;\r\n                //while(chunk = chunks.shift()) {\r\n                $array.eachContinue(chunks, (chunk, index) => {\r\n                    // Format chunk\r\n                    if (chunk.type == \"format\") {\r\n                        if (chunk.text == \"[/]\") {\r\n                            if (!styleRestored) {\r\n                                context.restore();\r\n                                ghostContext.restore();\r\n                                styleRestored = true;\r\n                            }\r\n                            currentFill = undefined;\r\n                            currentStyle = undefined;\r\n                            currentChunkWidth = undefined;\r\n                            currentDecoration = this.style.textDecoration;\r\n                            currentVerticalAlign = undefined;\r\n                            currentFormat = chunk.text;\r\n                        }\r\n                        else {\r\n                            if (!styleRestored) {\r\n                                context.restore();\r\n                                ghostContext.restore();\r\n                            }\r\n                            let format = TextFormatter.getTextStyle(chunk.text);\r\n                            const fontStyle = this._getFontStyle(format);\r\n                            context.save();\r\n                            ghostContext.save();\r\n                            context.font = fontStyle;\r\n                            currentStyle = fontStyle;\r\n                            currentFormat = chunk.text;\r\n                            if (format.textDecoration) {\r\n                                currentDecoration = format.textDecoration;\r\n                            }\r\n                            if (format.fill) {\r\n                                currentFill = format.fill;\r\n                            }\r\n                            if (format.width) {\r\n                                currentChunkWidth = $type.toNumber(format.width);\r\n                            }\r\n                            if (format.verticalAlign) {\r\n                                currentVerticalAlign = format.verticalAlign;\r\n                            }\r\n                            styleRestored = false;\r\n                            // Measure reference text after change of format\r\n                            const metrics = this._measureText(refText, context);\r\n                            const height = metrics.actualBoundingBoxAscent + metrics.actualBoundingBoxDescent;\r\n                            if (height > lineInfo.height) {\r\n                                lineInfo.height = height;\r\n                            }\r\n                            if (metrics.actualBoundingBoxAscent > lineInfo.ascent) {\r\n                                lineInfo.ascent = metrics.actualBoundingBoxAscent;\r\n                            }\r\n                        }\r\n                    }\r\n                    // Text chunk\r\n                    else if (chunk.type == \"value\" && !skipFurtherText) {\r\n                        // Measure\r\n                        const metrics = this._measureText(chunk.text, context);\r\n                        let chunkWidth = metrics.actualBoundingBoxLeft + metrics.actualBoundingBoxRight;\r\n                        // Check for fit\r\n                        if (truncate) {\r\n                            // Break words?\r\n                            let breakWords = firstTextChunk || this.style.breakWords || false;\r\n                            // Measure ellipsis and check if it fits\r\n                            const ellipsis = this.style.ellipsis || \"\";\r\n                            const ellipsisMetrics = this._measureText(ellipsis, context);\r\n                            const ellipsisWidth = ellipsisMetrics.actualBoundingBoxLeft + ellipsisMetrics.actualBoundingBoxRight;\r\n                            // Check fit\r\n                            if ((lineInfo.width + chunkWidth) > maxWidth) {\r\n                                const excessWidth = maxWidth - lineInfo.width - ellipsisWidth;\r\n                                chunk.text = this._truncateText(context, chunk.text, excessWidth, breakWords);\r\n                                chunk.text += ellipsis;\r\n                                skipFurtherText = true;\r\n                            }\r\n                        }\r\n                        else if (wrap) {\r\n                            // Check fit\r\n                            if ((lineInfo.width + chunkWidth) > maxWidth) {\r\n                                const excessWidth = maxWidth - lineInfo.width;\r\n                                const tmpText = this._truncateText(context, chunk.text, excessWidth, false, (firstTextChunk && this.style.oversizedBehavior != \"wrap-no-break\"));\r\n                                if (tmpText == \"\") {\r\n                                    // Unable to fit a single letter - hide the whole label\r\n                                    this.textVisible = true;\r\n                                    return false;\r\n                                }\r\n                                //skipFurtherText = true;\r\n                                //Add remaining chunks for the next line\r\n                                leftoverChunks = chunks.slice(index + 1);\r\n                                //Add remaining text of current chunk if it was forced-cut\r\n                                if ($utils.trim(tmpText) != $utils.trim(chunk.text)) {\r\n                                    leftoverChunks.unshift({\r\n                                        type: \"value\",\r\n                                        text: chunk.text.substr(tmpText.length)\r\n                                    });\r\n                                    if (currentFormat) {\r\n                                        leftoverChunks.unshift({\r\n                                            type: \"format\",\r\n                                            text: currentFormat\r\n                                        });\r\n                                    }\r\n                                }\r\n                                // Set current chunk (truncated)\r\n                                chunk.text = $utils.trim(tmpText);\r\n                                chunks = [];\r\n                                skipFurtherText = true;\r\n                            }\r\n                        }\r\n                        // Chunk width?\r\n                        let leftBoundMod = 1;\r\n                        let rightBoundMod = 1;\r\n                        if (currentStyle && currentChunkWidth && (currentChunkWidth > chunkWidth)) {\r\n                            // increase horizontal bounding boxes accordingly\r\n                            const boundsMod = chunkWidth / currentChunkWidth;\r\n                            switch (this.style.textAlign) {\r\n                                case \"right\":\r\n                                case \"end\":\r\n                                    leftBoundMod = boundsMod;\r\n                                    break;\r\n                                case \"center\":\r\n                                    leftBoundMod = boundsMod;\r\n                                    rightBoundMod = boundsMod;\r\n                                    break;\r\n                                default:\r\n                                    rightBoundMod = boundsMod;\r\n                            }\r\n                            chunkWidth = currentChunkWidth;\r\n                        }\r\n                        const chunkHeight = metrics.actualBoundingBoxAscent + metrics.actualBoundingBoxDescent;\r\n                        if (chunkHeight > lineInfo.height) {\r\n                            lineInfo.height = chunkHeight;\r\n                        }\r\n                        if (metrics.actualBoundingBoxAscent > lineInfo.ascent) {\r\n                            lineInfo.ascent = metrics.actualBoundingBoxAscent;\r\n                        }\r\n                        lineInfo.width += chunkWidth;\r\n                        lineInfo.left += metrics.actualBoundingBoxLeft / leftBoundMod;\r\n                        lineInfo.right += metrics.actualBoundingBoxRight / rightBoundMod;\r\n                        lineInfo.textChunks.push({\r\n                            style: currentStyle,\r\n                            fill: currentFill,\r\n                            text: chunk.text,\r\n                            width: chunkWidth,\r\n                            height: chunkHeight,\r\n                            left: metrics.actualBoundingBoxLeft,\r\n                            right: metrics.actualBoundingBoxRight,\r\n                            ascent: metrics.actualBoundingBoxAscent,\r\n                            offsetX: 0,\r\n                            offsetY: 0,\r\n                            textDecoration: currentDecoration,\r\n                            verticalAlign: currentVerticalAlign\r\n                        });\r\n                        //offsetX += chunkWidth;\r\n                        firstTextChunk = false;\r\n                    }\r\n                    if (leftoverChunks) {\r\n                        //return false;\r\n                    }\r\n                    return true;\r\n                    //}\r\n                });\r\n                if (this.style.lineHeight instanceof Percent) {\r\n                    lineInfo.height *= this.style.lineHeight.value;\r\n                    lineInfo.ascent *= this.style.lineHeight.value;\r\n                }\r\n                else {\r\n                    lineInfo.height *= this.style.lineHeight || 1.2;\r\n                    lineInfo.ascent *= this.style.lineHeight || 1.2;\r\n                }\r\n                if (minX < lineInfo.left) {\r\n                    minX = lineInfo.left;\r\n                }\r\n                if (maxX < lineInfo.right) {\r\n                    maxX = lineInfo.right;\r\n                }\r\n                this._textInfo.push(lineInfo);\r\n                //lineInfo.offsetY += lineInfo.ascent;\r\n                offsetY += lineInfo.height;\r\n                // Reset chunks so that it can proceed to the next line\r\n                chunks = leftoverChunks || [];\r\n            }\r\n        });\r\n        if (!styleRestored) {\r\n            context.restore();\r\n            ghostContext.restore();\r\n        }\r\n        // Adjust chunk internal offsets\r\n        $array.each(this._textInfo, (lineInfo, _index) => {\r\n            let currentChunkOffset = 0;\r\n            $array.each(lineInfo.textChunks, (chunk) => {\r\n                chunk.offsetX = currentChunkOffset + chunk.left - lineInfo.left;\r\n                chunk.offsetY += lineInfo.height - lineInfo.height * (this.style.baselineRatio || 0.19);\r\n                currentChunkOffset += chunk.width;\r\n                if (chunk.verticalAlign) {\r\n                    switch (chunk.verticalAlign) {\r\n                        case \"super\":\r\n                            chunk.offsetY -= lineInfo.height / 2 - chunk.height / 2;\r\n                            break;\r\n                        case \"sub\":\r\n                            chunk.offsetY += chunk.height / 2;\r\n                            break;\r\n                    }\r\n                }\r\n            });\r\n        });\r\n        const bounds = {\r\n            left: rtl ? -maxX : -minX,\r\n            top: 0,\r\n            right: rtl ? minX : maxX,\r\n            bottom: offsetY,\r\n        };\r\n        // We need to fit?\r\n        if (oversizedBehavior !== \"none\") {\r\n            const ratio = this._fitRatio(bounds);\r\n            if (ratio < 1) {\r\n                if (oversizedBehavior == \"fit\") {\r\n                    if ($type.isNumber(this.style.minScale) && (ratio < this.style.minScale)) {\r\n                        this.textVisible = false;\r\n                        bounds.left = 0;\r\n                        bounds.top = 0;\r\n                        bounds.right = 0;\r\n                        bounds.bottom = 0;\r\n                    }\r\n                    else {\r\n                        if (!this._originalScale || this._originalScale == 1) {\r\n                            this._originalScale = this.scale;\r\n                        }\r\n                        this.scale = ratio;\r\n                        this.textVisible = true;\r\n                    }\r\n                }\r\n                else if (oversizedBehavior == \"hide\") {\r\n                    this.textVisible = false;\r\n                    bounds.left = 0;\r\n                    bounds.top = 0;\r\n                    bounds.right = 0;\r\n                    bounds.bottom = 0;\r\n                }\r\n                else {\r\n                    switch (this.style.textAlign) {\r\n                        case \"right\":\r\n                        case \"end\":\r\n                            bounds.left = -maxWidth;\r\n                            bounds.right = 0;\r\n                            break;\r\n                        case \"center\":\r\n                            bounds.left = -maxWidth / 2;\r\n                            bounds.right = maxWidth / 2;\r\n                            break;\r\n                        default:\r\n                            bounds.left = 0;\r\n                            bounds.right = maxWidth;\r\n                    }\r\n                    this.scale = this._originalScale || 1;\r\n                    this._originalScale = undefined;\r\n                    this.textVisible = true;\r\n                }\r\n            }\r\n            else {\r\n                this.scale = this._originalScale || 1;\r\n                this._originalScale = undefined;\r\n                this.textVisible = true;\r\n            }\r\n        }\r\n        context.restore();\r\n        ghostContext.restore();\r\n        return bounds;\r\n    }\r\n    _fitRatio(bounds) {\r\n        const maxW = this.style.maxWidth;\r\n        const maxH = this.style.maxHeight;\r\n        if (!$type.isNumber(maxW) && !$type.isNumber(maxH)) {\r\n            return 1;\r\n        }\r\n        const w = bounds.right - bounds.left;\r\n        const h = bounds.bottom - bounds.top;\r\n        return Math.min(maxW / w || 1, maxH / h || 1);\r\n    }\r\n    _truncateText(context, text, maxWidth, breakWords = false, fallbackBreakWords = true) {\r\n        let width;\r\n        do {\r\n            if (breakWords) {\r\n                text = text.slice(0, -1);\r\n            }\r\n            else {\r\n                let tmp = text.replace(/[^,;:!?\\\\\\/\\s]+[,;:!?\\\\\\/\\s]*$/g, \"\");\r\n                if (tmp == \"\" && fallbackBreakWords) {\r\n                    breakWords = true;\r\n                }\r\n                else if (tmp == \"\") {\r\n                    return text;\r\n                }\r\n                else {\r\n                    text = tmp;\r\n                }\r\n            }\r\n            const metrics = this._measureText(text, context);\r\n            width = metrics.actualBoundingBoxLeft + metrics.actualBoundingBoxRight;\r\n        } while ((width > maxWidth) && text != \"\");\r\n        return text;\r\n    }\r\n    _measureText(text, context) {\r\n        let metrics = context.measureText(text);\r\n        let fakeMetrics = {};\r\n        if (metrics.actualBoundingBoxAscent == null) {\r\n            const div = document.createElement(\"div\");\r\n            div.innerText = text;\r\n            div.style.visibility = \"hidden\";\r\n            div.style.position = \"absolute\";\r\n            div.style.top = \"-1000000px;\";\r\n            div.style.fontFamily = this.style.fontFamily || \"\";\r\n            div.style.fontSize = this.style.fontSize + \"\";\r\n            document.body.appendChild(div);\r\n            const bbox = div.getBoundingClientRect();\r\n            document.body.removeChild(div);\r\n            const h = bbox.height;\r\n            const w = metrics.width;\r\n            let left = 0;\r\n            let right = w;\r\n            fakeMetrics = {\r\n                actualBoundingBoxAscent: h,\r\n                actualBoundingBoxDescent: 0,\r\n                actualBoundingBoxLeft: left,\r\n                actualBoundingBoxRight: right,\r\n                fontBoundingBoxAscent: h,\r\n                fontBoundingBoxDescent: 0,\r\n                width: w\r\n            };\r\n            //return fake;\r\n        }\r\n        else {\r\n            fakeMetrics = {\r\n                actualBoundingBoxAscent: metrics.actualBoundingBoxAscent,\r\n                actualBoundingBoxDescent: metrics.actualBoundingBoxDescent,\r\n                actualBoundingBoxLeft: metrics.actualBoundingBoxLeft,\r\n                actualBoundingBoxRight: metrics.actualBoundingBoxRight,\r\n                fontBoundingBoxAscent: metrics.actualBoundingBoxAscent,\r\n                fontBoundingBoxDescent: metrics.actualBoundingBoxDescent,\r\n                width: metrics.width\r\n            };\r\n        }\r\n        const w = metrics.width;\r\n        switch (this.style.textAlign) {\r\n            case \"right\":\r\n            case \"end\":\r\n                fakeMetrics.actualBoundingBoxLeft = w;\r\n                fakeMetrics.actualBoundingBoxRight = 0;\r\n                break;\r\n            case \"center\":\r\n                fakeMetrics.actualBoundingBoxLeft = w / 2;\r\n                fakeMetrics.actualBoundingBoxRight = w / 2;\r\n                break;\r\n            default:\r\n                fakeMetrics.actualBoundingBoxLeft = 0;\r\n                fakeMetrics.actualBoundingBoxRight = w;\r\n        }\r\n        return fakeMetrics;\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nexport class CanvasTextStyle {\r\n    constructor() {\r\n        //public wordWrapWidth: number = 100;\r\n        Object.defineProperty(this, \"fill\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"fillOpacity\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"textAlign\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"fontFamily\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"fontSize\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"fontWeight\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"fontStyle\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"fontVariant\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"textDecoration\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"shadowColor\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"shadowBlur\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"shadowOffsetX\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"shadowOffsetY\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"shadowOpacity\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        // leading?: number;\r\n        // letterSpacing?: number;\r\n        Object.defineProperty(this, \"lineHeight\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: percent(120)\r\n        });\r\n        Object.defineProperty(this, \"baselineRatio\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0.19\r\n        });\r\n        // padding?: number;\r\n        // stroke?: number;\r\n        // strokeThickness?: number;\r\n        // trim?: number;\r\n        // wordWrap?: boolean;\r\n        Object.defineProperty(this, \"direction\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"textBaseline\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"oversizedBehavior\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: \"none\"\r\n        });\r\n        Object.defineProperty(this, \"breakWords\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(this, \"ellipsis\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: \"\"\r\n        });\r\n        Object.defineProperty(this, \"maxWidth\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"maxHeight\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"minScale\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"ignoreFormatting\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nexport class CanvasRadialText extends CanvasText {\r\n    constructor() {\r\n        super(...arguments);\r\n        Object.defineProperty(this, \"textType\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: \"circular\"\r\n        });\r\n        Object.defineProperty(this, \"radius\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"startAngle\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"inside\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(this, \"orientation\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: \"auto\"\r\n        });\r\n        Object.defineProperty(this, \"kerning\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(this, \"_textReversed\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n    }\r\n    _render(parentLayer) {\r\n        switch (this.textType) {\r\n            case \"circular\":\r\n                this._renderCircular(parentLayer);\r\n                break;\r\n            default:\r\n                super._render(parentLayer);\r\n                break;\r\n        }\r\n    }\r\n    _renderCircular(parentLayer) {\r\n        if (this.textVisible) {\r\n            const layer = this._layer || parentLayer;\r\n            this._prerender(layer);\r\n            const interactive = this._isInteractive();\r\n            const context = layer.context;\r\n            const layerDirty = layer.dirty;\r\n            const ghostContext = this._renderer._ghostLayer.context;\r\n            // Savepoint\r\n            context.save();\r\n            if (interactive) {\r\n                ghostContext.save();\r\n            }\r\n            // We need measurements in order to properly position text for alignment\r\n            if (!this._textInfo) {\r\n                this._measure(layer);\r\n            }\r\n            // Init\r\n            let radius = (this.radius || 0);\r\n            let startAngle = (this.startAngle || 0);\r\n            let deltaAngle = 0;\r\n            let orientation = this.orientation;\r\n            let inward = orientation == \"auto\" ? \"auto\" : orientation == \"inward\";\r\n            const inside = this.inside;\r\n            const align = this.style.textAlign || \"left\";\r\n            const kerning = this.kerning || 0;\r\n            let clockwise = align == \"left\" ? 1 : -1;\r\n            const shouldReverse = !this._textReversed;\r\n            // Check if we need to invert the whole stuff\r\n            if (inward == \"auto\") {\r\n                // Calc max angle so we know whether we need to flip it\r\n                let maxAngle = 0;\r\n                let midAngle = 0;\r\n                $array.each(this._textInfo, (line, _index) => {\r\n                    const deltaAngle = startAngle + (line.width / (radius - line.height)) / 2 * -clockwise;\r\n                    if (deltaAngle > maxAngle) {\r\n                        maxAngle = deltaAngle;\r\n                    }\r\n                });\r\n                if (align == \"left\") {\r\n                    midAngle = (maxAngle + deltaAngle / 2) * $math.DEGREES;\r\n                }\r\n                else if (align == \"right\") {\r\n                    midAngle = (maxAngle - deltaAngle / 2) * $math.DEGREES;\r\n                }\r\n                else {\r\n                    midAngle = startAngle * $math.DEGREES;\r\n                }\r\n                midAngle = $math.normalizeAngle(midAngle);\r\n                inward = (midAngle >= 270) || (midAngle <= 90);\r\n            }\r\n            if (inward == true && shouldReverse) {\r\n                this._textInfo.reverse();\r\n                this._textReversed = true;\r\n            }\r\n            // if ((inward == false && align == \"left\") || (inward == true && align == \"right\")) {\r\n            // \tclockwise *= -1;\r\n            // }\r\n            // Process text info produced by _measure()\r\n            $array.each(this._textInfo, (line, _index) => {\r\n                const textHeight = line.height;\r\n                // Adjust radius (for `inside = false`)\r\n                // Radius adjustment for `inside = false` is below the line calculation\r\n                if (!inside) {\r\n                    radius += textHeight;\r\n                }\r\n                // Reverse letters if we're painting them counter-clockwise\r\n                if (((clockwise == -1 && inward) || (clockwise == 1 && !inward)) && shouldReverse) {\r\n                    line.textChunks.reverse();\r\n                }\r\n                // Init angles\r\n                let lineStartAngle = startAngle;\r\n                deltaAngle = 0;\r\n                // Adjust for center-align\r\n                if (align == \"center\") {\r\n                    lineStartAngle += (line.width / (radius - textHeight)) / 2 * -clockwise;\r\n                    deltaAngle = lineStartAngle - startAngle;\r\n                }\r\n                // if (inward == \"auto\") {\r\n                // \tlet midAngle;\r\n                // \tif (align == \"left\") {\r\n                // \t\tmidAngle = (lineStartAngle + deltaAngle / 2) * $math.DEGREES;\r\n                // \t}\r\n                // \telse if () {\r\n                // \t\tmidAngle = (lineStartAngle - deltaAngle / 2) * $math.DEGREES;\r\n                // \t}\r\n                // \tinward = (midAngle >= 270) || (midAngle <= 90);\r\n                // }\r\n                // Rotate letters if they are facing outward\r\n                lineStartAngle += (Math.PI * (inward ? 0 : 1)); // Rotate 180 if outward\r\n                // Savepoint\r\n                context.save();\r\n                if (interactive) {\r\n                    ghostContext.save();\r\n                }\r\n                // Assume starting angle\r\n                context.rotate(lineStartAngle);\r\n                if (interactive) {\r\n                    ghostContext.rotate(lineStartAngle);\r\n                }\r\n                let angleShift = 0;\r\n                $array.each(line.textChunks, (chunk, _index) => {\r\n                    // Draw the letter\r\n                    const char = chunk.text;\r\n                    const charWidth = chunk.width;\r\n                    // Rotate half a letter\r\n                    angleShift = (charWidth / 2) / (radius - textHeight) * clockwise;\r\n                    context.rotate(angleShift);\r\n                    if (interactive) {\r\n                        ghostContext.rotate(angleShift);\r\n                    }\r\n                    // Set style\r\n                    if (chunk.style) {\r\n                        context.save();\r\n                        ghostContext.save();\r\n                        context.font = chunk.style;\r\n                        if (interactive) {\r\n                            ghostContext.font = chunk.style;\r\n                        }\r\n                    }\r\n                    if (chunk.fill) {\r\n                        context.save();\r\n                        context.fillStyle = chunk.fill.toCSS();\r\n                        // Color does not affect ghostContext so we not set it\r\n                    }\r\n                    // Center letters\r\n                    context.textBaseline = \"middle\";\r\n                    context.textAlign = \"center\";\r\n                    if (interactive) {\r\n                        ghostContext.textBaseline = \"middle\";\r\n                        ghostContext.textAlign = \"center\";\r\n                    }\r\n                    // Plop the letter\r\n                    if (layerDirty) {\r\n                        context.fillText(char, 0, (inward ? 1 : -1) * (0 - radius + textHeight / 2));\r\n                    }\r\n                    if (interactive) {\r\n                        ghostContext.fillText(char, 0, (inward ? 1 : -1) * (0 - radius + textHeight / 2));\r\n                    }\r\n                    if (chunk.fill) {\r\n                        context.restore();\r\n                        // Color does not affect ghostContext so we not set it\r\n                    }\r\n                    // Reset style\r\n                    if (chunk.style) {\r\n                        context.restore();\r\n                        ghostContext.restore();\r\n                    }\r\n                    // Rotate half a letter and add spacing\r\n                    angleShift = (charWidth / 2 + kerning) / (radius - textHeight) * clockwise;\r\n                    context.rotate(angleShift);\r\n                    if (interactive) {\r\n                        ghostContext.rotate(angleShift);\r\n                    }\r\n                });\r\n                // Restore angle\r\n                context.restore();\r\n                if (interactive) {\r\n                    ghostContext.restore();\r\n                }\r\n                // Adjust radius (for `inside = true`)\r\n                if (inside) {\r\n                    radius -= textHeight;\r\n                }\r\n            });\r\n            // Restore\r\n            context.restore();\r\n            if (interactive) {\r\n                ghostContext.restore();\r\n            }\r\n        }\r\n    }\r\n    _measure(layer) {\r\n        switch (this.textType) {\r\n            case \"circular\":\r\n                return this._measureCircular(layer);\r\n            default:\r\n                return super._measure(layer);\r\n        }\r\n    }\r\n    _measureCircular(layer) {\r\n        const context = layer.context;\r\n        const ghostContext = this._renderer._ghostLayer.context;\r\n        const rtl = this.style.direction == \"rtl\";\r\n        const oversizedBehavior = this.style.oversizedBehavior;\r\n        const maxWidth = this.style.maxWidth;\r\n        const truncate = $type.isNumber(maxWidth) && oversizedBehavior == \"truncate\";\r\n        const ellipsis = this.style.ellipsis || \"\";\r\n        let ellipsisMetrics;\r\n        //const wrap = $type.isNumber(maxWidth) && (oversizedBehavior == \"wrap\" || oversizedBehavior == \"wrap-no-break\");\r\n        // Reset text info\r\n        this.textVisible = true;\r\n        this._textInfo = [];\r\n        this._textReversed = false;\r\n        // Pre-render\r\n        context.save();\r\n        ghostContext.save();\r\n        this._prerender(layer, true);\r\n        // Split up text into lines\r\n        const lines = this.text.toString().replace(/\\r/g, \"\").split(/\\n/);\r\n        let styleRestored = true;\r\n        let totalWidth = 0;\r\n        // Iterate through the lines\r\n        let offsetY = 0;\r\n        $array.each(lines, (line, _index) => {\r\n            // Split up line into format/value chunks\r\n            let chunks = TextFormatter.chunk(line, false, this.style.ignoreFormatting);\r\n            // Init line object\r\n            let lineInfo = {\r\n                offsetY: offsetY,\r\n                ascent: 0,\r\n                width: 0,\r\n                height: 0,\r\n                left: 0,\r\n                right: 0,\r\n                textChunks: []\r\n            };\r\n            let currentStyle;\r\n            let currentFill;\r\n            let currentChunkWidth;\r\n            //while(chunk = chunks.shift()) {\r\n            $array.each(chunks, (chunk, _index) => {\r\n                // Format chunk\r\n                if (chunk.type == \"format\") {\r\n                    if (chunk.text == \"[/]\") {\r\n                        if (!styleRestored) {\r\n                            context.restore();\r\n                            ghostContext.restore();\r\n                            styleRestored = true;\r\n                        }\r\n                        currentFill = undefined;\r\n                        currentStyle = undefined;\r\n                        currentChunkWidth = undefined;\r\n                    }\r\n                    else {\r\n                        let format = TextFormatter.getTextStyle(chunk.text);\r\n                        const fontStyle = this._getFontStyle(format);\r\n                        context.save();\r\n                        ghostContext.save();\r\n                        context.font = fontStyle;\r\n                        currentStyle = fontStyle;\r\n                        if (format.fill) {\r\n                            currentFill = format.fill;\r\n                        }\r\n                        if (format.width) {\r\n                            currentChunkWidth = $type.toNumber(format.width);\r\n                        }\r\n                        styleRestored = false;\r\n                    }\r\n                    if (truncate) {\r\n                        ellipsisMetrics = this._measureText(ellipsis, context);\r\n                    }\r\n                }\r\n                // Text format\r\n                else if (chunk.type == \"value\") {\r\n                    // Measure each letter\r\n                    const chars = chunk.text.match(/./ug) || [];\r\n                    if (rtl) {\r\n                        chars.reverse();\r\n                    }\r\n                    for (let i = 0; i < chars.length; i++) {\r\n                        const char = chars[i];\r\n                        // Measure\r\n                        const metrics = this._measureText(char, context);\r\n                        let chunkWidth = metrics.width;\r\n                        // Chunk width?\r\n                        if (currentStyle && currentChunkWidth && (currentChunkWidth > chunkWidth)) {\r\n                            chunkWidth = currentChunkWidth;\r\n                        }\r\n                        const chunkHeight = metrics.actualBoundingBoxAscent + metrics.actualBoundingBoxDescent;\r\n                        if (chunkHeight > lineInfo.height) {\r\n                            lineInfo.height = chunkHeight;\r\n                        }\r\n                        if (metrics.actualBoundingBoxAscent > lineInfo.ascent) {\r\n                            lineInfo.ascent = metrics.actualBoundingBoxAscent;\r\n                        }\r\n                        lineInfo.width += chunkWidth;\r\n                        lineInfo.left += metrics.actualBoundingBoxLeft;\r\n                        lineInfo.right += metrics.actualBoundingBoxRight;\r\n                        lineInfo.textChunks.push({\r\n                            style: currentStyle,\r\n                            fill: currentFill,\r\n                            text: char,\r\n                            width: chunkWidth,\r\n                            height: chunkHeight + metrics.actualBoundingBoxDescent,\r\n                            left: metrics.actualBoundingBoxLeft,\r\n                            right: metrics.actualBoundingBoxRight,\r\n                            ascent: metrics.actualBoundingBoxAscent,\r\n                            offsetX: 0,\r\n                            offsetY: chunkHeight,\r\n                            textDecoration: undefined\r\n                        });\r\n                        totalWidth += chunkWidth;\r\n                        // Handle oversized behavior\r\n                        if (truncate) {\r\n                            // Measure ellipsis and check if it fits\r\n                            if (!ellipsisMetrics) {\r\n                                ellipsisMetrics = this._measureText(ellipsis, context);\r\n                            }\r\n                            const ellipsisWidth = ellipsisMetrics.actualBoundingBoxLeft + ellipsisMetrics.actualBoundingBoxRight;\r\n                            totalWidth += ellipsisWidth;\r\n                            if ((totalWidth + ellipsisWidth) > maxWidth) {\r\n                                if (lineInfo.textChunks.length == 1) {\r\n                                    this.textVisible = false;\r\n                                }\r\n                                else {\r\n                                    lineInfo.width += ellipsisWidth;\r\n                                    lineInfo.left += ellipsisMetrics.actualBoundingBoxLeft;\r\n                                    lineInfo.right += ellipsisMetrics.actualBoundingBoxRight;\r\n                                    lineInfo.textChunks.push({\r\n                                        style: currentStyle,\r\n                                        fill: currentFill,\r\n                                        text: ellipsis,\r\n                                        width: ellipsisWidth,\r\n                                        height: chunkHeight + ellipsisMetrics.actualBoundingBoxDescent,\r\n                                        left: ellipsisMetrics.actualBoundingBoxLeft,\r\n                                        right: ellipsisMetrics.actualBoundingBoxRight,\r\n                                        ascent: ellipsisMetrics.actualBoundingBoxAscent,\r\n                                        offsetX: 0,\r\n                                        offsetY: chunkHeight,\r\n                                        textDecoration: undefined\r\n                                    });\r\n                                }\r\n                                break;\r\n                            }\r\n                        }\r\n                        if (rtl) {\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n            if (this.style.lineHeight instanceof Percent) {\r\n                lineInfo.height *= this.style.lineHeight.value;\r\n            }\r\n            else {\r\n                lineInfo.height *= this.style.lineHeight || 1.2;\r\n            }\r\n            this._textInfo.push(lineInfo);\r\n            //lineInfo.offsetY += lineInfo.ascent;\r\n            offsetY += lineInfo.height;\r\n        });\r\n        if (!styleRestored) {\r\n            context.restore();\r\n            ghostContext.restore();\r\n        }\r\n        if (oversizedBehavior == \"hide\" && (totalWidth > maxWidth)) {\r\n            this.textVisible = false;\r\n        }\r\n        // Adjust chunk internal offsets\r\n        $array.each(this._textInfo, (lineInfo) => {\r\n            $array.each(lineInfo.textChunks, (chunk) => {\r\n                chunk.offsetY += Math.round((lineInfo.height - chunk.height + (lineInfo.ascent - chunk.ascent)) / 2);\r\n            });\r\n        });\r\n        context.restore();\r\n        ghostContext.restore();\r\n        return {\r\n            left: 0,\r\n            top: 0,\r\n            right: 0,\r\n            bottom: 0,\r\n        };\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nexport class CanvasImage extends CanvasDisplayObject {\r\n    constructor(renderer, image) {\r\n        super(renderer);\r\n        Object.defineProperty(this, \"width\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"height\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"image\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"tainted\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"shadowColor\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"shadowBlur\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"shadowOffsetX\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"shadowOffsetY\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"shadowOpacity\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_imageMask\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        this.image = image;\r\n    }\r\n    _dispose() {\r\n        super._dispose();\r\n        if (this._imageMask) {\r\n            clearCanvas(this._imageMask);\r\n        }\r\n    }\r\n    getLocalBounds() {\r\n        if (!this._localBounds) {\r\n            let w = 0;\r\n            let h = 0;\r\n            if (this.width) {\r\n                w = this.width;\r\n            }\r\n            if (this.height) {\r\n                h = this.height;\r\n            }\r\n            this._localBounds = {\r\n                left: 0,\r\n                top: 0,\r\n                right: w,\r\n                bottom: h\r\n            };\r\n            this._addBounds(this._localBounds);\r\n        }\r\n        return this._localBounds;\r\n    }\r\n    _render(parentLayer) {\r\n        super._render(parentLayer);\r\n        if (this.image) {\r\n            const layer = this._layer || parentLayer;\r\n            if (this.tainted === undefined) {\r\n                this.tainted = isTainted(this.image);\r\n                layer.tainted = true;\r\n            }\r\n            if (this.tainted && this._renderer._omitTainted) {\r\n                return;\r\n            }\r\n            if (layer.dirty) {\r\n                if (this.shadowColor) {\r\n                    layer.context.shadowColor = this.shadowColor.toCSS(this.shadowOpacity || 1);\r\n                }\r\n                if (this.shadowBlur) {\r\n                    layer.context.shadowBlur = this.shadowBlur;\r\n                }\r\n                if (this.shadowOffsetX) {\r\n                    layer.context.shadowOffsetX = this.shadowOffsetX;\r\n                }\r\n                if (this.shadowOffsetY) {\r\n                    layer.context.shadowOffsetY = this.shadowOffsetY;\r\n                }\r\n                // TODO should this round ?\r\n                const width = this.width || this.image.naturalWidth;\r\n                const height = this.height || this.image.naturalHeight;\r\n                layer.context.drawImage(this.image, 0, 0, width, height);\r\n            }\r\n            if (this.interactive && this._isInteractive()) {\r\n                const mask = this._getMask(this.image);\r\n                this._renderer._ghostLayer.context.drawImage(mask, 0, 0);\r\n            }\r\n        }\r\n    }\r\n    clear() {\r\n        super.clear();\r\n        this.image = undefined;\r\n        this._imageMask = undefined;\r\n    }\r\n    _getMask(image) {\r\n        if (this._imageMask === undefined) {\r\n            // TODO should this round ?\r\n            const width = this.width || image.naturalWidth;\r\n            const height = this.height || image.naturalHeight;\r\n            // We need to create a second canvas because destination-in clears out the entire canvas\r\n            const canvas = document.createElement(\"canvas\");\r\n            canvas.width = width;\r\n            canvas.height = height;\r\n            const context = canvas.getContext(\"2d\");\r\n            context.imageSmoothingEnabled = false;\r\n            context.fillStyle = this._getColorId();\r\n            context.fillRect(0, 0, width, height);\r\n            if (!isTainted(image)) {\r\n                context.globalCompositeOperation = \"destination-in\";\r\n                context.drawImage(image, 0, 0, width, height);\r\n            }\r\n            this._imageMask = canvas;\r\n        }\r\n        return this._imageMask;\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nexport class CanvasRendererEvent {\r\n    constructor(event, originalPoint, point, bbox) {\r\n        Object.defineProperty(this, \"event\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: event\r\n        });\r\n        Object.defineProperty(this, \"originalPoint\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: originalPoint\r\n        });\r\n        Object.defineProperty(this, \"point\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: point\r\n        });\r\n        Object.defineProperty(this, \"bbox\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: bbox\r\n        });\r\n        Object.defineProperty(this, \"id\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"simulated\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(this, \"native\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: true\r\n        });\r\n        if ($utils.supports(\"touchevents\") && event instanceof Touch) {\r\n            this.id = event.identifier;\r\n        }\r\n        else {\r\n            this.id = null;\r\n        }\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nexport class CanvasRenderer extends ArrayDisposer {\r\n    /*protected _mouseMoveThrottler: Throttler = new Throttler(() => {\r\n        this._dispatchGlobalMousemove(this._lastPointerMoveEvent.event, this._lastPointerMoveEvent.native);\r\n    });\r\n    */\r\n    constructor(resolution) {\r\n        super();\r\n        Object.defineProperty(this, \"view\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: document.createElement(\"div\")\r\n        });\r\n        Object.defineProperty(this, \"_layerDom\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: document.createElement(\"div\")\r\n        });\r\n        Object.defineProperty(this, \"layers\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n        Object.defineProperty(this, \"_dirtyLayers\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n        Object.defineProperty(this, \"defaultLayer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: this.getLayer(0)\r\n        });\r\n        Object.defineProperty(this, \"_ghostLayer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new GhostLayer()\r\n        });\r\n        Object.defineProperty(this, \"_patternCanvas\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: document.createElement(\"canvas\")\r\n        });\r\n        Object.defineProperty(this, \"_patternContext\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: this._patternCanvas.getContext(\"2d\")\r\n        });\r\n        Object.defineProperty(this, \"_domWidth\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(this, \"_domHeight\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(this, \"_canvasWidth\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(this, \"_canvasHeight\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(this, \"resolution\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"interactionsEnabled\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: true\r\n        });\r\n        Object.defineProperty(this, \"_listeners\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        Object.defineProperty(this, \"_events\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        Object.defineProperty(this, \"_colorId\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(this, \"_colorMap\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        Object.defineProperty(this, \"_forceInteractive\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(this, \"_omitTainted\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        // TODO this should store the Id as well\r\n        Object.defineProperty(this, \"_hovering\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new Set()\r\n        });\r\n        Object.defineProperty(this, \"_dragging\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n        Object.defineProperty(this, \"_mousedown\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n        Object.defineProperty(this, \"_lastPointerMoveEvent\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"tapToActivate\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(this, \"tapToActivateTimeout\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 3000\r\n        });\r\n        Object.defineProperty(this, \"_touchActive\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(this, \"_touchActiveTimeout\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        if (resolution == null) {\r\n            this.resolution = window.devicePixelRatio;\r\n        }\r\n        else {\r\n            this.resolution = resolution;\r\n        }\r\n        this.view.style.position = \"absolute\";\r\n        this.view.appendChild(this._layerDom);\r\n        this._disposers.push(new Disposer(() => {\r\n            $object.each(this._events, (_key, events) => {\r\n                events.disposer.dispose();\r\n            });\r\n            $array.each(this.layers, (layer) => {\r\n                clearCanvas(layer.view);\r\n                if (layer.exportableView) {\r\n                    clearCanvas(layer.exportableView);\r\n                }\r\n            });\r\n            clearCanvas(this._ghostLayer.view);\r\n            clearCanvas(this._patternCanvas);\r\n        }));\r\n        /*\r\n        this._disposers.push($utils.addEventListener(this._ghostLayer.view, \"click\", (originalEvent: MouseEvent) => {\r\n            const event = this.getEvent(originalEvent);\r\n            const target = this._getHitTarget(event.originalPoint, event.bbox);\r\n            console.debug(target);\r\n        }));\r\n        */\r\n        // Monitor for possible pixel ratio changes (when page is zoomed)\r\n        this._disposers.push($utils.onZoom(() => {\r\n            if (resolution == null) {\r\n                this.resolution = window.devicePixelRatio;\r\n            }\r\n        }));\r\n        // We need this in order top prevent default touch gestures when dragging\r\n        // draggable elements\r\n        if ($utils.supports(\"touchevents\")) {\r\n            const listener = (ev) => {\r\n                if (this._dragging.length !== 0) {\r\n                    $array.eachContinue(this._dragging, (item) => {\r\n                        if (item.value.shouldCancelTouch()) {\r\n                            ev.preventDefault();\r\n                            return false;\r\n                        }\r\n                        return true;\r\n                    });\r\n                }\r\n                // If touch down happends, delay touch out\r\n                if (this._touchActiveTimeout) {\r\n                    this._delayTouchDeactivate();\r\n                }\r\n            };\r\n            this._disposers.push($utils.addEventListener(window, \"touchstart\", listener, { passive: false }));\r\n            this._disposers.push($utils.addEventListener(this.view, \"touchstart\", listener, { passive: false }));\r\n            this._disposers.push($utils.addEventListener(this.view, \"touchmove\", () => {\r\n                // If touch is moving, delay touch out\r\n                if (this._touchActiveTimeout) {\r\n                    this._delayTouchDeactivate();\r\n                }\r\n            }, { passive: true }));\r\n            this._disposers.push($utils.addEventListener(window, \"click\", (_ev) => {\r\n                this._touchActive = false;\r\n            }, { passive: true }));\r\n            this._disposers.push($utils.addEventListener(this.view, \"click\", (_ev) => {\r\n                window.setTimeout(() => {\r\n                    this._touchActive = true;\r\n                    this._delayTouchDeactivate();\r\n                }, 100);\r\n            }, { passive: true }));\r\n        }\r\n        // Prevent scrolling of the window when hovering on \"wheelable\" object\r\n        if ($utils.supports(\"wheelevents\")) {\r\n            this._disposers.push($utils.addEventListener(this.view, \"wheel\", (ev) => {\r\n                let prevent = false;\r\n                this._hovering.forEach((obj) => {\r\n                    if (obj.wheelable) {\r\n                        prevent = true;\r\n                        return false;\r\n                    }\r\n                });\r\n                if (prevent) {\r\n                    ev.preventDefault();\r\n                }\r\n            }, { passive: false }));\r\n        }\r\n    }\r\n    _delayTouchDeactivate() {\r\n        if (this._touchActiveTimeout) {\r\n            clearTimeout(this._touchActiveTimeout);\r\n        }\r\n        if (this.tapToActivateTimeout > 0) {\r\n            this._touchActiveTimeout = window.setTimeout(() => {\r\n                this._touchActive = false;\r\n            }, this.tapToActivateTimeout);\r\n        }\r\n    }\r\n    get debugGhostView() {\r\n        return !!this._ghostLayer.view.parentNode;\r\n    }\r\n    set debugGhostView(value) {\r\n        if (value) {\r\n            if (!this._ghostLayer.view.parentNode) {\r\n                this.view.appendChild(this._ghostLayer.view);\r\n            }\r\n        }\r\n        else {\r\n            if (this._ghostLayer.view.parentNode) {\r\n                this._ghostLayer.view.parentNode.removeChild(this._ghostLayer.view);\r\n            }\r\n        }\r\n    }\r\n    createLinearGradient(x1, y1, x2, y2) {\r\n        return this.defaultLayer.context.createLinearGradient(x1, y1, x2, y2);\r\n    }\r\n    createRadialGradient(x1, y1, radius1, x2, y2, radius2) {\r\n        return this.defaultLayer.context.createRadialGradient(x1, y1, radius1, x2, y2, radius2);\r\n    }\r\n    createPattern(graphics, background, repetition, width, height) {\r\n        // const patternCanvas = document.createElement(\"canvas\");\r\n        // const patternContext = patternCanvas.getContext(\"2d\")!;\r\n        // patternCanvas.width = width;\r\n        // patternCanvas.height = height;\r\n        // if (fill) {\r\n        // \tpatternContext.fillStyle = fill.toCSS();\r\n        // \tpatternContext.fillRect(0, 0, patternCanvas.width, patternCanvas.height);\r\n        // }\r\n        // const layer = {\r\n        // \tview: patternCanvas,\r\n        // \tcontext: patternContext,\r\n        // \tvisible: true,\r\n        // \torder: 0,\r\n        // \twidth: width,\r\n        // \theight: height,\r\n        // \tdirty: true\r\n        // };\r\n        // // patternContext.arc(0, 0, 50, 0, .5 * Math.PI);\r\n        // // patternContext.stroke();\r\n        // image.targetLayer = layer;\r\n        // image.render(layer);\r\n        //this._layerDom.appendChild(patternCanvas);\r\n        this._patternCanvas.width = width;\r\n        this._patternCanvas.height = height;\r\n        this._patternContext.clearRect(0, 0, width, height);\r\n        // patternCanvas.style.width = width * this.resolution + \"px\";\r\n        // patternCanvas.style.height = height * this.resolution + \"px\";\r\n        background.renderDetached(this._patternContext);\r\n        graphics.renderDetached(this._patternContext);\r\n        return this._patternContext.createPattern(this._patternCanvas, repetition);\r\n    }\r\n    makeContainer() {\r\n        return new CanvasContainer(this);\r\n    }\r\n    makeGraphics() {\r\n        return new CanvasGraphics(this);\r\n    }\r\n    makeText(text, style) {\r\n        return new CanvasText(this, text, style);\r\n    }\r\n    makeTextStyle() {\r\n        return new CanvasTextStyle();\r\n    }\r\n    makeRadialText(text, style) {\r\n        return new CanvasRadialText(this, text, style);\r\n    }\r\n    makePicture(image) {\r\n        return new CanvasImage(this, image);\r\n    }\r\n    resizeLayer(layer) {\r\n        layer.resize(this._canvasWidth, this._canvasHeight, this._domWidth, this._domHeight, this.resolution);\r\n    }\r\n    resizeGhost() {\r\n        this._ghostLayer.resize(this._canvasWidth, this._canvasHeight, this._domWidth, this._domHeight, this.resolution);\r\n    }\r\n    resize(canvasWidth, canvasHeight, domWidth, domHeight) {\r\n        this._canvasWidth = canvasWidth;\r\n        this._canvasHeight = canvasHeight;\r\n        this._domWidth = domWidth;\r\n        this._domHeight = domHeight;\r\n        $array.each(this.layers, (layer) => {\r\n            if (layer) {\r\n                layer.dirty = true;\r\n                this.resizeLayer(layer);\r\n            }\r\n        });\r\n        this.resizeGhost();\r\n        this.view.style.width = domWidth + \"px\";\r\n        this.view.style.height = domHeight + \"px\";\r\n    }\r\n    createDetachedLayer(willReadFrequently = false) {\r\n        const view = document.createElement(\"canvas\");\r\n        const context = view.getContext(\"2d\", { willReadFrequently: willReadFrequently });\r\n        const layer = new CanvasLayer(view, context);\r\n        view.style.position = \"absolute\";\r\n        view.style.top = \"0px\";\r\n        view.style.left = \"0px\";\r\n        return layer;\r\n    }\r\n    getLayerByOrder(order) {\r\n        const layers = this.layers;\r\n        const length = layers.length;\r\n        for (let i = 0; i < length; i++) {\r\n            const layer = layers[i];\r\n            if (layer.order == order) {\r\n                return layer;\r\n            }\r\n        }\r\n    }\r\n    getLayer(order, visible = true) {\r\n        let existingLayer = this.getLayerByOrder(order);\r\n        if (existingLayer) {\r\n            return existingLayer;\r\n        }\r\n        const layer = this.createDetachedLayer(order == 99);\r\n        layer.order = order;\r\n        layer.visible = visible;\r\n        if (layer.visible) {\r\n            this.resizeLayer(layer);\r\n        }\r\n        const layers = this.layers;\r\n        layers.push(layer);\r\n        layers.sort((a, b) => {\r\n            if (a.order > b.order) {\r\n                return 1;\r\n            }\r\n            else if (a.order < b.order) {\r\n                return -1;\r\n            }\r\n            else {\r\n                return 0;\r\n            }\r\n        });\r\n        const length = layers.length;\r\n        const layerIndex = $array.indexOf(layers, layer);\r\n        let next;\r\n        for (let i = layerIndex + 1; i < length; i++) {\r\n            if (layers[i].visible) {\r\n                next = layers[i];\r\n                break;\r\n            }\r\n        }\r\n        if (layer.visible) {\r\n            if (next === undefined) {\r\n                this._layerDom.appendChild(layer.view);\r\n            }\r\n            else {\r\n                this._layerDom.insertBefore(layer.view, next.view);\r\n            }\r\n        }\r\n        return layer;\r\n    }\r\n    render(root) {\r\n        this._dirtyLayers.length = 0;\r\n        $array.each(this.layers, (layer) => {\r\n            if (layer) {\r\n                if (layer.dirty && layer.visible) {\r\n                    this._dirtyLayers.push(layer);\r\n                    layer.clear();\r\n                }\r\n            }\r\n        });\r\n        this._ghostLayer.clear();\r\n        root.render(this.defaultLayer);\r\n        this._ghostLayer.context.restore();\r\n        //setTimeout(() => {\r\n        // Remove this after the Chrome bug is fixed:\r\n        // https://bugs.chromium.org/p/chromium/issues/detail?id=1279394\r\n        $array.each(this.layers, (layer) => {\r\n            if (layer) {\r\n                const context = layer.context;\r\n                context.beginPath();\r\n                context.moveTo(0, 0);\r\n                context.stroke();\r\n            }\r\n        });\r\n        $array.each(this._dirtyLayers, (layer) => {\r\n            layer.context.restore();\r\n            layer.dirty = false;\r\n        });\r\n        //}, 100)\r\n        if (this._hovering.size && this._lastPointerMoveEvent) {\r\n            const { events, target, native } = this._lastPointerMoveEvent;\r\n            //this._mouseMoveThrottler.run();\r\n            $array.each(events, (event) => {\r\n                this._dispatchGlobalMousemove(event, target, native);\r\n            });\r\n        }\r\n    }\r\n    paintId(obj) {\r\n        const id = distributeId(++this._colorId);\r\n        const color = Color.fromHex(id).toCSS();\r\n        this._colorMap[color] = obj;\r\n        return color;\r\n    }\r\n    _removeObject(obj) {\r\n        if (obj._colorId !== undefined) {\r\n            delete this._colorMap[obj._colorId];\r\n        }\r\n    }\r\n    // protected _identifyObjectByColor(colorId: number): CanvasDisplayObject | undefined {\r\n    // \treturn this._colorMap[colorId];\r\n    // }\r\n    _adjustBoundingBox(bbox) {\r\n        const margin = this._ghostLayer.margin;\r\n        return new DOMRect(bbox.left - margin.left, bbox.top - margin.top, bbox.width + margin.left + margin.right, bbox.height + margin.top + margin.bottom);\r\n    }\r\n    getEvent(originalEvent, adjustPoint = true) {\r\n        const bbox = this.view.getBoundingClientRect();\r\n        const originalPoint = {\r\n            x: originalEvent.clientX || 0,\r\n            y: originalEvent.clientY || 0,\r\n        };\r\n        const point = {\r\n            x: originalPoint.x - (adjustPoint ? bbox.left : 0),\r\n            y: originalPoint.y - (adjustPoint ? bbox.top : 0),\r\n        };\r\n        return new CanvasRendererEvent(originalEvent, originalPoint, point, this._adjustBoundingBox(bbox));\r\n    }\r\n    _getHitTarget(point, bbox, target) {\r\n        if (bbox.width === 0 || bbox.height === 0 || point.x < bbox.left || point.x > bbox.right || point.y < bbox.top || point.y > bbox.bottom) {\r\n            return;\r\n        }\r\n        if (!target || !this._layerDom.contains(target)) {\r\n            return;\r\n        }\r\n        const pixel = this._ghostLayer.getImageData(point, bbox);\r\n        if (pixel.data[0] === 0 && pixel.data[1] === 0 && pixel.data[2] === 0) {\r\n            return false;\r\n        }\r\n        const colorId = Color.fromRGB(pixel.data[0], pixel.data[1], pixel.data[2]).toCSS();\r\n        const hit = this._colorMap[colorId];\r\n        return hit;\r\n    }\r\n    _withEvents(key, f) {\r\n        const events = this._events[key];\r\n        if (events !== undefined) {\r\n            events.dispatching = true;\r\n            try {\r\n                f(events);\r\n            }\r\n            finally {\r\n                events.dispatching = false;\r\n                if (events.cleanup) {\r\n                    events.cleanup = false;\r\n                    $array.keepIf(events.callbacks, (callback) => {\r\n                        return !callback.disposed;\r\n                    });\r\n                    if (events.callbacks.length === 0) {\r\n                        events.disposer.dispose();\r\n                        delete this._events[key];\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n    _dispatchEventAll(key, event) {\r\n        if (!this.interactionsEnabled) {\r\n            return;\r\n        }\r\n        this._withEvents(key, (events) => {\r\n            $array.each(events.callbacks, (callback) => {\r\n                if (!callback.disposed) {\r\n                    callback.callback.call(callback.context, event);\r\n                }\r\n            });\r\n        });\r\n    }\r\n    _dispatchEvent(key, target, event) {\r\n        if (!this.interactionsEnabled) {\r\n            return false;\r\n        }\r\n        let dispatched = false;\r\n        this._withEvents(key, (events) => {\r\n            $array.each(events.callbacks, (callback) => {\r\n                if (!callback.disposed && callback.object === target) {\r\n                    callback.callback.call(callback.context, event);\r\n                    dispatched = true;\r\n                }\r\n            });\r\n        });\r\n        return dispatched;\r\n    }\r\n    _dispatchMousedown(originalEvent, originalTarget) {\r\n        const button = originalEvent.button;\r\n        if (button != 0 && button != 2 && button != 1 && button !== undefined) {\r\n            // Ignore non-primary mouse buttons\r\n            return;\r\n        }\r\n        const event = this.getEvent(originalEvent);\r\n        const target = this._getHitTarget(event.originalPoint, event.bbox, originalTarget);\r\n        if (target) {\r\n            const id = event.id;\r\n            let dragged = false;\r\n            eachTargets(target, (obj) => {\r\n                const info = { id: id, value: obj };\r\n                this._mousedown.push(info);\r\n                if (!dragged && this._dispatchEvent(\"pointerdown\", obj, event)) {\r\n                    // Only dispatch the first element which matches\r\n                    dragged = true;\r\n                    const has = this._dragging.some((x) => {\r\n                        return x.value === obj && x.id === id;\r\n                    });\r\n                    if (!has) {\r\n                        this._dragging.push(info);\r\n                    }\r\n                }\r\n                return true;\r\n            });\r\n        }\r\n    }\r\n    _dispatchGlobalMousemove(originalEvent, originalTarget, native) {\r\n        const event = this.getEvent(originalEvent);\r\n        const target = this._getHitTarget(event.originalPoint, event.bbox, originalTarget);\r\n        event.native = native;\r\n        if (target) {\r\n            this._hovering.forEach((obj) => {\r\n                if (!obj.contains(target)) {\r\n                    this._hovering.delete(obj);\r\n                    if (obj.cursorOverStyle) {\r\n                        $utils.setStyle(document.body, \"cursor\", obj._replacedCursorStyle);\r\n                    }\r\n                    this._dispatchEvent(\"pointerout\", obj, event);\r\n                }\r\n            });\r\n            if (event.native) {\r\n                eachTargets(target, (obj) => {\r\n                    if (!this._hovering.has(obj)) {\r\n                        this._hovering.add(obj);\r\n                        if (obj.cursorOverStyle) {\r\n                            obj._replacedCursorStyle = $utils.getStyle(document.body, \"cursor\");\r\n                            $utils.setStyle(document.body, \"cursor\", obj.cursorOverStyle);\r\n                        }\r\n                        this._dispatchEvent(\"pointerover\", obj, event);\r\n                    }\r\n                    return true;\r\n                });\r\n            }\r\n            //} else if (target === false) {\r\n        }\r\n        else {\r\n            this._hovering.forEach((obj) => {\r\n                if (obj.cursorOverStyle) {\r\n                    $utils.setStyle(document.body, \"cursor\", obj._replacedCursorStyle);\r\n                }\r\n                this._dispatchEvent(\"pointerout\", obj, event);\r\n            });\r\n            this._hovering.clear();\r\n        }\r\n        this._dispatchEventAll(\"globalpointermove\", event);\r\n    }\r\n    _dispatchGlobalMouseup(originalEvent, native) {\r\n        const event = this.getEvent(originalEvent);\r\n        event.native = native;\r\n        //const target = this._getHitTarget(event.originalPoint);\r\n        this._dispatchEventAll(\"globalpointerup\", event);\r\n    }\r\n    _dispatchDragMove(originalEvent) {\r\n        if (this._dragging.length !== 0) {\r\n            const event = this.getEvent(originalEvent);\r\n            const id = event.id;\r\n            this._dragging.forEach((obj) => {\r\n                if (obj.id === id) {\r\n                    this._dispatchEvent(\"pointermove\", obj.value, event);\r\n                }\r\n            });\r\n        }\r\n    }\r\n    _dispatchDragEnd(originalEvent, originalTarget) {\r\n        const button = originalEvent.button;\r\n        let clickevent;\r\n        if (button == 0 || button === undefined) {\r\n            clickevent = \"click\";\r\n        }\r\n        else if (button == 2) {\r\n            clickevent = \"rightclick\";\r\n        }\r\n        else if (button == 1) {\r\n            clickevent = \"middleclick\";\r\n        }\r\n        else {\r\n            // Ignore non-primary mouse buttons\r\n            return;\r\n        }\r\n        const event = this.getEvent(originalEvent);\r\n        const id = event.id;\r\n        if (this._mousedown.length !== 0) {\r\n            const target = this._getHitTarget(event.originalPoint, event.bbox, originalTarget);\r\n            if (target) {\r\n                this._mousedown.forEach((obj) => {\r\n                    if (obj.id === id && obj.value.contains(target)) {\r\n                        this._dispatchEvent(clickevent, obj.value, event);\r\n                    }\r\n                });\r\n            }\r\n            this._mousedown.length = 0;\r\n        }\r\n        if (this._dragging.length !== 0) {\r\n            this._dragging.forEach((obj) => {\r\n                if (obj.id === id) {\r\n                    this._dispatchEvent(\"pointerup\", obj.value, event);\r\n                }\r\n            });\r\n            this._dragging.length = 0;\r\n        }\r\n    }\r\n    _dispatchDoubleClick(originalEvent, originalTarget) {\r\n        const event = this.getEvent(originalEvent);\r\n        const target = this._getHitTarget(event.originalPoint, event.bbox, originalTarget);\r\n        if (target) {\r\n            eachTargets(target, (obj) => {\r\n                if (this._dispatchEvent(\"dblclick\", obj, event)) {\r\n                    return false;\r\n                }\r\n                else {\r\n                    return true;\r\n                }\r\n            });\r\n        }\r\n    }\r\n    _dispatchWheel(originalEvent, originalTarget) {\r\n        const event = this.getEvent(originalEvent);\r\n        const target = this._getHitTarget(event.originalPoint, event.bbox, originalTarget);\r\n        if (target) {\r\n            eachTargets(target, (obj) => {\r\n                if (this._dispatchEvent(\"wheel\", obj, event)) {\r\n                    return false;\r\n                }\r\n                else {\r\n                    return true;\r\n                }\r\n            });\r\n        }\r\n    }\r\n    _makeSharedEvent(key, f) {\r\n        if (this._listeners[key] === undefined) {\r\n            const listener = f();\r\n            this._listeners[key] = new CounterDisposer(() => {\r\n                delete this._listeners[key];\r\n                listener.dispose();\r\n            });\r\n        }\r\n        return this._listeners[key].increment();\r\n    }\r\n    _onPointerEvent(name, f) {\r\n        let native = false;\r\n        let timer = null;\r\n        function clear() {\r\n            timer = null;\r\n            native = false;\r\n        }\r\n        return new MultiDisposer([\r\n            new Disposer(() => {\r\n                if (timer !== null) {\r\n                    clearTimeout(timer);\r\n                }\r\n                clear();\r\n            }),\r\n            $utils.addEventListener(this.view, $utils.getRendererEvent(name), (_) => {\r\n                native = true;\r\n                if (timer !== null) {\r\n                    clearTimeout(timer);\r\n                }\r\n                timer = window.setTimeout(clear, 0);\r\n            }),\r\n            onPointerEvent(window, name, (ev, target) => {\r\n                if (timer !== null) {\r\n                    clearTimeout(timer);\r\n                    timer = null;\r\n                }\r\n                f(ev, target, native);\r\n                native = false;\r\n            }),\r\n        ]);\r\n    }\r\n    // This ensures that only a single DOM event is added (e.g. only a single mousemove event listener)\r\n    _initEvent(key) {\r\n        switch (key) {\r\n            case \"globalpointermove\":\r\n            case \"pointerover\":\r\n            case \"pointerout\":\r\n                return this._makeSharedEvent(\"pointermove\", () => {\r\n                    const listener = (events, target, native) => {\r\n                        this._lastPointerMoveEvent = { events, target, native };\r\n                        $array.each(events, (event) => {\r\n                            this._dispatchGlobalMousemove(event, target, native);\r\n                        });\r\n                    };\r\n                    return new MultiDisposer([\r\n                        this._onPointerEvent(\"pointerdown\", listener),\r\n                        this._onPointerEvent(\"pointermove\", listener),\r\n                    ]);\r\n                });\r\n            case \"globalpointerup\":\r\n                return this._makeSharedEvent(\"pointerup\", () => {\r\n                    const mouseup = this._onPointerEvent(\"pointerup\", (events, target, native) => {\r\n                        $array.each(events, (event) => {\r\n                            this._dispatchGlobalMouseup(event, native);\r\n                        });\r\n                        this._lastPointerMoveEvent = { events, target, native };\r\n                    });\r\n                    const pointercancel = this._onPointerEvent(\"pointercancel\", (events, target, native) => {\r\n                        $array.each(events, (event) => {\r\n                            this._dispatchGlobalMouseup(event, native);\r\n                        });\r\n                        this._lastPointerMoveEvent = { events, target, native };\r\n                    });\r\n                    return new Disposer(() => {\r\n                        mouseup.dispose();\r\n                        pointercancel.dispose();\r\n                    });\r\n                });\r\n            case \"click\":\r\n            case \"rightclick\":\r\n            case \"middleclick\":\r\n            case \"pointerdown\":\r\n            /*\r\n                return this._makeSharedEvent(\"pointerdown\", () => {\r\n                    return this._onPointerEvent(\"pointerdown\", (event, target, native) => {\r\n                        this._lastPointerMoveEvent = { event, target, native };\r\n                        this._dispatchMousedown(event)\r\n                    });\r\n                });\r\n            */\r\n            case \"pointermove\":\r\n            case \"pointerup\":\r\n                return this._makeSharedEvent(\"pointerdown\", () => {\r\n                    //const throttler = new Throttler();\r\n                    const mousedown = this._onPointerEvent(\"pointerdown\", (events, target) => {\r\n                        $array.each(events, (ev) => {\r\n                            this._dispatchMousedown(ev, target);\r\n                        });\r\n                    });\r\n                    // TODO handle throttling properly for multitouch\r\n                    const mousemove = this._onPointerEvent(\"pointermove\", (ev) => {\r\n                        //throttler.throttle(() => {\r\n                        $array.each(ev, (ev) => {\r\n                            this._dispatchDragMove(ev);\r\n                        });\r\n                        //});\r\n                    });\r\n                    const mouseup = this._onPointerEvent(\"pointerup\", (ev, target) => {\r\n                        $array.each(ev, (ev) => {\r\n                            this._dispatchDragEnd(ev, target);\r\n                        });\r\n                    });\r\n                    const pointercancel = this._onPointerEvent(\"pointercancel\", (ev, target) => {\r\n                        $array.each(ev, (ev) => {\r\n                            this._dispatchDragEnd(ev, target);\r\n                        });\r\n                    });\r\n                    return new Disposer(() => {\r\n                        mousedown.dispose();\r\n                        mousemove.dispose();\r\n                        mouseup.dispose();\r\n                        pointercancel.dispose();\r\n                    });\r\n                });\r\n            case \"dblclick\":\r\n                return this._makeSharedEvent(\"dblclick\", () => {\r\n                    return this._onPointerEvent(\"dblclick\", (ev, target) => {\r\n                        $array.each(ev, (ev) => {\r\n                            this._dispatchDoubleClick(ev, target);\r\n                        });\r\n                    });\r\n                });\r\n            case \"wheel\":\r\n                return this._makeSharedEvent(\"wheel\", () => {\r\n                    return $utils.addEventListener(window, $utils.getRendererEvent(\"wheel\"), (event) => {\r\n                        this._dispatchWheel(event, $utils.getEventTarget(event));\r\n                    }, { passive: false });\r\n                });\r\n        }\r\n    }\r\n    _addEvent(object, key, callback, context) {\r\n        let events = this._events[key];\r\n        if (events === undefined) {\r\n            events = this._events[key] = {\r\n                disposer: this._initEvent(key),\r\n                callbacks: [],\r\n                dispatching: false,\r\n                cleanup: false,\r\n            };\r\n        }\r\n        const listener = { object, context, callback, disposed: false };\r\n        events.callbacks.push(listener);\r\n        return new Disposer(() => {\r\n            listener.disposed = true;\r\n            if (events.dispatching) {\r\n                events.cleanup = true;\r\n            }\r\n            else {\r\n                $array.removeFirst(events.callbacks, listener);\r\n                if (events.callbacks.length === 0) {\r\n                    events.disposer.dispose();\r\n                    delete this._events[key];\r\n                }\r\n            }\r\n        });\r\n    }\r\n    getCanvas(root, options) {\r\n        // Make sure everything is rendered\r\n        this.render(root);\r\n        if (!options) {\r\n            options = {};\r\n        }\r\n        let scale = this.resolution;\r\n        let canvasWidth = Math.floor(this._canvasWidth * this.resolution);\r\n        let canvasHeight = Math.floor(this._canvasHeight * this.resolution);\r\n        // Check if we need to scale\r\n        if (options.minWidth && (options.minWidth > canvasWidth)) {\r\n            let minScale = options.minWidth / canvasWidth;\r\n            if (minScale > scale) {\r\n                scale = minScale * this.resolution;\r\n            }\r\n        }\r\n        if (options.minHeight && (options.minHeight > canvasHeight)) {\r\n            let minScale = options.minHeight / canvasHeight;\r\n            if (minScale > scale) {\r\n                scale = minScale * this.resolution;\r\n            }\r\n        }\r\n        if (options.maxWidth && (options.maxWidth < canvasWidth)) {\r\n            let maxScale = options.maxWidth / canvasWidth;\r\n            if (maxScale < scale) {\r\n                scale = maxScale * this.resolution;\r\n            }\r\n        }\r\n        if (options.maxHeight && (options.maxHeight > canvasHeight)) {\r\n            let maxScale = options.maxHeight / canvasHeight;\r\n            if (maxScale < scale) {\r\n                scale = maxScale * this.resolution;\r\n            }\r\n        }\r\n        // Check if we need to compensate for pixel ratio\r\n        if (options.maintainPixelRatio) {\r\n            scale /= this.resolution;\r\n        }\r\n        // Init list canvases to remove from DOM after export\r\n        const canvases = [];\r\n        // Set up new canvas for export\r\n        let forceRender = false;\r\n        const canvas = document.createElement(\"canvas\");\r\n        if (scale != this.resolution) {\r\n            forceRender = true;\r\n            canvasWidth = canvasWidth * scale / this.resolution;\r\n            canvasHeight = canvasHeight * scale / this.resolution;\r\n        }\r\n        canvas.width = canvasWidth;\r\n        canvas.height = canvasHeight;\r\n        // Add to DOM so it inherits CSS\r\n        canvas.style.position = \"fixed\";\r\n        canvas.style.top = \"-10000px\";\r\n        this.view.appendChild(canvas);\r\n        canvases.push(canvas);\r\n        // Context\r\n        const context = canvas.getContext(\"2d\");\r\n        let width = 0;\r\n        let height = 0;\r\n        let needRerender = false;\r\n        $array.each(this.layers, (layer) => {\r\n            if (layer && layer.visible) {\r\n                if (layer.tainted || forceRender) {\r\n                    needRerender = true;\r\n                    layer.exportableView = layer.view;\r\n                    layer.exportableContext = layer.context;\r\n                    layer.view = document.createElement(\"canvas\");\r\n                    // Add to DOM so it inherits CSS\r\n                    layer.view.style.position = \"fixed\";\r\n                    layer.view.style.top = \"-10000px\";\r\n                    this.view.appendChild(layer.view);\r\n                    canvases.push(layer.view);\r\n                    let extraX = 0;\r\n                    let extraY = 0;\r\n                    if (layer.margin) {\r\n                        extraX += layer.margin.left || 0 + layer.margin.right || 0;\r\n                        extraY += layer.margin.top || 0 + layer.margin.bottom || 0;\r\n                    }\r\n                    layer.view.width = canvasWidth + extraX;\r\n                    layer.view.height = canvasHeight + extraY;\r\n                    layer.context = layer.view.getContext(\"2d\");\r\n                    layer.dirty = true;\r\n                    layer.scale = scale;\r\n                }\r\n            }\r\n        });\r\n        if (needRerender) {\r\n            this._omitTainted = true;\r\n            this.render(root);\r\n            this._omitTainted = false;\r\n        }\r\n        $array.each(this.layers, (layer) => {\r\n            if (layer && layer.visible) {\r\n                // Layer is fine. Just plop it into our target canvas\r\n                let x = 0;\r\n                let y = 0;\r\n                if (layer.margin) {\r\n                    x = -(layer.margin.left || 0) * this.resolution;\r\n                    y = -(layer.margin.top || 0) * this.resolution;\r\n                }\r\n                context.drawImage(layer.view, x, y);\r\n                // Restore layer original canvas\r\n                if (layer.exportableView) {\r\n                    layer.view = layer.exportableView;\r\n                    layer.exportableView = undefined;\r\n                }\r\n                if (layer.exportableContext) {\r\n                    layer.context = layer.exportableContext;\r\n                    layer.exportableContext = undefined;\r\n                }\r\n                if (width < layer.view.clientWidth) {\r\n                    width = layer.view.clientWidth;\r\n                }\r\n                if (height < layer.view.clientHeight) {\r\n                    height = layer.view.clientHeight;\r\n                }\r\n                layer.scale = undefined;\r\n            }\r\n        });\r\n        canvas.style.width = width + \"px\";\r\n        canvas.style.height = height + \"px\";\r\n        $array.each(canvases, (canvas) => {\r\n            canvas.style.position = \"\";\r\n            canvas.style.top = \"\";\r\n            this.view.removeChild(canvas);\r\n        });\r\n        return canvas;\r\n    }\r\n}\r\nclass GhostLayer {\r\n    constructor() {\r\n        Object.defineProperty(this, \"view\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"context\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"margin\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {\r\n                left: 0,\r\n                right: 0,\r\n                top: 0,\r\n                bottom: 0,\r\n            }\r\n        });\r\n        Object.defineProperty(this, \"_width\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(this, \"_height\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        this.view = document.createElement(\"canvas\");\r\n        this.context = this.view.getContext(\"2d\", { alpha: false, willReadFrequently: true });\r\n        this.context.imageSmoothingEnabled = false;\r\n        this.view.style.position = \"absolute\";\r\n        this.view.style.top = \"0px\";\r\n        this.view.style.left = \"0px\";\r\n    }\r\n    resize(canvasWidth, canvasHeight, domWidth, domHeight, resolution) {\r\n        canvasWidth += (this.margin.left + this.margin.right);\r\n        canvasHeight += (this.margin.top + this.margin.bottom);\r\n        // TODO this should take into account calculateSize\r\n        domWidth += (this.margin.left + this.margin.right);\r\n        domHeight += (this.margin.top + this.margin.bottom);\r\n        this.view.style.left = -this.margin.left + \"px\";\r\n        this.view.style.top = -this.margin.top + \"px\";\r\n        this._width = Math.floor(canvasWidth * resolution);\r\n        this._height = Math.floor(canvasHeight * resolution);\r\n        this.view.width = this._width;\r\n        this.view.style.width = domWidth + \"px\";\r\n        this.view.height = this._height;\r\n        this.view.style.height = domHeight + \"px\";\r\n    }\r\n    getImageData(point, bbox) {\r\n        return this.context.getImageData(\r\n        // TODO should this round ?\r\n        Math.round(((point.x - bbox.left) / bbox.width) * this._width), Math.round(((point.y - bbox.top) / bbox.height) * this._height), 1, 1);\r\n    }\r\n    setMargin(layers) {\r\n        this.margin.left = 0;\r\n        this.margin.right = 0;\r\n        this.margin.top = 0;\r\n        this.margin.bottom = 0;\r\n        $array.each(layers, (layer) => {\r\n            if (layer.margin) {\r\n                this.margin.left = Math.max(this.margin.left, layer.margin.left);\r\n                this.margin.right = Math.max(this.margin.right, layer.margin.right);\r\n                this.margin.top = Math.max(this.margin.top, layer.margin.top);\r\n                this.margin.bottom = Math.max(this.margin.bottom, layer.margin.bottom);\r\n            }\r\n        });\r\n    }\r\n    clear() {\r\n        this.context.save();\r\n        this.context.fillStyle = '#000';\r\n        this.context.fillRect(0, 0, this._width, this._height);\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nexport class CanvasLayer {\r\n    constructor(view, context) {\r\n        Object.defineProperty(this, \"view\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"context\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"tainted\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: true\r\n        });\r\n        Object.defineProperty(this, \"margin\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"order\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(this, \"visible\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: true\r\n        });\r\n        Object.defineProperty(this, \"width\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"height\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"scale\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"dirty\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: true\r\n        });\r\n        Object.defineProperty(this, \"exportableView\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"exportableContext\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_width\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(this, \"_height\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        this.view = view;\r\n        this.context = context;\r\n    }\r\n    resize(canvasWidth, canvasHeight, domWidth, domHeight, resolution) {\r\n        // TODO should this take into account calculateSize ?\r\n        if (this.width != null) {\r\n            canvasWidth = this.width;\r\n            domWidth = this.width;\r\n        }\r\n        // TODO should this take into account calculateSize ?\r\n        if (this.height != null) {\r\n            canvasHeight = this.height;\r\n            domHeight = this.height;\r\n        }\r\n        if (this.margin) {\r\n            canvasWidth += (this.margin.left + this.margin.right);\r\n            canvasHeight += (this.margin.top + this.margin.bottom);\r\n            // TODO this should take into account calculateSize\r\n            domWidth += (this.margin.left + this.margin.right);\r\n            domHeight += (this.margin.top + this.margin.bottom);\r\n            this.view.style.left = -this.margin.left + \"px\";\r\n            this.view.style.top = -this.margin.top + \"px\";\r\n        }\r\n        else {\r\n            this.view.style.left = \"0px\";\r\n            this.view.style.top = \"0px\";\r\n        }\r\n        this._width = Math.floor(canvasWidth * resolution);\r\n        this._height = Math.floor(canvasHeight * resolution);\r\n        this.view.width = this._width;\r\n        this.view.style.width = domWidth + \"px\";\r\n        this.view.height = this._height;\r\n        this.view.style.height = domHeight + \"px\";\r\n    }\r\n    clear() {\r\n        this.context.save();\r\n        this.context.clearRect(0, 0, this._width, this._height);\r\n    }\r\n}\r\n","/**\r\n * From https://github.com/pixijs/pixi.js/blob/3dd0ff9a935f0bc13a09aefff9eb2872f02c51b9/packages/canvas/canvas-renderer/src/utils/mapCanvasBlendModesToPixi.ts#L13\r\n */\r\nexport var BlendMode;\r\n(function (BlendMode) {\r\n    BlendMode[\"ADD\"] = \"lighter\";\r\n    BlendMode[\"COLOR\"] = \"color\";\r\n    BlendMode[\"COLOR_BURN\"] = \"color-burn\";\r\n    BlendMode[\"COLOR_DODGE\"] = \"color-dodge\";\r\n    BlendMode[\"DARKEN\"] = \"darken\";\r\n    BlendMode[\"DIFFERENCE\"] = \"difference\";\r\n    BlendMode[\"DST_OVER\"] = \"destination-over\";\r\n    BlendMode[\"EXCLUSION\"] = \"exclusion\";\r\n    BlendMode[\"HARD_LIGHT\"] = \"hard-light\";\r\n    BlendMode[\"HUE\"] = \"hue\";\r\n    BlendMode[\"LIGHTEN\"] = \"lighten\";\r\n    BlendMode[\"LUMINOSITY\"] = \"luminosity\";\r\n    BlendMode[\"MULTIPLY\"] = \"multiply\";\r\n    BlendMode[\"NORMAL\"] = \"source-over\";\r\n    BlendMode[\"OVERLAY\"] = \"overlay\";\r\n    BlendMode[\"SATURATION\"] = \"saturation\";\r\n    BlendMode[\"SCREEN\"] = \"screen\";\r\n    BlendMode[\"SOFT_LIGHT\"] = \"soft-light\";\r\n    BlendMode[\"SRC_ATOP\"] = \"source-atop\";\r\n    BlendMode[\"XOR\"] = \"xor\";\r\n})(BlendMode || (BlendMode = {}));\r\n","import { Entity } from \"../../util/Entity\";\r\n/**\r\n * Base class for patterns.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/colors-gradients-and-patterns/patterns/} for more info\r\n */\r\nexport class Pattern extends Entity {\r\n    constructor() {\r\n        super(...arguments);\r\n        Object.defineProperty(this, \"_display\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: this._root._renderer.makeGraphics()\r\n        });\r\n        Object.defineProperty(this, \"_backgroundDisplay\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: this._root._renderer.makeGraphics()\r\n        });\r\n        Object.defineProperty(this, \"_clear\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(this, \"_pattern\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n    }\r\n    _afterNew() {\r\n        // Applying themes because pattern will not have parent\r\n        super._afterNewApplyThemes();\r\n    }\r\n    get pattern() {\r\n        return this._pattern;\r\n    }\r\n    _draw() { }\r\n    _beforeChanged() {\r\n        super._beforeChanged();\r\n        if (this.isDirty(\"repetition\") || this.isDirty(\"width\") || this.isDirty(\"height\") || this.isDirty(\"rotation\") || this.isDirty(\"color\") || this.isDirty(\"strokeWidth\") || this.isDirty(\"strokeDasharray\") || this.isDirty(\"strokeDashoffset\") || this.isDirty(\"colorOpacity\") || this.isDirty(\"fill\") || this.isDirty(\"fillOpacity\")) {\r\n            this._clear = true;\r\n        }\r\n    }\r\n    _changed() {\r\n        super._changed();\r\n        if (this._clear) {\r\n            const repetition = this.get(\"repetition\", \"\");\r\n            const width = this.get(\"width\", 100);\r\n            const height = this.get(\"height\", 100);\r\n            const fill = this.get(\"fill\");\r\n            const fillOpacity = this.get(\"fillOpacity\", 1);\r\n            this._display.clear();\r\n            this._backgroundDisplay.clear();\r\n            if (fill && (fillOpacity > 0)) {\r\n                this._backgroundDisplay.beginFill(fill, fillOpacity);\r\n                this._backgroundDisplay.drawRect(0, 0, width, height);\r\n                this._backgroundDisplay.endFill();\r\n            }\r\n            this._display.angle = this.get(\"rotation\", 0);\r\n            //this._display.pivot = { x: width / 2, y: height / 2 };\r\n            this._draw();\r\n            this._pattern = this._root._renderer.createPattern(this._display, this._backgroundDisplay, repetition, width, height);\r\n        }\r\n    }\r\n}\r\nObject.defineProperty(Pattern, \"className\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: \"Pattern\"\r\n});\r\nObject.defineProperty(Pattern, \"classNames\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: Entity.classNames.concat([Pattern.className])\r\n});\r\n","import { Pattern } from \"./Pattern\";\r\n/**\r\n * Picture pattern.\r\n *\r\n * @since 5.2.15\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/colors-gradients-and-patterns/patterns/} for more info\r\n */\r\nexport class PicturePattern extends Pattern {\r\n    constructor() {\r\n        super(...arguments);\r\n        Object.defineProperty(this, \"_image\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n    }\r\n    _beforeChanged() {\r\n        super._beforeChanged();\r\n        this._clear = true;\r\n        if (this.isDirty(\"src\")) {\r\n            this._load();\r\n        }\r\n    }\r\n    _draw() {\r\n        super._draw();\r\n        const image = this._image;\r\n        if (image) {\r\n            const patternWidth = this.get(\"width\", 100);\r\n            const patternHeight = this.get(\"height\", 100);\r\n            // Fit\r\n            const fit = this.get(\"fit\", \"image\");\r\n            let width = 0;\r\n            let height = 0;\r\n            if (fit == \"pattern\") {\r\n                width = patternWidth;\r\n                height = patternHeight;\r\n            }\r\n            else {\r\n                width = image.width;\r\n                height = image.height;\r\n                if (fit == \"image\") {\r\n                    this.set(\"width\", width);\r\n                    this.set(\"height\", height);\r\n                }\r\n            }\r\n            // Position\r\n            const centered = this.get(\"centered\", true);\r\n            let x = 0;\r\n            let y = 0;\r\n            if (centered) {\r\n                x = patternWidth / 2 - width / 2;\r\n                y = patternHeight / 2 - height / 2;\r\n            }\r\n            this._display.image(image, width, height, x, y);\r\n        }\r\n    }\r\n    _load() {\r\n        const src = this.get(\"src\");\r\n        if (src) {\r\n            const image = new Image();\r\n            //image.crossOrigin = \"Anonymous\";\r\n            image.src = src;\r\n            image.decode().then(() => {\r\n                this._image = image;\r\n                this._draw();\r\n                if (this.events.isEnabled(\"loaded\")) {\r\n                    this.events.dispatch(\"loaded\", { type: \"loaded\", target: this });\r\n                }\r\n            }).catch((_error) => {\r\n                // TODO: maybe raise error?\r\n            });\r\n        }\r\n    }\r\n}\r\nObject.defineProperty(PicturePattern, \"className\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: \"PicturePattern\"\r\n});\r\nObject.defineProperty(PicturePattern, \"classNames\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: Pattern.classNames.concat([PicturePattern.className])\r\n});\r\n","import { __awaiter } from \"tslib\";\r\nimport { Percent } from \"./Percent\";\r\nimport { Color } from \"./Color\";\r\nimport { EventDispatcher } from \"./EventDispatcher\";\r\nimport * as $object from \"./Object\";\r\n/**\r\n * @ignore\r\n */\r\nexport function waitForAnimations(animations) {\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n        if (animations !== undefined) {\r\n            const promises = [];\r\n            $object.each(animations, (_, animation) => {\r\n                promises.push(animation.waitForStop());\r\n            });\r\n            yield Promise.all(promises);\r\n        }\r\n    });\r\n}\r\n/**\r\n * @ignore\r\n */\r\nexport function normalize(value, min, max) {\r\n    if (min === max) {\r\n        return 0;\r\n    }\r\n    else {\r\n        return Math.min(Math.max((value - min) * (1 / (max - min)), 0), 1);\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nexport function range(diff, from, to) {\r\n    return from + (diff * (to - from));\r\n}\r\n/**\r\n * @ignore\r\n */\r\nexport function defaultInterpolate(diff, from, to) {\r\n    if (diff >= 1) {\r\n        return to;\r\n    }\r\n    else {\r\n        return from;\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nexport function percentInterpolate(diff, from, to) {\r\n    return new Percent(range(diff, from.percent, to.percent));\r\n}\r\n/**\r\n * @ignore\r\n */\r\nexport function colorInterpolate(diff, from, to) {\r\n    return Color.interpolate(diff, from, to);\r\n}\r\n/**\r\n * @ignore\r\n */\r\nexport function getInterpolate(from, to) {\r\n    if (typeof from === \"number\" && typeof to === \"number\") {\r\n        return range;\r\n    }\r\n    if (from instanceof Percent && to instanceof Percent) {\r\n        return percentInterpolate;\r\n    }\r\n    if (from instanceof Color && to instanceof Color) {\r\n        return colorInterpolate;\r\n    }\r\n    return defaultInterpolate;\r\n}\r\n/**\r\n * @ignore\r\n */\r\nexport class AnimationTime {\r\n    constructor(entity, duration) {\r\n        Object.defineProperty(this, \"_entity\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_duration\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_playingDuration\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: null\r\n        });\r\n        Object.defineProperty(this, \"_startingTime\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: null\r\n        });\r\n        Object.defineProperty(this, \"_current\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(this, \"_from\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(this, \"_to\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(this, \"events\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new EventDispatcher()\r\n        });\r\n        Object.defineProperty(this, \"easing\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        this._entity = entity;\r\n        this._duration = duration;\r\n    }\r\n    _stopEvent() {\r\n        const type = \"stopped\";\r\n        if (this.events.isEnabled(type)) {\r\n            this.events.dispatch(type, { type: type, target: this });\r\n        }\r\n    }\r\n    _runAnimation(currentTime) {\r\n        if (this._playingDuration !== null) {\r\n            if (this._startingTime === null) {\r\n                this._startingTime = currentTime;\r\n                return true;\r\n            }\r\n            else {\r\n                const diff = (currentTime - this._startingTime) / this._playingDuration;\r\n                if (diff >= 1) {\r\n                    this._playingDuration = null;\r\n                    this._startingTime = null;\r\n                    this._from = this._to;\r\n                    this._current = this._to;\r\n                    this._entity.markDirty();\r\n                    this._stopEvent();\r\n                    const type = \"ended\";\r\n                    if (this.events.isEnabled(type)) {\r\n                        this.events.dispatch(type, { type: type, target: this });\r\n                    }\r\n                    return false;\r\n                }\r\n                else {\r\n                    this._current = range(diff, this._from, this._to);\r\n                    this._entity.markDirty();\r\n                    const type = \"progress\";\r\n                    if (this.events.isEnabled(type)) {\r\n                        this.events.dispatch(type, { type: type, target: this, progress: diff });\r\n                    }\r\n                    return true;\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            return false;\r\n        }\r\n    }\r\n    _play() {\r\n        this._from = this._current;\r\n        if (this._playingDuration === null) {\r\n            this._entity._root._addAnimation(this);\r\n            const type = \"started\";\r\n            if (this.events.isEnabled(type)) {\r\n                this.events.dispatch(type, { type: type, target: this });\r\n            }\r\n        }\r\n        else {\r\n            this._startingTime = null;\r\n        }\r\n        this._playingDuration = Math.abs(this._to - this._from) * this._duration;\r\n    }\r\n    get duration() {\r\n        return this._duration;\r\n    }\r\n    set duration(value) {\r\n        if (this._duration !== value) {\r\n            this._duration = value;\r\n            if (value === 0) {\r\n                this.jumpTo(this._to);\r\n            }\r\n            else if (this._current !== this._to) {\r\n                this._play();\r\n            }\r\n        }\r\n    }\r\n    get current() {\r\n        if (this.easing) {\r\n            return this.easing(this._current);\r\n        }\r\n        else {\r\n            return this._current;\r\n        }\r\n    }\r\n    stop() {\r\n        this.jumpTo(this._current);\r\n    }\r\n    jumpTo(value) {\r\n        if (this._current !== value) {\r\n            this._entity.markDirty();\r\n        }\r\n        if (this._playingDuration !== null) {\r\n            this._stopEvent();\r\n        }\r\n        this._playingDuration = null;\r\n        this._startingTime = null;\r\n        this._current = value;\r\n        this._from = value;\r\n        this._to = value;\r\n    }\r\n    tweenTo(value) {\r\n        if (this._current === value || this._duration === 0) {\r\n            this.jumpTo(value);\r\n        }\r\n        else {\r\n            if (this._to !== value) {\r\n                this._to = value;\r\n                this._play();\r\n            }\r\n        }\r\n    }\r\n}\r\n/*export class AnimationValue extends AnimationTime {\r\n    public _min: number;\r\n    public _max: number;\r\n\r\n    constructor(entity: Entity, duration: number, min: number, max: number) {\r\n        super(entity, duration);\r\n        this._min = min;\r\n        this._max = max;\r\n    }\r\n\r\n    public get min(): number {\r\n        return this._min;\r\n    }\r\n\r\n    public set min(value: number) {\r\n        if (this._min !== value) {\r\n            this._min = value;\r\n            this._entity.markDirty();\r\n        }\r\n    }\r\n\r\n    public get max(): number {\r\n        return this._max;\r\n    }\r\n\r\n    public set max(value: number) {\r\n        if (this._max !== value) {\r\n            this._max = value;\r\n            this._entity.markDirty();\r\n        }\r\n    }\r\n\r\n    public currentValue(): number {\r\n        return range(super.currentTime(), this._min, this._max);\r\n    }\r\n\r\n    public jumpToValue(value: number) {\r\n        super.jumpToTime(normalize(value, this._min, this._max));\r\n    }\r\n\r\n    public tweenToValue(value: number) {\r\n        super.tweenToTime(normalize(value, this._min, this._max));\r\n    }\r\n}\r\n*/\r\n","import * as $type from \"./Type\";\r\n/**\r\n * ============================================================================\r\n * UTILITY FUNCTIONS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Searches `array` for `value`.\r\n *\r\n * Returns -1 if not found.\r\n *\r\n * @param array  Source array\r\n * @param value  Value to search\r\n * @returns Index\r\n */\r\nexport function indexOf(array, value) {\r\n    const length = array.length;\r\n    for (let i = 0; i < length; ++i) {\r\n        // TODO handle NaN\r\n        if (array[i] === value) {\r\n            return i;\r\n        }\r\n    }\r\n    return -1;\r\n}\r\n/**\r\n * Calls `test` for each element in `array`.\r\n *\r\n * If `test` returns `true` then it immediately returns `true`.\r\n *\r\n * If `test` returns `false` for all of the elements in `array` then it returns `false`.\r\n *\r\n * @param array  Source array\r\n * @param test   Function which is called on each element\r\n * @returns Whether `test` returned true or not\r\n */\r\nexport function any(array, test) {\r\n    const length = array.length;\r\n    for (let i = 0; i < length; ++i) {\r\n        if (test(array[i])) {\r\n            return true;\r\n        }\r\n    }\r\n    return false;\r\n}\r\n/**\r\n * Calls `fn` function for every member of array and returns a new array out\r\n * of all outputs.\r\n *\r\n * @param array  Source array\r\n * @param fn     Callback function\r\n * @returns New array\r\n */\r\nexport function map(array, fn) {\r\n    const length = array.length;\r\n    const output = new Array(length);\r\n    for (let i = 0; i < length; ++i) {\r\n        output[i] = fn(array[i], i);\r\n    }\r\n    return output;\r\n}\r\n/**\r\n * Iterates through all items in array and calls `fn` function for each of\r\n * them.\r\n *\r\n * @param array  Source array\r\n * @param fn     Callback function\r\n */\r\nexport function each(array, fn) {\r\n    const length = array.length;\r\n    for (let i = 0; i < length; ++i) {\r\n        fn(array[i], i);\r\n    }\r\n}\r\n/**\r\n * Iterates through all items in array in reverse order and calls `fn` function for each of\r\n * them.\r\n *\r\n * @param array  Source array\r\n * @param fn     Callback function\r\n */\r\nexport function eachReverse(array, fn) {\r\n    let i = array.length;\r\n    while (i > 0) {\r\n        --i;\r\n        fn(array[i], i);\r\n    }\r\n}\r\n/**\r\n * Iterates through all items in array and calls `fn` function for each of\r\n * them.\r\n *\r\n * If `fn` call evaluates to `false`, further iteration is cancelled.\r\n *\r\n * @param array  Source array\r\n * @param fn     Callback function\r\n */\r\nexport function eachContinue(array, fn) {\r\n    const length = array.length;\r\n    for (let i = 0; i < length; ++i) {\r\n        if (!fn(array[i], i)) {\r\n            break;\r\n        }\r\n    }\r\n}\r\n/**\r\n * Shifts an item at `index` towards beginning of the array.\r\n *\r\n * @param array  Source array\r\n * @param index  Target element index\r\n */\r\nexport function shiftLeft(array, index) {\r\n    const length = array.length;\r\n    for (let i = index; i < length; ++i) {\r\n        array[i - index] = array[i];\r\n    }\r\n    array.length = length - index;\r\n}\r\n/**\r\n * Returns the last item of the array.\r\n *\r\n * @param array  Source array\r\n * @returns Last item\r\n */\r\nexport function last(array) {\r\n    const length = array.length;\r\n    return length ? array[length - 1] : undefined;\r\n}\r\n/**\r\n * Returns the first item of the array.\r\n *\r\n * @param array  Source array\r\n * @returns Last item\r\n */\r\nexport function first(array) {\r\n    return array[0];\r\n}\r\n/**\r\n * Inserts `element` into `array` at `index`.\r\n *\r\n * Caps `index` to be between `0` and `array.length`\r\n *\r\n * @param array    Source array\r\n * @param element  Item to insert\r\n * @param array    Index to insert item at\r\n */\r\nexport function insert(array, element, index) {\r\n    //if (array) {\r\n    index = Math.max(0, Math.min(index, array.length));\r\n    array.splice(index, 0, element);\r\n    //}\r\n}\r\n/**\r\n * Removes all copies of `element` from `array` (if they exist) and then\r\n * inserts `element` at `index`.\r\n *\r\n * @param array    Source array\r\n * @param element  Item\r\n * @param array    Index to move item to\r\n */\r\nexport function setIndex(array, element, index) {\r\n    remove(array, element);\r\n    insert(array, element, index);\r\n}\r\n/**\r\n * Pushes all of the elements from `input` into `array`.\r\n *\r\n * @param array  Output array\r\n * @param input  Input array\r\n */\r\nexport function pushAll(array, input) {\r\n    const length = input.length;\r\n    for (let i = 0; i < length; ++i) {\r\n        array.push(input[i]);\r\n    }\r\n}\r\n/**\r\n * Removes `element` from `array`.\r\n *\r\n * If there are multiple copies of `element`, they are all removed.\r\n *\r\n * @param array    Source array\r\n * @param element  Item to remove\r\n */\r\nexport function remove(array, element) {\r\n    let found = false;\r\n    let index = 0;\r\n    for (;;) {\r\n        index = array.indexOf(element, index);\r\n        if (index === -1) {\r\n            return found;\r\n        }\r\n        else {\r\n            found = true;\r\n            array.splice(index, 1);\r\n        }\r\n    }\r\n}\r\nexport function removeFirst(array, element) {\r\n    let index = array.indexOf(element);\r\n    if (index !== -1) {\r\n        array.splice(index, 1);\r\n        return true;\r\n    }\r\n    else {\r\n        return false;\r\n    }\r\n}\r\n/**\r\n * Adds an `element` to `array`.\r\n *\r\n * If array already contains and item like this, it is removed before adding\r\n * it again.\r\n *\r\n * Optionally `toIndex` can be specified to add element at specific index.\r\n *\r\n * @param array    Source array\r\n * @param element  Item to add\r\n * @param array    Index to move item to\r\n */\r\nexport function move(array, element, toIndex) {\r\n    // @todo this implementation must be the same as the List.moveValue method\r\n    // @todo don't do anything if the desired index is the same as the current index\r\n    let index = indexOf(array, element);\r\n    // @todo remove all old values rather than only the first ?\r\n    if (index !== -1) {\r\n        removeIndex(array, index);\r\n    }\r\n    if (toIndex == null) {\r\n        array.push(element);\r\n    }\r\n    else {\r\n        insertIndex(array, toIndex, element);\r\n    }\r\n}\r\n/**\r\n * Inserts `element` into `array` at `index`.\r\n *\r\n * If `index` is not provided, it will insert `element` at the end of `array`.\r\n *\r\n * @param array    Source array\r\n * @param element  Item to add\r\n * @param array    Index to add item at\r\n */\r\nexport function add(array, element, index) {\r\n    // Append to the end if index is not set\r\n    if (!$type.isNumber(index)) {\r\n        array.push(element);\r\n    }\r\n    // Add to the beginning of array if index is 0\r\n    else if (index === 0) {\r\n        array.unshift(element);\r\n    }\r\n    // Add to indicated place if index is set\r\n    else {\r\n        array.splice(index, 0, element);\r\n    }\r\n}\r\n/**\r\n * Pushes `element` into `array` if it doesn't already exist.\r\n *\r\n * @param array    Source array\r\n * @param element  Item to add\r\n */\r\nexport function pushOne(array, element) {\r\n    if (array.indexOf(element) === -1) {\r\n        array.push(element);\r\n    }\r\n}\r\n/**\r\n * Removes `element` from `array` (if it exists) and then inserts `element` at\r\n * `index`.\r\n *\r\n * If `index` is not provided, it will insert `element` at the end of `array`.\r\n *\r\n * @param array    Source array\r\n * @param element  Item to remove\r\n * @param array    Index to move item to\r\n */\r\nexport function replace(array, element, index) {\r\n    // check if exists\r\n    let ind = array.indexOf(element);\r\n    // remove if exists\r\n    if (ind !== -1) {\r\n        array.splice(ind, 1);\r\n    }\r\n    // add to end if index is not set\r\n    if (!$type.isNumber(index)) {\r\n        array.push(element);\r\n    }\r\n    // add to indicated place if index is set\r\n    else {\r\n        array.splice(index, 0, element);\r\n    }\r\n}\r\n/**\r\n * Wraps `input` in an array, if it isn't already an array.\r\n *\r\n * @param input  Source value\r\n * @return An array\r\n */\r\nexport function toArray(input) {\r\n    if (Array.isArray(input)) {\r\n        return input;\r\n    }\r\n    else {\r\n        return [input];\r\n    }\r\n}\r\n/**\r\n * Returns `true` if `element` exists in `array`.\r\n *\r\n * @param array    Source array\r\n * @param element  Item to search for\r\n * @returns Item in array?\r\n */\r\nexport function has(array, element) {\r\n    return indexOf(array, element) !== -1;\r\n}\r\n/**\r\n * Returns a shallow copy of `array`.\r\n *\r\n * @param array  Source array\r\n * @returns Copy of the array\r\n */\r\nexport function copy(array) {\r\n    const length = array.length;\r\n    // It's faster to create the array with a pre-defined length\r\n    const output = new Array(length);\r\n    for (let i = 0; i < length; ++i) {\r\n        // Because the array has a pre-defined length, we have to assign rather than push\r\n        // This is also faster than pushing\r\n        output[i] = array[i];\r\n    }\r\n    return output;\r\n}\r\n/**\r\n * Returns a copy of `array` which contains all the elements between `start`\r\n * and `end`. (including `start` and excluding `end`)\r\n *\r\n * If `end` is not provided, it defaults to `array.length`.\r\n *\r\n * @param array  Source array\r\n * @param start  Start index\r\n * @param end    End index\r\n * @returns Part of the array\r\n */\r\nexport function slice(array, start, end = array.length) {\r\n    const output = new Array(end - start);\r\n    for (let i = start; i < end; ++i) {\r\n        output[i - start] = array[i];\r\n    }\r\n    return output;\r\n}\r\n/**\r\n * Inserts a value into array at specific index.\r\n *\r\n * @param array  Source array\r\n * @param index  Index\r\n * @param value  Value to insert\r\n */\r\nexport function insertIndex(array, index, value) {\r\n    array.splice(index, 0, value);\r\n}\r\n/**\r\n * Removes a value from array at specific index.\r\n *\r\n * @param array  Source array\r\n * @param index  Index\r\n */\r\nexport function removeIndex(array, index) {\r\n    array.splice(index, 1);\r\n}\r\n/**\r\n * Searches the array using custom function and returns index of the item if\r\n * found.\r\n *\r\n * Will call `matches` function on all items of the array. If return value\r\n * evaluates to `true`, index is returned.\r\n *\r\n * Otherwise returns -1.\r\n *\r\n * @param array    Source array\r\n * @param matches  Search function\r\n * @returns Index of the item if found\r\n */\r\nexport function findIndex(array, matches) {\r\n    const length = array.length;\r\n    for (let i = 0; i < length; ++i) {\r\n        if (matches(array[i], i)) {\r\n            return i;\r\n        }\r\n    }\r\n    return -1;\r\n}\r\n/**\r\n * This is the same as `findIndex` except it searches from right to left.\r\n *\r\n * @param array    Source array\r\n * @param matches  Search function\r\n * @returns Index of the item if found\r\n */\r\nexport function findIndexReverse(array, matches) {\r\n    let i = array.length;\r\n    while (i > 0) {\r\n        --i;\r\n        if (matches(array[i], i)) {\r\n            return i;\r\n        }\r\n    }\r\n    return -1;\r\n}\r\n/**\r\n * Searches the array using custom function and returns item if found.\r\n *\r\n * Will call `matches` function on all items of the array. If return value\r\n * evaluates to `true`, index is returned.\r\n *\r\n * Otherwise returns `undefined`.\r\n *\r\n * @param array    Source array\r\n * @param matches  Search function\r\n * @returns Item if found\r\n */\r\nexport function find(array, matches) {\r\n    const index = findIndex(array, matches);\r\n    if (index !== -1) {\r\n        return array[index];\r\n    }\r\n}\r\n/**\r\n * This is the same as `find` except it searches from right to left.\r\n *\r\n * @param array    Source array\r\n * @param matches  Search function\r\n * @returns Item if found\r\n */\r\nexport function findReverse(array, matches) {\r\n    const index = findIndexReverse(array, matches);\r\n    if (index !== -1) {\r\n        return array[index];\r\n    }\r\n}\r\n/**\r\n * Searches the array using custom function and returns item if found.\r\n *\r\n * Will call `matches` function on all items of the array. If value\r\n * is not `undefined`, it returns it.\r\n *\r\n * Otherwise returns `undefined`.\r\n *\r\n * @param array    Source array\r\n * @param matches  Search function\r\n * @returns Item if found\r\n */\r\nexport function findMap(array, matches) {\r\n    const length = array.length;\r\n    for (let i = 0; i < length; ++i) {\r\n        const value = matches(array[i], i);\r\n        if (value !== undefined) {\r\n            return value;\r\n        }\r\n    }\r\n}\r\n/**\r\n * Iterates through all items in array and calls `fn` function for each of\r\n * them.\r\n *\r\n * @param array  Source array\r\n * @param fn     Callback function\r\n */\r\nexport function shuffle(array) {\r\n    // https://stackoverflow.com/a/2450976/449477\r\n    let currentIndex = array.length, temporaryValue, randomIndex;\r\n    // While there remain elements to shuffle...\r\n    while (0 !== currentIndex) {\r\n        // Pick a remaining element...\r\n        randomIndex = Math.floor(Math.random() * currentIndex);\r\n        currentIndex -= 1;\r\n        // And swap it with the current element.\r\n        temporaryValue = array[currentIndex];\r\n        array[currentIndex] = array[randomIndex];\r\n        array[randomIndex] = temporaryValue;\r\n    }\r\n}\r\n/**\r\n * Orders an array using specific `ordering` function and returns right-most index of\r\n * the `value`.\r\n *\r\n * @ignore Exclude from docs\r\n * @param array     Source array\r\n * @param ordering  An ordering function\r\n * @returns Result of the search\r\n */\r\nexport function getSortedIndex(array, ordering) {\r\n    let start = 0;\r\n    let end = array.length;\r\n    let found = false;\r\n    while (start < end) {\r\n        // TODO is this faster/slower than using Math.floor ?\r\n        const pivot = (start + end) >> 1;\r\n        const order = ordering(array[pivot]);\r\n        // less\r\n        if (order < 0) {\r\n            start = pivot + 1;\r\n            // equal\r\n        }\r\n        else if (order === 0) {\r\n            found = true;\r\n            start = pivot + 1;\r\n            // more\r\n        }\r\n        else {\r\n            end = pivot;\r\n        }\r\n    }\r\n    return {\r\n        found: found,\r\n        index: (found ? start - 1 : start)\r\n    };\r\n}\r\n/**\r\n * Orders an array using specific `ordering` function and returns left-most index of\r\n * the `value`.\r\n *\r\n * @ignore Exclude from docs\r\n * @param array     Source array\r\n * @param ordering  An ordering function\r\n * @returns Result of the search\r\n */\r\nexport function getFirstSortedIndex(array, ordering) {\r\n    let start = 0;\r\n    let end = array.length;\r\n    let found = false;\r\n    while (start < end) {\r\n        // TODO is this faster/slower than using Math.floor ?\r\n        const pivot = (start + end) >> 1;\r\n        const order = ordering(array[pivot]);\r\n        // less\r\n        if (order < 0) {\r\n            start = pivot + 1;\r\n            // equal\r\n        }\r\n        else if (order === 0) {\r\n            found = true;\r\n            end = pivot;\r\n            // more\r\n        }\r\n        else {\r\n            end = pivot;\r\n        }\r\n    }\r\n    return {\r\n        found: found,\r\n        index: start\r\n    };\r\n}\r\nexport function keepIf(array, keep) {\r\n    let i = array.length;\r\n    while (i > 0) {\r\n        --i;\r\n        if (!keep(array[i])) {\r\n            array.splice(i, 1);\r\n        }\r\n    }\r\n}\r\n","import { List } from \"./List\";\r\nimport * as $array from \"./Array\";\r\n/**\r\n * A version of [[List]] to hold children of the [[Container]].\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/common-elements/containers/} for more info\r\n */\r\nexport class Children extends List {\r\n    constructor(container) {\r\n        super();\r\n        Object.defineProperty(this, \"_disposed\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(this, \"_container\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_events\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        this._container = container;\r\n        this._events = this.events.onAll((change) => {\r\n            if (change.type === \"clear\") {\r\n                $array.each(change.oldValues, (x) => {\r\n                    this._onRemoved(x);\r\n                });\r\n            }\r\n            else if (change.type === \"push\") {\r\n                this._onInserted(change.newValue);\r\n            }\r\n            else if (change.type === \"setIndex\") {\r\n                this._onRemoved(change.oldValue);\r\n                this._onInserted(change.newValue, change.index);\r\n            }\r\n            else if (change.type === \"insertIndex\") {\r\n                this._onInserted(change.newValue, change.index);\r\n            }\r\n            else if (change.type === \"removeIndex\") {\r\n                this._onRemoved(change.oldValue);\r\n            }\r\n            else if (change.type === \"moveIndex\") {\r\n                this._onRemoved(change.value);\r\n                this._onInserted(change.value, change.newIndex);\r\n            }\r\n            else {\r\n                throw new Error(\"Unknown IListEvent type\");\r\n            }\r\n        });\r\n    }\r\n    _onInserted(child, index) {\r\n        child._setParent(this._container, true);\r\n        const childrenDisplay = this._container._childrenDisplay;\r\n        if (index === undefined) {\r\n            childrenDisplay.addChild(child._display);\r\n        }\r\n        else {\r\n            childrenDisplay.addChildAt(child._display, index);\r\n        }\r\n    }\r\n    _onRemoved(child) {\r\n        this._container._childrenDisplay.removeChild(child._display);\r\n        this._container.markDirtyBounds();\r\n        this._container.markDirty();\r\n    }\r\n    /**\r\n     * Returns `true` if obejct is disposed.\r\n     */\r\n    isDisposed() {\r\n        return this._disposed;\r\n    }\r\n    /**\r\n     * Permanently dispose this object.\r\n     */\r\n    dispose() {\r\n        if (!this._disposed) {\r\n            this._disposed = true;\r\n            this._events.dispose();\r\n            $array.each(this.values, (child) => {\r\n                child.dispose();\r\n            });\r\n        }\r\n    }\r\n}\r\n","import { range } from \"./Animation\";\r\nimport * as $utils from \"./Utils\";\r\nimport * as $type from \"./Type\";\r\n/**\r\n * @ignore\r\n */\r\nfunction string2hex(string) {\r\n    //string = cssColorNames[string.toLowerCase()] || string;\r\n    if (string[0] === \"#\") {\r\n        string = string.substr(1);\r\n    }\r\n    if (string.length == 3) {\r\n        string = string[0].repeat(2) + string[1].repeat(2) + string[2].repeat(2);\r\n    }\r\n    return parseInt(string, 16);\r\n}\r\n/**\r\n * @ignore\r\n */\r\nexport function rgba2hex(color) {\r\n    color = color.replace(/[ ]/g, \"\");\r\n    // Init\r\n    let matches = color.match(/^rgb\\(([0-9]*),([0-9]*),([0-9]*)\\)/i);\r\n    // Try rgb() format\r\n    if (matches) {\r\n        matches.push(\"1\");\r\n    }\r\n    else {\r\n        matches = color.match(/^rgba\\(([0-9]*),([0-9]*),([0-9]*),([.0-9]*)\\)/i);\r\n        if (!matches) {\r\n            return 0x000000;\r\n        }\r\n    }\r\n    let hex = \"\";\r\n    for (let i = 1; i <= 3; i++) {\r\n        let val = parseInt(matches[i]).toString(16);\r\n        if (val.length == 1) {\r\n            val = \"0\" + val;\r\n        }\r\n        hex += val;\r\n    }\r\n    return string2hex(hex);\r\n}\r\n/**\r\n * Returns a new [[Color]] object base on input.\r\n *\r\n * Accepts parameters in CSS hex or rgb/rtba strings, or hex numbers.\r\n *\r\n * * `\"#f00\"`\r\n * * `\"#ff0000\"`\r\n * * `\"rgb(255, 0, 0)\"`\r\n * * `\"rgba(255, 0, 0, 1)\"`\r\n * * `0xff0000`\r\n *\r\n * @param   input  Input color\r\n * @return         Color\r\n */\r\nexport function color(input) {\r\n    return Color.fromAny(input);\r\n}\r\n/**\r\n * Wherever color needs to be specified in amCharts 5, `Color` object needs to\r\n * be used.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/colors-gradients-and-patterns/} for more info\r\n * @important\r\n */\r\nexport class Color {\r\n    constructor(hex) {\r\n        Object.defineProperty(this, \"_hex\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        this._hex = hex | 0;\r\n    }\r\n    /**\r\n     * Color numeric value.\r\n     */\r\n    get hex() {\r\n        return this._hex;\r\n    }\r\n    /**\r\n     * Value of color's R channel.\r\n     * @return R value\r\n     */\r\n    get r() {\r\n        return this._hex >>> 16;\r\n    }\r\n    /**\r\n     * Value of color's G channel.\r\n     * @return G value\r\n     */\r\n    get g() {\r\n        return (this._hex >> 8) & 0xFF;\r\n    }\r\n    /**\r\n     * Value of color's B channel.\r\n     * @return B value\r\n     */\r\n    get b() {\r\n        return this._hex & 0xFF;\r\n    }\r\n    /**\r\n     * Returns color CSS representation in form of `rgba(r, g, b, a)` string.\r\n     *\r\n     * @param   alpha  Opacity\r\n     * @return         CSS string\r\n     */\r\n    toCSS(alpha = 1) {\r\n        return \"rgba(\" + this.r + \", \" + this.g + \", \" + this.b + \", \" + alpha + \")\";\r\n    }\r\n    /**\r\n     * Returns color CSS representation in form of `#rgb` string.\r\n     *\r\n     * @return         CSS string\r\n     */\r\n    toCSSHex() {\r\n        return \"#\" + $utils.padString(this.r.toString(16), 2) + $utils.padString(this.g.toString(16), 2) + $utils.padString(this.b.toString(16), 2);\r\n    }\r\n    /**\r\n     * Returns color's HSL info.\r\n     * @param   alpha Opacity\r\n     * @return        HSL info\r\n     */\r\n    toHSL(alpha = 1) {\r\n        return $utils.rgbToHsl({\r\n            r: this.r,\r\n            g: this.g,\r\n            b: this.b,\r\n            a: alpha\r\n        });\r\n    }\r\n    /**\r\n     * Converts HSL values into a new [[Color]] object.\r\n     *\r\n     * @param   h H value\r\n     * @param   s S value\r\n     * @param   l L value\r\n     * @return    Color object\r\n     */\r\n    static fromHSL(h, s, l) {\r\n        const rgb = $utils.hslToRgb({\r\n            h: h,\r\n            s: s,\r\n            l: l\r\n        });\r\n        return this.fromRGB(rgb.r, rgb.g, rgb.b);\r\n    }\r\n    toString() {\r\n        return this.toCSSHex();\r\n    }\r\n    /**\r\n     * Converts hex number into a new [[Color]] object.\r\n     *\r\n     * ```TypeScript\r\n     * Color.fromHex(0xff0000) // red\r\n     * ```\r\n     * ```JavaScript\r\n     * Color.fromHex(0xff0000) // red\r\n     * ```\r\n     *\r\n     * @param   hex  Hex color\r\n     * @return       Color\r\n     */\r\n    static fromHex(hex) {\r\n        return new Color(hex);\r\n    }\r\n    /**\r\n     * Converts RGB values to a new [[Color]] object.\r\n     *\r\n     * @param   r  R value\r\n     * @param   g  G value\r\n     * @param   b  B value\r\n     * @return     Color\r\n     */\r\n    static fromRGB(r, g, b) {\r\n        return new Color((b | 0) + (g << 8) + (r << 16));\r\n    }\r\n    /**\r\n     * Converts RGB string to a new [[Color]] object.\r\n     *\r\n     * ```TypeScript\r\n     * Color.fromString(\"#ff0000\") // red\r\n     * ```\r\n     * ```JavaScript\r\n     * Color.fromString(\"#ff0000\") // red\r\n     * ```\r\n     *\r\n     * @param   s  RGB string\r\n     * @return     Color\r\n     */\r\n    static fromString(s) {\r\n        return new Color(string2hex(s));\r\n    }\r\n    /**\r\n     * Converts CSS rgba() syntax to a new [[Color]] object.\r\n     *\r\n     * ```TypeScript\r\n     * Color.fromCSS(\"rgba(255, 0, 0, 1)\") // red\r\n     * ```\r\n     * ```JavaScript\r\n     * Color.fromCSS(\"rgba(255, 0, 0, 1)\") // red\r\n     * ```\r\n     *\r\n     * @param  {string} s [description]\r\n     * @return {Color}    [description]\r\n     */\r\n    static fromCSS(s) {\r\n        return new Color(rgba2hex(s));\r\n    }\r\n    /**\r\n     * Convert to color from virtually anything.\r\n     *\r\n     * Will throw an exception if unable to resolve the color.\r\n     *\r\n     * @param   s  Source\r\n     * @return     Color\r\n     */\r\n    static fromAny(s) {\r\n        if ($type.isString(s)) {\r\n            if (s[0] == \"#\") {\r\n                return Color.fromString(s);\r\n            }\r\n            else if (s.substr(0, 3) == \"rgb\") {\r\n                return Color.fromCSS(s);\r\n            }\r\n        }\r\n        else if ($type.isNumber(s)) {\r\n            return Color.fromHex(s);\r\n        }\r\n        else if (s instanceof Color) {\r\n            return Color.fromHex(s.hex);\r\n        }\r\n        throw new Error(\"Unknown color syntax: \" + s);\r\n    }\r\n    /**\r\n     * Returns a new [[Color]] object based on either `lightAlternative` or\r\n     * `darkAlternative` depending on which one is more contrasting with\r\n     * the `color`.\r\n     *\r\n     * @param   color             Reference color\r\n     * @param   lightAlternative  Light color\r\n     * @param   darkAlternative   Dark color\r\n     * @return                    Alternative color\r\n     */\r\n    static alternative(color, lightAlternative, darkAlternative) {\r\n        const rgb = $utils.alternativeColor({ r: color.r, g: color.g, b: color.b }, lightAlternative ? { r: lightAlternative.r, g: lightAlternative.g, b: lightAlternative.b } : undefined, darkAlternative ? { r: darkAlternative.r, g: darkAlternative.g, b: darkAlternative.b } : undefined);\r\n        return this.fromRGB(rgb.r, rgb.g, rgb.b);\r\n    }\r\n    /**\r\n     * Returns an intermediate Color between two reference colors depending on\r\n     * the progress (`diff`) between the two.\r\n     *\r\n     * @param   diff  Progress\r\n     * @param   from  Source color\r\n     * @param   to    Target color\r\n     * @param   mode  Interpolation mode\r\n     * @return        Color\r\n     */\r\n    static interpolate(diff, from, to, mode = \"rgb\") {\r\n        if (mode == \"hsl\") {\r\n            const fromHSL = from.toHSL();\r\n            const toHSL = to.toHSL();\r\n            return Color.fromHSL(range(diff, fromHSL.h, toHSL.h), range(diff, fromHSL.s, toHSL.s), range(diff, fromHSL.l, toHSL.l));\r\n        }\r\n        else {\r\n            return Color.fromRGB(range(diff, from.r, to.r), range(diff, from.g, to.g), range(diff, from.b, to.b));\r\n        }\r\n    }\r\n    /**\r\n     * Returns a new [[Color]] lightened by `percent` value.\r\n     *\r\n     * Use negative value to darken the color.\r\n     *\r\n     * @param   color    Source color\r\n     * @param   percent  Percent\r\n     * @return           New color\r\n     */\r\n    static lighten(color, percent) {\r\n        const rgb = $utils.lighten({ r: color.r, g: color.g, b: color.b }, percent);\r\n        return Color.fromRGB(rgb.r, rgb.g, rgb.b);\r\n    }\r\n    /**\r\n     * Returns a new [[Color]] brightened by `percent` value.\r\n     *\r\n     * Use negative value to dim the color.\r\n     *\r\n     * @param   color    Source color\r\n     * @param   percent  Percent\r\n     * @return           New color\r\n     */\r\n    static brighten(color, percent) {\r\n        const rgb = $utils.brighten({ r: color.r, g: color.g, b: color.b }, percent);\r\n        return Color.fromRGB(rgb.r, rgb.g, rgb.b);\r\n    }\r\n    /**\r\n     * Returns a new [[Color]] saturated by `percent` value.\r\n     *\r\n     * Value range is between `0` (fully desaturated), to `1` (full color).\r\n     *\r\n     * @param   color    Source color\r\n     * @param   percent  Percent\r\n     * @return           New color\r\n     */\r\n    static saturate(color, percent) {\r\n        const rgb = $utils.saturate({ r: color.r, g: color.g, b: color.b }, percent);\r\n        return Color.fromRGB(rgb.r, rgb.g, rgb.b);\r\n    }\r\n}\r\n","import { Entity } from \"./Entity\";\r\nimport { TextFormatter } from \"./TextFormatter\";\r\nimport { Timezone } from \"./Timezone\";\r\nimport * as $type from \"./Type\";\r\nimport * as $utils from \"./Utils\";\r\nexport class DateFormatter extends Entity {\r\n    _setDefaults() {\r\n        // Defaults\r\n        this._setDefault(\"capitalize\", true);\r\n        this._setDefault(\"dateFormat\", \"yyyy-MM-dd\");\r\n        super._setDefaults();\r\n    }\r\n    _beforeChanged() {\r\n        super._beforeChanged();\r\n    }\r\n    format(source, format) {\r\n        // Locale?\r\n        // TODO\r\n        // No format passed in or it's empty\r\n        if (typeof format === \"undefined\" || format === \"\") {\r\n            format = this.get(\"dateFormat\", \"yyyy-MM-dd\");\r\n        }\r\n        // Init return value\r\n        let formatted;\r\n        // Cast?\r\n        // TODO: decide if we need to cast\r\n        let date = source;\r\n        // Is it a built-in format or Intl.DateTimeFormat\r\n        if ($type.isObject(format)) {\r\n            try {\r\n                const locales = this.get(\"intlLocales\");\r\n                if (locales) {\r\n                    return new Intl.DateTimeFormat(locales, format).format(date);\r\n                }\r\n                else {\r\n                    return new Intl.DateTimeFormat(undefined, format).format(date);\r\n                }\r\n            }\r\n            catch (e) {\r\n                return \"Invalid\";\r\n            }\r\n        }\r\n        // get format info (it will also deal with parser caching)\r\n        let info = this.parseFormat(format);\r\n        // Should we apply custom time zone?\r\n        const timezone = this._root.timezone;\r\n        if (timezone && !this._root.utc) {\r\n            date = timezone.convertLocal(date);\r\n        }\r\n        // Check if it's a valid date\r\n        if (!$type.isNumber(date.getTime())) {\r\n            // TODO translation\r\n            //return this._t(\"Invalid date\");\r\n            return \"Invalid date\";\r\n        }\r\n        // Apply format\r\n        formatted = this.applyFormat(date, info);\r\n        // Capitalize\r\n        if (this.get(\"capitalize\")) {\r\n            formatted = formatted.replace(/^.{1}/, formatted.substr(0, 1).toUpperCase());\r\n        }\r\n        // We're done\r\n        return formatted;\r\n    }\r\n    /**\r\n     * Applies format to Date.\r\n     *\r\n     * @param date      Date object\r\n     * @param info      Parsed format information\r\n     * @return Formatted date string\r\n     */\r\n    applyFormat(date, info) {\r\n        // Init return value\r\n        let res = info.template;\r\n        // Get values\r\n        let fullYear, month, weekday, day, hours, minutes, seconds, milliseconds, timestamp = date.getTime();\r\n        if (this._root.utc) {\r\n            fullYear = date.getUTCFullYear();\r\n            month = date.getUTCMonth();\r\n            weekday = date.getUTCDay();\r\n            day = date.getUTCDate();\r\n            hours = date.getUTCHours();\r\n            minutes = date.getUTCMinutes();\r\n            seconds = date.getUTCSeconds();\r\n            milliseconds = date.getUTCMilliseconds();\r\n        }\r\n        else {\r\n            fullYear = date.getFullYear();\r\n            month = date.getMonth();\r\n            weekday = date.getDay();\r\n            day = date.getDate();\r\n            hours = date.getHours();\r\n            minutes = date.getMinutes();\r\n            seconds = date.getSeconds();\r\n            milliseconds = date.getMilliseconds();\r\n        }\r\n        // Go through each part and format/replace it in template\r\n        for (let i = 0, len = info.parts.length; i < len; i++) {\r\n            let value = \"\";\r\n            switch (info.parts[i]) {\r\n                case \"G\":\r\n                    value = this._t(fullYear < 0\r\n                        ? \"_era_bc\"\r\n                        : \"_era_ad\");\r\n                    break;\r\n                case \"yyyy\":\r\n                    value = Math.abs(fullYear).toString();\r\n                    if (fullYear < 0) {\r\n                        value += this._t(\"_era_bc\");\r\n                    }\r\n                    break;\r\n                case \"yyy\":\r\n                case \"yy\":\r\n                case \"y\":\r\n                    value = Math.abs(fullYear).toString().substr(-info.parts[i].length);\r\n                    if (fullYear < 0) {\r\n                        value += this._t(\"_era_bc\");\r\n                    }\r\n                    break;\r\n                case \"YYYY\":\r\n                case \"YYY\":\r\n                case \"YY\":\r\n                case \"Y\":\r\n                    let year = $utils.getWeekYear(date, this._root.utc);\r\n                    if (info.parts[i] == \"YYYY\") {\r\n                        value = Math.abs(year).toString();\r\n                    }\r\n                    else {\r\n                        value = Math.abs(year).toString().substr(-info.parts[i].length);\r\n                    }\r\n                    if (year < 0) {\r\n                        value += this._t(\"_era_bc\");\r\n                    }\r\n                    break;\r\n                case \"u\":\r\n                    // @todo\r\n                    break;\r\n                case \"q\":\r\n                    value = \"\" + Math.ceil((date.getMonth() + 1) / 3);\r\n                    break;\r\n                case \"MMMMM\":\r\n                    value = this._t(this._getMonth(month)).substr(0, 1);\r\n                    break;\r\n                case \"MMMM\":\r\n                    value = this._t(this._getMonth(month));\r\n                    break;\r\n                case \"MMM\":\r\n                    value = this._t(this._getShortMonth(month));\r\n                    break;\r\n                case \"MM\":\r\n                    value = $utils.padString(month + 1, 2, \"0\");\r\n                    break;\r\n                case \"M\":\r\n                    value = (month + 1).toString();\r\n                    break;\r\n                case \"ww\":\r\n                    value = $utils.padString($utils.getWeek(date, this._root.utc), 2, \"0\");\r\n                    break;\r\n                case \"w\":\r\n                    value = $utils.getWeek(date, this._root.utc).toString();\r\n                    break;\r\n                case \"W\":\r\n                    value = $utils.getMonthWeek(date, this._root.utc).toString();\r\n                    break;\r\n                case \"dd\":\r\n                    value = $utils.padString(day, 2, \"0\");\r\n                    break;\r\n                case \"d\":\r\n                    value = day.toString();\r\n                    break;\r\n                case \"DD\":\r\n                case \"DDD\":\r\n                    value = $utils.padString($utils.getYearDay(date, this._root.utc).toString(), info.parts[i].length, \"0\");\r\n                    break;\r\n                case \"D\":\r\n                    value = $utils.getYearDay(date, this._root.utc).toString();\r\n                    break;\r\n                case \"F\":\r\n                    // @todo\r\n                    break;\r\n                case \"g\":\r\n                    // @todo\r\n                    break;\r\n                case \"t\":\r\n                    value = this._root.language.translateFunc(\"_dateOrd\").call(this, day);\r\n                    break;\r\n                case \"E\":\r\n                    value = (weekday || 7).toString();\r\n                    break;\r\n                case \"EE\":\r\n                    value = $utils.padString((weekday || 7).toString(), 2, \"0\");\r\n                    break;\r\n                case \"EEE\":\r\n                case \"eee\":\r\n                    value = this._t(this._getShortWeekday(weekday));\r\n                    break;\r\n                case \"EEEE\":\r\n                case \"eeee\":\r\n                    value = this._t(this._getWeekday(weekday));\r\n                    break;\r\n                case \"EEEEE\":\r\n                case \"eeeee\":\r\n                    value = this._t(this._getShortWeekday(weekday)).substr(0, 1);\r\n                    break;\r\n                case \"e\":\r\n                case \"ee\":\r\n                    value = (weekday - (this._root.locale.firstDayOfWeek || 1) + 1).toString();\r\n                    if (info.parts[i] == \"ee\") {\r\n                        value = $utils.padString(value, 2, \"0\");\r\n                    }\r\n                    break;\r\n                case \"a\":\r\n                    if (hours >= 12) {\r\n                        value = this._t(\"PM\");\r\n                    }\r\n                    else {\r\n                        value = this._t(\"AM\");\r\n                    }\r\n                    break;\r\n                case \"aa\":\r\n                    if (hours >= 12) {\r\n                        value = this._t(\"P.M.\");\r\n                    }\r\n                    else {\r\n                        value = this._t(\"A.M.\");\r\n                    }\r\n                    break;\r\n                case \"aaa\":\r\n                    if (hours >= 12) {\r\n                        value = this._t(\"P\");\r\n                    }\r\n                    else {\r\n                        value = this._t(\"A\");\r\n                    }\r\n                    break;\r\n                case \"h\":\r\n                    value = $utils.get12Hours(hours).toString();\r\n                    break;\r\n                case \"hh\":\r\n                    value = $utils.padString($utils.get12Hours(hours), 2, \"0\");\r\n                    break;\r\n                case \"H\":\r\n                    value = hours.toString();\r\n                    break;\r\n                case \"HH\":\r\n                    value = $utils.padString(hours, 2, \"0\");\r\n                    break;\r\n                case \"K\":\r\n                    value = $utils.get12Hours(hours, 0).toString();\r\n                    break;\r\n                case \"KK\":\r\n                    value = $utils.padString($utils.get12Hours(hours, 0), 2, \"0\");\r\n                    break;\r\n                case \"k\":\r\n                    value = (hours + 1).toString();\r\n                    break;\r\n                case \"kk\":\r\n                    value = $utils.padString(hours + 1, 2, \"0\");\r\n                    break;\r\n                case \"m\":\r\n                    value = minutes.toString();\r\n                    break;\r\n                case \"mm\":\r\n                    value = $utils.padString(minutes, 2, \"0\");\r\n                    break;\r\n                case \"s\":\r\n                    value = seconds.toString();\r\n                    break;\r\n                case \"ss\":\r\n                    value = $utils.padString(seconds, 2, \"0\");\r\n                    break;\r\n                case \"S\":\r\n                case \"SS\":\r\n                case \"SSS\":\r\n                    value = Math.round((milliseconds / 1000) * Math.pow(10, info.parts[i].length)).toString();\r\n                    break;\r\n                case \"x\":\r\n                    value = timestamp.toString();\r\n                    break;\r\n                case \"n\":\r\n                case \"nn\":\r\n                case \"nnn\":\r\n                    value = $utils.padString(milliseconds, info.parts[i].length, \"0\");\r\n                    break;\r\n                case \"z\":\r\n                    value = $utils.getTimeZone(date, false, false, this._root.utc);\r\n                    break;\r\n                case \"zz\":\r\n                    value = $utils.getTimeZone(date, true, false, this._root.utc);\r\n                    break;\r\n                case \"zzz\":\r\n                    value = $utils.getTimeZone(date, false, true, this._root.utc);\r\n                    break;\r\n                case \"zzzz\":\r\n                    value = $utils.getTimeZone(date, true, true, this._root.utc);\r\n                    break;\r\n                case \"Z\":\r\n                case \"ZZ\":\r\n                    let timezone = this._root.utc ? \"UTC\" : this._root.timezone;\r\n                    if (timezone instanceof Timezone) {\r\n                        timezone = timezone.name;\r\n                    }\r\n                    const offset = timezone ? $utils.getTimezoneOffset(timezone) : date.getTimezoneOffset();\r\n                    let tz = Math.abs(offset) / 60;\r\n                    let tzh = Math.floor(tz);\r\n                    let tzm = tz * 60 - tzh * 60;\r\n                    if (this._root.utc) {\r\n                        tzh = 0;\r\n                        tzm = 0;\r\n                    }\r\n                    if (info.parts[i] == \"Z\") {\r\n                        value = \"GMT\";\r\n                        value += offset > 0 ? \"-\" : \"+\";\r\n                        value += $utils.padString(tzh, 2) + \":\" + $utils.padString(tzm, 2);\r\n                    }\r\n                    else {\r\n                        value = offset > 0 ? \"-\" : \"+\";\r\n                        value += $utils.padString(tzh, 2) + $utils.padString(tzm, 2);\r\n                    }\r\n                    break;\r\n                case \"i\":\r\n                    value = date.toISOString();\r\n                    break;\r\n                case \"I\":\r\n                    value = date.toUTCString();\r\n                    break;\r\n            }\r\n            res = res.replace($type.PLACEHOLDER, value);\r\n        }\r\n        return res;\r\n    }\r\n    /**\r\n     * Parses format into structured infromation.\r\n     *\r\n     * @param format Format template\r\n     */\r\n    parseFormat(format) {\r\n        // Check cache\r\n        // TODO: implement caching of the parsed format\r\n        // Init format parse info holder\r\n        let info = {\r\n            \"template\": \"\",\r\n            \"parts\": []\r\n        };\r\n        // Let TextFormatter split into chunks\r\n        let chunks = TextFormatter.chunk(format, true);\r\n        for (let i = 0; i < chunks.length; i++) {\r\n            let chunk = chunks[i];\r\n            if (chunk.type === \"value\") {\r\n                // Just \"Date\"?\r\n                if (chunk.text.match(/^date$/i)) {\r\n                    let dateFormat = this.get(\"dateFormat\", \"yyyy-MM-dd\");\r\n                    if (!$type.isString(dateFormat)) {\r\n                        dateFormat = \"yyyy-MM-dd\";\r\n                    }\r\n                    chunk.text = dateFormat;\r\n                }\r\n                // Find all possible parts\r\n                let matches = chunk.text.match(/G|yyyy|yyy|yy|y|YYYY|YYY|YY|Y|u|q|MMMMM|MMMM|MMM|MM|M|ww|w|W|dd|d|DDD|DD|D|F|g|EEEEE|EEEE|EEE|EE|E|eeeee|eeee|eee|ee|e|aaa|aa|a|hh|h|HH|H|KK|K|kk|k|mm|m|ss|s|SSS|SS|S|A|zzzz|zzz|zz|z|ZZ|Z|t|x|nnn|nn|n|i|I/g);\r\n                // Found?\r\n                if (matches) {\r\n                    // Populate template\r\n                    for (let x = 0; x < matches.length; x++) {\r\n                        info.parts.push(matches[x]);\r\n                        chunk.text = chunk.text.replace(matches[x], $type.PLACEHOLDER);\r\n                    }\r\n                }\r\n            }\r\n            // Apply to template\r\n            info.template += chunk.text;\r\n        }\r\n        // Save cache\r\n        // TODO\r\n        return info;\r\n    }\r\n    _months() {\r\n        return [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"];\r\n    }\r\n    _getMonth(index) {\r\n        return this._months()[index];\r\n    }\r\n    _shortMonths() {\r\n        return [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May(short)\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"];\r\n    }\r\n    _getShortMonth(index) {\r\n        return this._shortMonths()[index];\r\n    }\r\n    _weekdays() {\r\n        return [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"];\r\n    }\r\n    _getWeekday(index) {\r\n        return this._weekdays()[index];\r\n    }\r\n    _shortWeekdays() {\r\n        return [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"];\r\n    }\r\n    _getShortWeekday(index) {\r\n        return this._shortWeekdays()[index];\r\n    }\r\n    parse(source, format) {\r\n        // Is it already a Date\r\n        if (source instanceof Date) {\r\n            return source;\r\n        }\r\n        // Is it a numeric timestamp\r\n        if ($type.isNumber(source)) {\r\n            return new Date(source);\r\n        }\r\n        // No? Let's check if it's string, and try converting to it if nec\r\n        if (!$type.isString(source)) {\r\n            source = source.toString();\r\n        }\r\n        // Init return value\r\n        let res;\r\n        // Init RegEx for parsing\r\n        let reg = \"\";\r\n        // Clean format\r\n        format = $utils.cleanFormat(format);\r\n        // Clip format to length of the source string\r\n        format = format.substr(0, source.length);\r\n        // Parse format\r\n        let info = this.parseFormat(format);\r\n        // Init parsed items holder\r\n        let parsedIndexes = {\r\n            \"year\": -1,\r\n            \"year3\": -1,\r\n            \"year2\": -1,\r\n            \"year1\": -1,\r\n            \"month\": -1,\r\n            \"monthShort\": -1,\r\n            \"monthLong\": -1,\r\n            \"weekdayShort\": -1,\r\n            \"weekdayLong\": -1,\r\n            \"day\": -1,\r\n            \"yearDay\": -1,\r\n            \"week\": -1,\r\n            \"hourBase0\": -1,\r\n            \"hour12Base0\": -1,\r\n            \"hourBase1\": -1,\r\n            \"hour12Base1\": -1,\r\n            \"minute\": -1,\r\n            \"second\": -1,\r\n            \"millisecond\": -1,\r\n            \"millisecondDigits\": -1,\r\n            \"am\": -1,\r\n            \"zone\": -1,\r\n            \"timestamp\": -1,\r\n            \"iso\": -1\r\n        };\r\n        // Init values\r\n        let resValues = {\r\n            \"year\": 1970,\r\n            \"month\": 0,\r\n            \"day\": 1,\r\n            \"hour\": 0,\r\n            \"minute\": 0,\r\n            \"second\": 0,\r\n            \"millisecond\": 0,\r\n            \"timestamp\": null,\r\n            \"offset\": 0,\r\n            \"utc\": this._root.utc\r\n        };\r\n        // Index adjuster\r\n        let indexAdjust = 0;\r\n        let index = 0;\r\n        // Iterate through all of the parts\r\n        for (let i = 0; i < info.parts.length; i++) {\r\n            // Set current match index\r\n            index = i + indexAdjust + 1;\r\n            switch (info.parts[i]) {\r\n                case \"yyyy\":\r\n                case \"YYYY\":\r\n                    reg += \"([0-9]{4})\";\r\n                    parsedIndexes.year = index;\r\n                    break;\r\n                case \"yyy\":\r\n                case \"YYY\":\r\n                    reg += \"([0-9]{3})\";\r\n                    parsedIndexes.year3 = index;\r\n                    break;\r\n                case \"yy\":\r\n                case \"YY\":\r\n                    reg += \"([0-9]{2})\";\r\n                    parsedIndexes.year2 = index;\r\n                    break;\r\n                case \"y\":\r\n                case \"Y\":\r\n                    reg += \"([0-9]{1})\";\r\n                    parsedIndexes.year1 = index;\r\n                    break;\r\n                case \"MMMM\":\r\n                    reg += \"(\" + this.getStringList(this._months()).join(\"|\") + \")\";\r\n                    parsedIndexes.monthLong = index;\r\n                    break;\r\n                case \"MMM\":\r\n                    reg += \"(\" + this.getStringList(this._shortMonths()).join(\"|\") + \")\";\r\n                    parsedIndexes.monthShort = index;\r\n                    break;\r\n                case \"MM\":\r\n                case \"M\":\r\n                    reg += \"([0-9]{2}|[0-9]{1})\";\r\n                    parsedIndexes.month = index;\r\n                    break;\r\n                case \"ww\":\r\n                case \"w\":\r\n                    reg += \"([0-9]{2}|[0-9]{1})\";\r\n                    parsedIndexes.week = index;\r\n                    break;\r\n                case \"dd\":\r\n                case \"d\":\r\n                    reg += \"([0-9]{2}|[0-9]{1})\";\r\n                    parsedIndexes.day = index;\r\n                    break;\r\n                case \"DDD\":\r\n                case \"DD\":\r\n                case \"D\":\r\n                    reg += \"([0-9]{3}|[0-9]{2}|[0-9]{1})\";\r\n                    parsedIndexes.yearDay = index;\r\n                    break;\r\n                case \"dddd\":\r\n                    reg += \"(\" + this.getStringList(this._weekdays()).join(\"|\") + \")\";\r\n                    parsedIndexes.weekdayLong = index;\r\n                    break;\r\n                case \"ddd\":\r\n                    reg += \"(\" + this.getStringList(this._shortWeekdays()).join(\"|\") + \")\";\r\n                    parsedIndexes.weekdayShort = index;\r\n                    break;\r\n                case \"aaa\":\r\n                case \"aa\":\r\n                case \"a\":\r\n                    // TODO: fix (escape regex)\r\n                    reg += \"(\" + this.getStringList([\"AM\", \"PM\", \"A\\.M\\.\", \"P\\.M\\.\", \"A\", \"P\"]).join(\"|\") + \")\";\r\n                    parsedIndexes.am = index;\r\n                    break;\r\n                case \"hh\":\r\n                case \"h\":\r\n                    reg += \"([0-9]{2}|[0-9]{1})\";\r\n                    parsedIndexes.hour12Base1 = index;\r\n                    break;\r\n                case \"HH\":\r\n                case \"H\":\r\n                    reg += \"([0-9]{2}|[0-9]{1})\";\r\n                    parsedIndexes.hourBase0 = index;\r\n                    break;\r\n                case \"KK\":\r\n                case \"K\":\r\n                    reg += \"([0-9]{2}|[0-9]{1})\";\r\n                    parsedIndexes.hour12Base0 = index;\r\n                    break;\r\n                case \"kk\":\r\n                case \"k\":\r\n                    reg += \"([0-9]{2}|[0-9]{1})\";\r\n                    parsedIndexes.hourBase1 = index;\r\n                    break;\r\n                case \"mm\":\r\n                case \"m\":\r\n                    reg += \"([0-9]{2}|[0-9]{1})\";\r\n                    parsedIndexes.minute = index;\r\n                    break;\r\n                case \"ss\":\r\n                case \"s\":\r\n                    reg += \"([0-9]{2}|[0-9]{1})\";\r\n                    parsedIndexes.second = index;\r\n                    break;\r\n                case \"SSS\":\r\n                case \"SS\":\r\n                case \"S\":\r\n                    reg += \"([0-9]{3}|[0-9]{2}|[0-9]{1})\";\r\n                    parsedIndexes.millisecond = index;\r\n                    parsedIndexes.millisecondDigits = info.parts[i].length;\r\n                    break;\r\n                case \"nnn\":\r\n                case \"nn\":\r\n                case \"n\":\r\n                    reg += \"([0-9]{3}|[0-9]{2}|[0-9]{1})\";\r\n                    parsedIndexes.millisecond = index;\r\n                    break;\r\n                case \"x\":\r\n                    reg += \"([0-9]{1,})\";\r\n                    parsedIndexes.timestamp = index;\r\n                    break;\r\n                case \"Z\":\r\n                    reg += \"GMT([-+]+[0-9]{2}:[0-9]{2})\";\r\n                    parsedIndexes.zone = index;\r\n                    break;\r\n                case \"ZZ\":\r\n                    reg += \"([\\\\-+]+[0-9]{2}[0-9]{2})\";\r\n                    parsedIndexes.zone = index;\r\n                    break;\r\n                case \"i\":\r\n                    reg += \"([0-9]{4})-?([0-9]{2})-?([0-9]{2})T?([0-9]{2}):?([0-9]{2}):?([0-9]{2})\\\\.?([0-9]{0,3})([zZ]|[+\\\\-][0-9]{2}:?[0-9]{2}|$)\";\r\n                    parsedIndexes.iso = index;\r\n                    indexAdjust += 7;\r\n                    break;\r\n                case \"G\":\r\n                case \"YYYY\":\r\n                case \"YYY\":\r\n                case \"YY\":\r\n                case \"Y\":\r\n                case \"MMMMM\":\r\n                case \"W\":\r\n                case \"EEEEE\":\r\n                case \"EEEE\":\r\n                case \"EEE\":\r\n                case \"EE\":\r\n                case \"E\":\r\n                case \"eeeee\":\r\n                case \"eeee\":\r\n                case \"eee\":\r\n                case \"ee\":\r\n                case \"e\":\r\n                case \"zzzz\":\r\n                case \"zzz\":\r\n                case \"zz\":\r\n                case \"z\":\r\n                case \"t\":\r\n                    // Ignore\r\n                    indexAdjust--;\r\n                    break;\r\n            }\r\n            reg += \"[^0-9]*\";\r\n        }\r\n        // Try matching\r\n        let regex = new RegExp(reg);\r\n        let matches = source.match(regex);\r\n        if (matches) {\r\n            // Populate the date object\r\n            // Full year\r\n            if (parsedIndexes.year > -1) {\r\n                resValues.year = parseInt(matches[parsedIndexes.year]);\r\n            }\r\n            // 3-digit year\r\n            if (parsedIndexes.year3 > -1) {\r\n                let val = parseInt(matches[parsedIndexes.year3]);\r\n                val += 1000;\r\n                resValues.year = val;\r\n            }\r\n            // 2-digit year\r\n            if (parsedIndexes.year2 > -1) {\r\n                let val = parseInt(matches[parsedIndexes.year2]);\r\n                if (val > 50) {\r\n                    val += 1000;\r\n                }\r\n                else {\r\n                    val += 2000;\r\n                }\r\n                resValues.year = val;\r\n            }\r\n            // 1-digit year\r\n            if (parsedIndexes.year1 > -1) {\r\n                let val = parseInt(matches[parsedIndexes.year1]);\r\n                val = Math.floor((new Date().getFullYear()) / 10) * 10 + val;\r\n                resValues.year = val;\r\n            }\r\n            // Full month\r\n            if (parsedIndexes.monthLong > -1) {\r\n                resValues.month = this.resolveMonth(matches[parsedIndexes.monthLong]);\r\n            }\r\n            // Short month\r\n            if (parsedIndexes.monthShort > -1) {\r\n                resValues.month = this.resolveShortMonth(matches[parsedIndexes.monthShort]);\r\n            }\r\n            // Numeric month\r\n            if (parsedIndexes.month > -1) {\r\n                resValues.month = parseInt(matches[parsedIndexes.month]) - 1;\r\n            }\r\n            // Weekday\r\n            // @todo\r\n            // Week\r\n            if ((parsedIndexes.week > -1) && (parsedIndexes.day === -1)) {\r\n                // We parse weeks ONLY if day is not explicitly set\r\n                // TODO: this needs work\r\n                // (but maybe later - I can hardly imagine anyone passing their dates in weeks)\r\n                resValues.month = 0;\r\n                resValues.day = $utils.getDayFromWeek(parseInt(matches[parsedIndexes.week]), resValues.year, 1, this._root.utc);\r\n            }\r\n            // Day\r\n            if (parsedIndexes.day > -1) {\r\n                resValues.day = parseInt(matches[parsedIndexes.day]);\r\n            }\r\n            // Year day\r\n            if (parsedIndexes.yearDay > -1) {\r\n                resValues.month = 0;\r\n                resValues.day = parseInt(matches[parsedIndexes.yearDay]);\r\n            }\r\n            // 24 Hour (0-23)\r\n            if (parsedIndexes.hourBase0 > -1) {\r\n                resValues.hour = parseInt(matches[parsedIndexes.hourBase0]);\r\n            }\r\n            // 24 Hour (1-24)\r\n            if (parsedIndexes.hourBase1 > -1) {\r\n                resValues.hour = parseInt(matches[parsedIndexes.hourBase1]) - 1;\r\n            }\r\n            // 12 Hour (0-11)\r\n            if (parsedIndexes.hour12Base0 > -1) {\r\n                let val = parseInt(matches[parsedIndexes.hour12Base0]);\r\n                if (val == 11) {\r\n                    val = 0;\r\n                }\r\n                if ((parsedIndexes.am > -1) && !this.isAm(matches[parsedIndexes.am])) {\r\n                    val += 12;\r\n                }\r\n                resValues.hour = val;\r\n            }\r\n            // 12 Hour (1-12)\r\n            if (parsedIndexes.hour12Base1 > -1) {\r\n                let val = parseInt(matches[parsedIndexes.hour12Base1]);\r\n                if (val == 12) {\r\n                    val = 0;\r\n                }\r\n                if ((parsedIndexes.am > -1) && !this.isAm(matches[parsedIndexes.am])) {\r\n                    val += 12;\r\n                }\r\n                resValues.hour = val;\r\n            }\r\n            // Minute\r\n            if (parsedIndexes.minute > -1) {\r\n                resValues.minute = parseInt(matches[parsedIndexes.minute]);\r\n            }\r\n            // Second\r\n            if (parsedIndexes.second > -1) {\r\n                resValues.second = parseInt(matches[parsedIndexes.second]);\r\n            }\r\n            // Millisecond\r\n            if (parsedIndexes.millisecond > -1) {\r\n                let val = parseInt(matches[parsedIndexes.millisecond]);\r\n                if (parsedIndexes.millisecondDigits == 2) {\r\n                    val *= 10;\r\n                }\r\n                else if (parsedIndexes.millisecondDigits == 1) {\r\n                    val *= 100;\r\n                }\r\n                resValues.millisecond = val;\r\n            }\r\n            // Timestamp\r\n            if (parsedIndexes.timestamp > -1) {\r\n                resValues.timestamp = parseInt(matches[parsedIndexes.timestamp]);\r\n                const ts = new Date(resValues.timestamp);\r\n                resValues.year = ts.getUTCFullYear();\r\n                resValues.month = ts.getUTCMonth();\r\n                resValues.day = ts.getUTCDate();\r\n                resValues.hour = ts.getUTCHours();\r\n                resValues.minute = ts.getUTCMinutes();\r\n                resValues.second = ts.getUTCSeconds();\r\n                resValues.millisecond = ts.getUTCMilliseconds();\r\n            }\r\n            // Adjust time zone\r\n            if (parsedIndexes.zone > -1) {\r\n                resValues.offset = this.resolveTimezoneOffset(new Date(resValues.year, resValues.month, resValues.day), matches[parsedIndexes.zone]);\r\n            }\r\n            // ISO\r\n            if (parsedIndexes.iso > -1) {\r\n                resValues.year = $type.toNumber(matches[parsedIndexes.iso + 0]);\r\n                resValues.month = $type.toNumber(matches[parsedIndexes.iso + 1]) - 1;\r\n                resValues.day = $type.toNumber(matches[parsedIndexes.iso + 2]);\r\n                resValues.hour = $type.toNumber(matches[parsedIndexes.iso + 3]);\r\n                resValues.minute = $type.toNumber(matches[parsedIndexes.iso + 4]);\r\n                resValues.second = $type.toNumber(matches[parsedIndexes.iso + 5]);\r\n                resValues.millisecond = $type.toNumber(matches[parsedIndexes.iso + 6]);\r\n                if (matches[parsedIndexes.iso + 7] == \"Z\" || matches[parsedIndexes.iso + 7] == \"z\") {\r\n                    resValues.utc = true;\r\n                }\r\n                else if (matches[parsedIndexes.iso + 7] != \"\") {\r\n                    resValues.offset = this.resolveTimezoneOffset(new Date(resValues.year, resValues.month, resValues.day), matches[parsedIndexes.iso + 7]);\r\n                }\r\n            }\r\n            // Create Date object\r\n            if (resValues.utc) {\r\n                res = new Date(Date.UTC(resValues.year, resValues.month, resValues.day, resValues.hour, resValues.minute, resValues.second, resValues.millisecond));\r\n            }\r\n            else {\r\n                res = new Date(resValues.year, resValues.month, resValues.day, resValues.hour, resValues.minute + resValues.offset, resValues.second, resValues.millisecond);\r\n            }\r\n        }\r\n        else {\r\n            // Didn't match anything\r\n            // Let's try dropping it into Date constructor and hope for the best\r\n            res = new Date(source);\r\n        }\r\n        return res;\r\n    }\r\n    resolveTimezoneOffset(date, zone) {\r\n        let value = zone.match(/([+\\-]?)([0-9]{2}):?([0-9]{2})/);\r\n        if (value) {\r\n            let match = zone.match(/([+\\-]?)([0-9]{2}):?([0-9]{2})/);\r\n            let dir = match[1];\r\n            let hour = match[2];\r\n            let minute = match[3];\r\n            let offset = parseInt(hour) * 60 + parseInt(minute);\r\n            // Adjust offset\r\n            // Making it negative does not seem to make sense, but it's right\r\n            // because of how JavaScript calculates GMT offsets\r\n            if (dir == \"+\") {\r\n                offset *= -1;\r\n            }\r\n            // Check the difference in offset\r\n            let originalOffset = (date || new Date()).getTimezoneOffset();\r\n            let diff = offset - originalOffset;\r\n            return diff;\r\n        }\r\n        return 0;\r\n    }\r\n    /**\r\n     * Resolves month name (i.e. \"December\") into a month number (11).\r\n     *\r\n     * @param value  Month name\r\n     * @return Month number\r\n     */\r\n    resolveMonth(value) {\r\n        // Let's try English first\r\n        let month = this._months().indexOf(value);\r\n        if (month > -1) {\r\n            return month;\r\n        }\r\n        // Try the translation\r\n        if (!this._root.language.isDefault()) {\r\n            month = this._root.language.translateAll(this._months()).indexOf(value);\r\n            if (month > -1) {\r\n                return month;\r\n            }\r\n        }\r\n        return 0;\r\n    }\r\n    /**\r\n     * Resolves short month name (i.e. \"Dec\") into a month number.\r\n     *\r\n     * @param value  Short month name\r\n     * @return Month number\r\n     */\r\n    resolveShortMonth(value) {\r\n        // Let's try English first\r\n        let month = this._shortMonths().indexOf(value);\r\n        if (month > -1) {\r\n            return month;\r\n        }\r\n        // Maybe long month (workaround for May)\r\n        month = this._months().indexOf(value);\r\n        if (month > -1) {\r\n            return month;\r\n        }\r\n        // Try the translation\r\n        if (this._root.language && !this._root.language.isDefault()) {\r\n            month = this._root.language.translateAll(this._shortMonths()).indexOf(value);\r\n            if (month > -1) {\r\n                return month;\r\n            }\r\n        }\r\n        return 0;\r\n    }\r\n    /**\r\n     * Checks if passed in string represents AM/PM notation in many of its\r\n     * versions.\r\n     *\r\n     * @param value  Source string\r\n     * @return Is it AM/PM?\r\n     */\r\n    isAm(value) {\r\n        let list = this.getStringList([\"AM\", \"A.M.\", \"A\"]);\r\n        return list.indexOf(value.toUpperCase()) > -1;\r\n    }\r\n    /**\r\n     * Translates list of strings.\r\n     *\r\n     * @param list  Source strings\r\n     * @return Translated strings\r\n     */\r\n    getStringList(list) {\r\n        let res = [];\r\n        for (let i = 0; i < list.length; i++) {\r\n            // translate?\r\n            if (this._root.language) {\r\n                res.push($utils.escapeForRgex(this._t(list[i])));\r\n            }\r\n            else {\r\n                res.push($utils.escapeForRgex(list[i]));\r\n            }\r\n        }\r\n        return res;\r\n    }\r\n}\r\n","/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport * as $array from \"./Array\";\r\n/**\r\n * A base class for disposable objects.\r\n *\r\n * @ignore Exclude from docs\r\n */\r\nexport class DisposerClass {\r\n    /**\r\n     * Constructor.\r\n     */\r\n    constructor() {\r\n        /**\r\n         * Is object disposed?\r\n         */\r\n        Object.defineProperty(this, \"_disposed\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        this._disposed = false;\r\n    }\r\n    /**\r\n     * Checks if object is disposed.\r\n     *\r\n     * @return Disposed?\r\n     */\r\n    isDisposed() {\r\n        return this._disposed;\r\n    }\r\n    /**\r\n     * Disposes the object.\r\n     */\r\n    dispose() {\r\n        if (!this._disposed) {\r\n            this._disposed = true;\r\n            this._dispose();\r\n        }\r\n    }\r\n}\r\n/**\r\n * A class for creating an IDisposer.\r\n *\r\n * @ignore Exclude from docs\r\n */\r\nexport class Disposer {\r\n    /**\r\n     * Constructor.\r\n     *\r\n     * @param dispose  Function that disposes object\r\n     */\r\n    constructor(dispose) {\r\n        /**\r\n         * Is object disposed?\r\n         */\r\n        Object.defineProperty(this, \"_disposed\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        /**\r\n         * Method that disposes the object.\r\n         */\r\n        Object.defineProperty(this, \"_dispose\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        this._disposed = false;\r\n        this._dispose = dispose;\r\n    }\r\n    /**\r\n     * Checks if object is disposed.\r\n     *\r\n     * @return Disposed?\r\n     */\r\n    isDisposed() {\r\n        return this._disposed;\r\n    }\r\n    /**\r\n     * Disposes the object.\r\n     */\r\n    dispose() {\r\n        if (!this._disposed) {\r\n            this._disposed = true;\r\n            this._dispose();\r\n        }\r\n    }\r\n}\r\n/**\r\n * This can be extended by other classes to add a `_disposers` property.\r\n *\r\n * @ignore Exclude from docs\r\n */\r\nexport class ArrayDisposer extends DisposerClass {\r\n    constructor() {\r\n        super(...arguments);\r\n        Object.defineProperty(this, \"_disposers\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n    }\r\n    _dispose() {\r\n        $array.each(this._disposers, (x) => {\r\n            x.dispose();\r\n        });\r\n    }\r\n}\r\n/**\r\n * A collection of related disposers that can be disposed in one go.\r\n *\r\n * @ignore Exclude from docs\r\n */\r\nexport class MultiDisposer extends DisposerClass {\r\n    constructor(disposers) {\r\n        super();\r\n        Object.defineProperty(this, \"_disposers\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        this._disposers = disposers;\r\n    }\r\n    _dispose() {\r\n        $array.each(this._disposers, (x) => {\r\n            x.dispose();\r\n        });\r\n    }\r\n    get disposers() {\r\n        return this._disposers;\r\n    }\r\n}\r\n/**\r\n * A special kind of Disposer that has attached value set.\r\n *\r\n * If a new value is set using `set()` method, the old disposer value is\r\n * disposed.\r\n *\r\n * @ignore Exclude from docs\r\n * @todo Description\r\n */\r\nexport class MutableValueDisposer extends DisposerClass {\r\n    constructor() {\r\n        super(...arguments);\r\n        /**\r\n         * Current disposer.\r\n         */\r\n        Object.defineProperty(this, \"_disposer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        /**\r\n         * Current value.\r\n         */\r\n        Object.defineProperty(this, \"_value\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n    }\r\n    _dispose() {\r\n        if (this._disposer != null) {\r\n            this._disposer.dispose();\r\n            this._disposer = undefined;\r\n        }\r\n    }\r\n    /**\r\n     * Returns current value.\r\n     *\r\n     * @return Value\r\n     */\r\n    get() {\r\n        return this._value;\r\n    }\r\n    /**\r\n     * Sets value and disposes previous disposer if it was set.\r\n     *\r\n     * @param value     New value\r\n     * @param disposer  Disposer\r\n     */\r\n    set(value, disposer) {\r\n        if (this._disposer != null) {\r\n            this._disposer.dispose();\r\n        }\r\n        this._disposer = disposer;\r\n        this._value = value;\r\n    }\r\n    /**\r\n     * Resets the disposer value.\r\n     */\r\n    reset() {\r\n        this.set(undefined, undefined);\r\n    }\r\n}\r\n/**\r\n * @ignore Exclude from docs\r\n * @todo Description\r\n */\r\nexport class CounterDisposer extends Disposer {\r\n    constructor() {\r\n        super(...arguments);\r\n        /**\r\n         * [_counter description]\r\n         *\r\n         * @todo Description\r\n         */\r\n        Object.defineProperty(this, \"_counter\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n    }\r\n    /**\r\n     * [increment description]\r\n     *\r\n     * @todo Description\r\n     */\r\n    increment() {\r\n        // TODO throw an error if it is disposed\r\n        ++this._counter;\r\n        // TODO make this more efficient\r\n        return new Disposer(() => {\r\n            --this._counter;\r\n            if (this._counter === 0) {\r\n                this.dispose();\r\n            }\r\n        });\r\n    }\r\n}\r\n","import { Entity } from \"./Entity\";\r\nimport { TextFormatter } from \"./TextFormatter\";\r\nimport * as $object from \"./Object\";\r\nimport * as $utils from \"./Utils\";\r\nimport * as $type from \"./Type\";\r\n/**\r\n * A class used to format numberic values as time duration.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/formatters/formatting-durations/} for more info\r\n */\r\nexport class DurationFormatter extends Entity {\r\n    constructor() {\r\n        super(...arguments);\r\n        /**\r\n         * Collection of aliases for units.\r\n         */\r\n        Object.defineProperty(this, \"_unitAliases\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {\r\n                \"Y\": \"y\",\r\n                \"D\": \"d\",\r\n                \"H\": \"h\",\r\n                \"K\": \"h\",\r\n                \"k\": \"h\",\r\n                \"n\": \"S\"\r\n            }\r\n        });\r\n    }\r\n    _setDefaults() {\r\n        const dmillisecond = \"_duration_millisecond\";\r\n        const dsecond = \"_duration_second\";\r\n        const dminute = \"_duration_minute\";\r\n        const dhour = \"_duration_hour\";\r\n        const dday = \"_duration_day\";\r\n        const dweek = \"_duration_week\";\r\n        const dmonth = \"_duration_month\";\r\n        const dyear = \"_duration_year\";\r\n        const asecond = \"_second\";\r\n        const aminute = \"_minute\";\r\n        const ahour = \"_hour\";\r\n        const aday = \"_day\";\r\n        const aweek = \"_week\";\r\n        const amonth = \"_week\";\r\n        const ayear = \"_year\";\r\n        // Defaults\r\n        this._setDefault(\"negativeBase\", 0);\r\n        this._setDefault(\"baseUnit\", \"second\");\r\n        this._setDefault(\"durationFormats\", {\r\n            \"millisecond\": {\r\n                \"millisecond\": this._t(dmillisecond),\r\n                \"second\": this._t((dmillisecond + asecond)),\r\n                \"minute\": this._t((dmillisecond + aminute)),\r\n                \"hour\": this._t((dmillisecond + ahour)),\r\n                \"day\": this._t((dmillisecond + aday)),\r\n                \"week\": this._t((dmillisecond + aweek)),\r\n                \"month\": this._t((dmillisecond + amonth)),\r\n                \"year\": this._t((dmillisecond + ayear))\r\n            },\r\n            \"second\": {\r\n                \"second\": this._t((dsecond)),\r\n                \"minute\": this._t((dsecond + aminute)),\r\n                \"hour\": this._t((dsecond + ahour)),\r\n                \"day\": this._t((dsecond + aday)),\r\n                \"week\": this._t((dsecond + aweek)),\r\n                \"month\": this._t((dsecond + amonth)),\r\n                \"year\": this._t((dsecond + ayear))\r\n            },\r\n            \"minute\": {\r\n                \"minute\": this._t((dminute)),\r\n                \"hour\": this._t((dminute + ahour)),\r\n                \"day\": this._t((dminute + aday)),\r\n                \"week\": this._t((dminute + aweek)),\r\n                \"month\": this._t((dminute + amonth)),\r\n                \"year\": this._t((dminute + ayear))\r\n            },\r\n            \"hour\": {\r\n                \"hour\": this._t((dhour)),\r\n                \"day\": this._t((dhour + aday)),\r\n                \"week\": this._t((dhour + aweek)),\r\n                \"month\": this._t((dhour + amonth)),\r\n                \"year\": this._t((dhour + ayear))\r\n            },\r\n            \"day\": {\r\n                \"day\": this._t((dday)),\r\n                \"week\": this._t((dday + aweek)),\r\n                \"month\": this._t((dday + amonth)),\r\n                \"year\": this._t((dday + ayear))\r\n            },\r\n            \"week\": {\r\n                \"week\": this._t((dweek)),\r\n                \"month\": this._t((dweek + amonth)),\r\n                \"year\": this._t((dweek + ayear))\r\n            },\r\n            \"month\": {\r\n                \"month\": this._t((dmonth)),\r\n                \"year\": this._t((dmonth + ayear))\r\n            },\r\n            \"year\": {\r\n                \"year\": this._t(dyear)\r\n            }\r\n        });\r\n        super._setDefaults();\r\n    }\r\n    _beforeChanged() {\r\n        super._beforeChanged();\r\n    }\r\n    /**\r\n     * Formats the number as duration.\r\n     *\r\n     * For example `1000` (base unit seconds) would be converted to `16:40` as in\r\n     * 16 minutes and 40 seconds.\r\n     *\r\n     * @param value   Value to format\r\n     * @param format  Format to apply\r\n     * @param base    Override base unit\r\n     * @return Formatted number\r\n     */\r\n    format(value, format, base) {\r\n        // no base unit?\r\n        let baseUnit = base || this.get(\"baseUnit\");\r\n        // no format passed in or empty\r\n        if (typeof format === \"undefined\" || format === \"\") {\r\n            if (this.get(\"durationFormat\") != null) {\r\n                format = this.get(\"durationFormat\");\r\n            }\r\n            else {\r\n                format = this.getFormat($type.toNumber(value), undefined, baseUnit);\r\n            }\r\n        }\r\n        // Clean format\r\n        format = $utils.cleanFormat(format);\r\n        // get format info (it will also deal with parser caching)\r\n        let info = this.parseFormat(format, baseUnit);\r\n        // cast to number just in case\r\n        // TODO: maybe use better casting\r\n        let source = Number(value);\r\n        // format and replace the number\r\n        let details;\r\n        if (source > this.get(\"negativeBase\")) {\r\n            details = info.positive;\r\n        }\r\n        else if (source < this.get(\"negativeBase\")) {\r\n            details = info.negative;\r\n        }\r\n        else {\r\n            details = info.zero;\r\n        }\r\n        // Format\r\n        let formatted = this.applyFormat(source, details);\r\n        // Apply color?\r\n        if (details.color !== \"\") {\r\n            formatted = \"[\" + details.color + \"]\" + formatted + \"[/]\";\r\n        }\r\n        return formatted;\r\n    }\r\n    /**\r\n     * Parses supplied format into structured object which can be used to format\r\n     * the number.\r\n     *\r\n     * @param format  Format string, i.e. \"#,###.00\"\r\n     * @param base    Override base unit\r\n     * @return Parsed information\r\n     */\r\n    parseFormat(format, base) {\r\n        // Check cache\r\n        // TODO\r\n        // let cached = this.getCache(format);\r\n        // if (cached != null) {\r\n        // \treturn cached;\r\n        // }\r\n        // no base unit?\r\n        let baseUnit = base || this.get(\"baseUnit\");\r\n        // Initialize duration parsing info\r\n        let info = {\r\n            \"positive\": {\r\n                \"color\": \"\",\r\n                \"template\": \"\",\r\n                \"parts\": [],\r\n                \"source\": \"\",\r\n                \"baseUnit\": baseUnit,\r\n                \"parsed\": false,\r\n                \"absolute\": false\r\n            },\r\n            \"negative\": {\r\n                \"color\": \"\",\r\n                \"template\": \"\",\r\n                \"parts\": [],\r\n                \"source\": \"\",\r\n                \"baseUnit\": baseUnit,\r\n                \"parsed\": false,\r\n                \"absolute\": false\r\n            },\r\n            \"zero\": {\r\n                \"color\": \"\",\r\n                \"template\": \"\",\r\n                \"parts\": [],\r\n                \"source\": \"\",\r\n                \"baseUnit\": baseUnit,\r\n                \"parsed\": false,\r\n                \"absolute\": false\r\n            }\r\n        };\r\n        // Escape double vertical bars (that mean display one vertical bar)\r\n        format = format.replace(\"||\", $type.PLACEHOLDER2);\r\n        // Split it up and deal with different formats\r\n        let parts = format.split(\"|\");\r\n        info.positive.source = parts[0];\r\n        if (typeof parts[2] === \"undefined\") {\r\n            info.zero = info.positive;\r\n        }\r\n        else {\r\n            info.zero.source = parts[2];\r\n        }\r\n        if (typeof parts[1] === \"undefined\") {\r\n            info.negative = info.positive;\r\n        }\r\n        else {\r\n            info.negative.source = parts[1];\r\n        }\r\n        // Parse each\r\n        $object.each(info, (_part, item) => {\r\n            // Already parsed\r\n            if (item.parsed) {\r\n                return;\r\n            }\r\n            // Check cached\r\n            // TODO\r\n            // if (typeof this.getCache(item.source) !== \"undefined\") {\r\n            // \tinfo[part] = this.getCache(item.source);\r\n            // \treturn;\r\n            // }\r\n            // Begin parsing\r\n            let partFormat = item.source;\r\n            // Check for [] directives\r\n            let dirs = [];\r\n            dirs = item.source.match(/^\\[([^\\]]*)\\]/);\r\n            if (dirs && dirs.length && dirs[0] !== \"\") {\r\n                partFormat = item.source.substr(dirs[0].length);\r\n                item.color = dirs[1];\r\n            }\r\n            // Let TextFormatter split into chunks\r\n            let chunks = TextFormatter.chunk(partFormat, true);\r\n            for (let i = 0; i < chunks.length; i++) {\r\n                let chunk = chunks[i];\r\n                // replace back double vertical bar\r\n                chunk.text = chunk.text.replace($type.PLACEHOLDER2, \"|\");\r\n                if (chunk.type === \"value\") {\r\n                    // Just \"Duration\"?\r\n                    // if (chunk.text.toLowerCase() === \"duration\") {\r\n                    // \tchunk.text = durationFormat;\r\n                    // }\r\n                    // Check for \"a\" (absolute) modifier\r\n                    if (chunk.text.match(/[yYMdDwhHKkmsSn]+a/)) {\r\n                        item.absolute = true;\r\n                        chunk.text = chunk.text.replace(/([yYMdDwhHKkmsSn]+)a/, \"$1\");\r\n                    }\r\n                    // Find all possible parts\r\n                    let matches = chunk.text.match(/y+|Y+|M+|d+|D+|w+|h+|H+|K+|k+|m+|s+|S+|n+/g);\r\n                    if (matches) {\r\n                        // Populate template\r\n                        for (let x = 0; x < matches.length; x++) {\r\n                            // Is it an alias?\r\n                            if (matches[x] == null) {\r\n                                matches[x] = this._unitAliases[matches[x]];\r\n                            }\r\n                            item.parts.push(matches[x]);\r\n                            chunk.text = chunk.text.replace(matches[x], $type.PLACEHOLDER);\r\n                        }\r\n                    }\r\n                }\r\n                // Apply to template\r\n                item.template += chunk.text;\r\n            }\r\n            // Apply style formatting\r\n            //item.template = TextFormatter.format(item.template, this.outputFormat);\r\n            // Save cache\r\n            // TODO\r\n            //this.setCache(item.source, item);\r\n            // Mark this as parsed\r\n            item.parsed = true;\r\n        });\r\n        // Save cache (the whole thing)\r\n        // TODO\r\n        //this.setCache(format, info);\r\n        return info;\r\n    }\r\n    /**\r\n     * Applies parsed format to a numeric value.\r\n     *\r\n     * @param value    Value\r\n     * @param details  Parsed format as returned by {parseFormat}\r\n     * @return Formatted duration\r\n     */\r\n    applyFormat(value, details) {\r\n        // Use absolute values\r\n        let negative = !details.absolute && (value < this.get(\"negativeBase\"));\r\n        value = Math.abs(value);\r\n        // Recalculate to milliseconds\r\n        let tstamp = this.toTimeStamp(value, details.baseUnit);\r\n        // Init return value\r\n        let res = details.template;\r\n        // Iterate through duration parts\r\n        for (let i = 0, len = details.parts.length; i < len; i++) {\r\n            // Gather the part\r\n            let part = details.parts[i];\r\n            let unit = this._toTimeUnit(part.substr(0, 1));\r\n            let digits = part.length;\r\n            // Calculate current unit value\r\n            let ints = Math.floor(tstamp / this._getUnitValue(unit));\r\n            res = res.replace($type.PLACEHOLDER, $utils.padString(ints, digits, \"0\"));\r\n            // Reduce timestamp\r\n            tstamp -= ints * this._getUnitValue(unit);\r\n        }\r\n        // Reapply negative sign\r\n        if (negative) {\r\n            res = \"-\" + res;\r\n        }\r\n        return res;\r\n    }\r\n    /**\r\n     * Converts numeric value to timestamp in milliseconds.\r\n     *\r\n     * @param value     A source value\r\n     * @param baseUnit  Base unit the source value is in: \"q\", \"s\", \"i\", \"h\", \"d\", \"w\", \"m\", \"y\"\r\n     * @return Value representation as a timestamp in milliseconds\r\n     */\r\n    toTimeStamp(value, baseUnit) {\r\n        return value * this._getUnitValue(baseUnit);\r\n    }\r\n    _toTimeUnit(code) {\r\n        switch (code) {\r\n            case \"S\":\r\n                return \"millisecond\";\r\n            case \"s\":\r\n                return \"second\";\r\n            case \"m\":\r\n                return \"minute\";\r\n            case \"h\":\r\n                return \"hour\";\r\n            case \"d\":\r\n                return \"day\";\r\n            case \"w\":\r\n                return \"week\";\r\n            case \"M\":\r\n                return \"month\";\r\n            case \"y\":\r\n                return \"year\";\r\n        }\r\n        ;\r\n    }\r\n    /**\r\n     * Returns appropriate default format for the value.\r\n     *\r\n     * If `maxValue` is sepcified, it will use that value to determine the time\r\n     * unit for the format.\r\n     *\r\n     * For example if your `baseUnit` is `\"second\"` and you pass in `10`, you\r\n     * will get `\"10\"`.\r\n     *\r\n     * However, you might want it to be formatted in the context of bigger scale,\r\n     * say 10 minutes (600 seconds). If you pass in `600` as `maxValue`, all\r\n     * values, including small ones will use format with minutes, e.g.:\r\n     * `00:10`, `00:50`, `12: 30`, etc.\r\n     *\r\n     * @param value     Value to format\r\n     * @param maxValue  Maximum value to be used to determine format\r\n     * @param baseUnit  Base unit of the value\r\n     * @return Format\r\n     */\r\n    getFormat(value, maxValue, baseUnit) {\r\n        // Is format override set?\r\n        if (this.get(\"durationFormat\") != null) {\r\n            return this.get(\"durationFormat\");\r\n        }\r\n        // Get base unit\r\n        if (!baseUnit) {\r\n            baseUnit = this.get(\"baseUnit\");\r\n        }\r\n        if (maxValue != null && value != maxValue) {\r\n            value = Math.abs(value);\r\n            maxValue = Math.abs(maxValue);\r\n            let maxUnit = this.getValueUnit(Math.max(value, maxValue), baseUnit);\r\n            //let diffUnit = this.getValueUnit(Math.abs(maxValue - value), baseUnit);\r\n            //console.log(maxUnit, diffUnit);\r\n            return this.get(\"durationFormats\")[baseUnit][maxUnit];\r\n        }\r\n        else {\r\n            let unit = this.getValueUnit(value, baseUnit);\r\n            return this.get(\"durationFormats\")[baseUnit][unit];\r\n        }\r\n    }\r\n    /**\r\n     * Returns value's closest denominator time unit, e.g 100 seconds is\r\n     * `\"minute\"`, while 59 seconds would still be `second`.\r\n     *\r\n     * @param value     Source duration value\r\n     * @param baseUnit  Base unit\r\n     * @return Denominator\r\n     */\r\n    getValueUnit(value, baseUnit) {\r\n        // Get base unit\r\n        if (!baseUnit) {\r\n            baseUnit = this.get(\"baseUnit\");\r\n        }\r\n        // Convert to milliseconds\r\n        let currentUnit;\r\n        let ms = this.getMilliseconds(value, baseUnit);\r\n        $object.eachContinue(this._getUnitValues(), (key, val) => {\r\n            if (key == baseUnit || currentUnit) {\r\n                let num = ms / val;\r\n                if (num <= 1) {\r\n                    if (!currentUnit) {\r\n                        currentUnit = key;\r\n                    }\r\n                    return false;\r\n                }\r\n                currentUnit = key;\r\n            }\r\n            return true;\r\n        });\r\n        return currentUnit;\r\n    }\r\n    /**\r\n     * Converts value to milliseconds according to `baseUnit`.\r\n     *\r\n     * @param value     Source duration value\r\n     * @param baseUnit  Base unit\r\n     * @return Value in milliseconds\r\n     */\r\n    getMilliseconds(value, baseUnit) {\r\n        // Get base unit\r\n        if (!baseUnit) {\r\n            baseUnit = this.get(\"baseUnit\");\r\n        }\r\n        return value * this._getUnitValue(baseUnit);\r\n    }\r\n    _getUnitValue(timeUnit) {\r\n        return this._getUnitValues()[timeUnit];\r\n    }\r\n    _getUnitValues() {\r\n        return {\r\n            \"millisecond\": 1,\r\n            \"second\": 1000,\r\n            \"minute\": 60000,\r\n            \"hour\": 3600000,\r\n            \"day\": 86400000,\r\n            \"week\": 604800000,\r\n            \"month\": 2592000000,\r\n            \"year\": 31536000000,\r\n        };\r\n    }\r\n}\r\n","/**\r\n * A collection of easing functions\r\n *\r\n * Parts of this collection are taken from D3.js library (https://d3js.org/)\r\n */\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport * as $math from \"./Math\";\r\n/**\r\n * The functions below are from D3.js library (https://d3js.org/)\r\n *\r\n * ----------------------------------------------------------------------------\r\n * Copyright 2017 Mike Bostock\r\n *\r\n * Redistribution and use in source and binary forms, with or without\r\n * modification, are permitted provided that the following conditions are met:\r\n *\r\n * 1. Redistributions of source code must retain the above copyright notice,\r\n *\tthis list of conditions and the following disclaimer.\r\n *\r\n * 2. Redistributions in binary form must reproduce the above copyright notice,\r\n *\tthis list of conditions and the following disclaimer in the documentation\r\n *\tand/or other materials provided with the distribution.\r\n *\r\n * 3. Neither the name of the copyright holder nor the names of its\r\n *\tcontributors may be used to endorse or promote products derived from this\r\n *\tsoftware without specific prior written permission.\r\n *\r\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\r\n * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\r\n * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\r\n * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE\r\n * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\r\n * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\r\n * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\r\n * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\r\n * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\r\n * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\r\n * POSSIBILITY OF SUCH DAMAGE.\r\n * ----------------------------------------------------------------------------\r\n * @hidden\r\n */\r\n/**\r\n */\r\nexport function linear(t) {\r\n    return t;\r\n}\r\nexport function quad(t) {\r\n    return t * t;\r\n}\r\nexport function cubic(t) {\r\n    return t * t * t;\r\n}\r\nexport function pow(t, e) {\r\n    return Math.pow(t, e);\r\n}\r\nexport function exp(t) {\r\n    return Math.pow(2, 10 * t - 10);\r\n}\r\nexport function sine(t) {\r\n    return 1 - Math.cos(t * $math.HALFPI);\r\n}\r\nexport function circle(t) {\r\n    return 1 - Math.sqrt(1 - t * t);\r\n}\r\n/**\r\n * ============================================================================\r\n * TRANSFORMERS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n */\r\nexport function yoyo(ease) {\r\n    return function (t) {\r\n        if (t < 0.5) {\r\n            return ease(t * 2.0);\r\n        }\r\n        else {\r\n            return ease((1.0 - t) * 2.0);\r\n        }\r\n    };\r\n}\r\nexport function out(ease) {\r\n    return function (t) {\r\n        return 1.0 - ease(1.0 - t);\r\n    };\r\n}\r\nexport function inOut(ease) {\r\n    return function (t) {\r\n        if (t <= 0.5) {\r\n            return ease(t * 2.0) / 2.0;\r\n        }\r\n        else {\r\n            return 1.0 - (ease((1.0 - t) * 2.0) / 2.0);\r\n        }\r\n    };\r\n}\r\n/**\r\n * ============================================================================\r\n * BOUNCE\r\n * ============================================================================\r\n * @hidden\r\n */\r\nlet b1 = 4 / 11, b2 = 6 / 11, b3 = 8 / 11, b4 = 3 / 4, b5 = 9 / 11, b6 = 10 / 11, b7 = 15 / 16, b8 = 21 / 22, b9 = 63 / 64, b0 = 1 / b1 / b1;\r\nexport function bounce(t) {\r\n    return 1 - bounceOut(1 - t);\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction bounceOut(t) {\r\n    t = t;\r\n    if (t < b1) {\r\n        return b0 * t * t;\r\n    }\r\n    else if (t < b3) {\r\n        return b0 * (t -= b2) * t + b4;\r\n    }\r\n    else if (t < b6) {\r\n        return b0 * (t -= b5) * t + b7;\r\n    }\r\n    else {\r\n        return b0 * (t -= b8) * t + b9;\r\n    }\r\n}\r\n/**\r\n * ============================================================================\r\n * ELASTIC\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * @ignore\r\n */\r\nlet tau = 2 * Math.PI;\r\n/**\r\n * @ignore\r\n */\r\nlet amplitude = 1;\r\n/**\r\n * @ignore\r\n */\r\nlet period = 0.3 / tau;\r\n/**\r\n * @ignore\r\n */\r\nlet s = Math.asin(1 / amplitude) * period;\r\nexport function elastic(t) {\r\n    let v = t;\r\n    return amplitude * Math.pow(2, 10 * --v) * Math.sin((s - v) / period);\r\n}\r\n","import { Disposer } from \"./Disposer\";\r\nimport { EventDispatcher } from \"./EventDispatcher\";\r\nimport { getInterpolate } from \"./Animation\";\r\nimport { States } from \"./States\";\r\nimport { registry } from \"../Registry\";\r\nimport * as $object from \"./Object\";\r\nimport * as $ease from \"./Ease\";\r\nimport * as $array from \"./Array\";\r\nimport * as $order from \"./Order\";\r\n/**\r\n * Allows to dynamically modify setting value of its target element.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/settings/adapters/} for more info\r\n */\r\nexport class Adapters {\r\n    constructor(entity) {\r\n        Object.defineProperty(this, \"_entity\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_callbacks\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        Object.defineProperty(this, \"_disabled\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        this._entity = entity;\r\n    }\r\n    /**\r\n     * Add a function (`callback`) that will modify value for setting `key`.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/concepts/settings/adapters/} for more info\r\n     */\r\n    add(key, callback) {\r\n        let callbacks = this._callbacks[key];\r\n        if (callbacks === undefined) {\r\n            callbacks = this._callbacks[key] = [];\r\n        }\r\n        callbacks.push(callback);\r\n        this._entity._markDirtyKey(key);\r\n        return new Disposer(() => {\r\n            if ($array.removeFirst(callbacks, callback)) {\r\n                this._entity._markDirtyKey(key);\r\n            }\r\n        });\r\n    }\r\n    /**\r\n     * Removes all adapters for the specific key.\r\n     *\r\n     * @since 5.1.0\r\n     */\r\n    remove(key) {\r\n        const callbacks = this._callbacks[key];\r\n        if (callbacks !== undefined) {\r\n            delete this._callbacks[key];\r\n            if (callbacks.length !== 0) {\r\n                this._entity._markDirtyKey(key);\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * Enables (previously disabled) adapters for specific key.\r\n     *\r\n     * @since 5.1.0\r\n     */\r\n    enable(key) {\r\n        if (this._disabled[key]) {\r\n            delete this._disabled[key];\r\n            this._entity._markDirtyKey(key);\r\n        }\r\n    }\r\n    /**\r\n     * Disables all adapters for specific key.\r\n     *\r\n     * @since 5.1.0\r\n     */\r\n    disable(key) {\r\n        if (!this._disabled[key]) {\r\n            this._disabled[key] = true;\r\n            this._entity._markDirtyKey(key);\r\n        }\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    fold(key, value) {\r\n        if (!this._disabled[key]) {\r\n            const callbacks = this._callbacks[key];\r\n            if (callbacks !== undefined) {\r\n                for (let i = 0, len = callbacks.length; i < len; ++i) {\r\n                    value = callbacks[i](value, this._entity, key);\r\n                }\r\n            }\r\n        }\r\n        return value;\r\n    }\r\n}\r\n/**\r\n * Animation object.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/animations/} for more info\r\n */\r\nexport class Animation {\r\n    constructor(animation, from, to, duration, easing, loops, startingTime) {\r\n        Object.defineProperty(this, \"_animation\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_from\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_to\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_duration\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_easing\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_loops\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_interpolate\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_oldTime\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_time\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(this, \"_stopped\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(this, \"_playing\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: true\r\n        });\r\n        Object.defineProperty(this, \"events\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new EventDispatcher()\r\n        });\r\n        this._animation = animation;\r\n        this._from = from;\r\n        this._to = to;\r\n        this._duration = duration;\r\n        this._easing = easing;\r\n        this._loops = loops;\r\n        this._interpolate = getInterpolate(from, to);\r\n        this._oldTime = startingTime;\r\n    }\r\n    get to() {\r\n        return this._to;\r\n    }\r\n    get from() {\r\n        return this._from;\r\n    }\r\n    get playing() {\r\n        return this._playing;\r\n    }\r\n    get stopped() {\r\n        return this._stopped;\r\n    }\r\n    stop() {\r\n        if (!this._stopped) {\r\n            this._stopped = true;\r\n            this._playing = false;\r\n            if (this.events.isEnabled(\"stopped\")) {\r\n                this.events.dispatch(\"stopped\", {\r\n                    type: \"stopped\",\r\n                    target: this,\r\n                });\r\n            }\r\n        }\r\n    }\r\n    pause() {\r\n        this._playing = false;\r\n        this._oldTime = null;\r\n    }\r\n    play() {\r\n        if (!this._stopped && !this._playing) {\r\n            this._playing = true;\r\n            this._animation._startAnimation();\r\n        }\r\n    }\r\n    get percentage() {\r\n        return this._time / this._duration;\r\n    }\r\n    waitForStop() {\r\n        return new Promise((resolve, _reject) => {\r\n            if (this._stopped) {\r\n                resolve();\r\n            }\r\n            else {\r\n                const listener = () => {\r\n                    stopped.dispose();\r\n                    resolve();\r\n                };\r\n                const stopped = this.events.on(\"stopped\", listener);\r\n            }\r\n        });\r\n    }\r\n    _checkEnded() {\r\n        if (this._loops > 1) {\r\n            --this._loops;\r\n            return false;\r\n        }\r\n        else {\r\n            return true;\r\n        }\r\n    }\r\n    _run(currentTime) {\r\n        if (this._oldTime !== null) {\r\n            this._time += currentTime - this._oldTime;\r\n            if (this._time > this._duration) {\r\n                this._time = this._duration;\r\n            }\r\n        }\r\n        this._oldTime = currentTime;\r\n    }\r\n    _reset(currentTime) {\r\n        this._oldTime = currentTime;\r\n        this._time = 0;\r\n    }\r\n    _value(diff) {\r\n        return this._interpolate(this._easing(diff), this._from, this._to);\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nlet counter = 0;\r\n/**\r\n * Base class for [[Entity]] objects that support Settings.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/settings/} for more info\r\n */\r\nexport class Settings {\r\n    constructor(settings) {\r\n        /**\r\n         * Unique ID.\r\n         */\r\n        Object.defineProperty(this, \"uid\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: ++counter\r\n        });\r\n        Object.defineProperty(this, \"_settings\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_privateSettings\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        Object.defineProperty(this, \"_settingEvents\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        Object.defineProperty(this, \"_privateSettingEvents\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        Object.defineProperty(this, \"_prevSettings\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        Object.defineProperty(this, \"_prevPrivateSettings\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        Object.defineProperty(this, \"_animatingSettings\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        Object.defineProperty(this, \"_animatingPrivateSettings\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        Object.defineProperty(this, \"_disposed\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        // TODO move this into Entity\r\n        Object.defineProperty(this, \"_userProperties\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        this._settings = settings;\r\n    }\r\n    _checkDirty() {\r\n        $object.keys(this._settings).forEach((key) => {\r\n            this._userProperties[key] = true;\r\n            this._markDirtyKey(key);\r\n        });\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    resetUserSettings() {\r\n        this._userProperties = {};\r\n    }\r\n    _runAnimation(currentTime) {\r\n        if (!this.isDisposed()) {\r\n            let playing = false;\r\n            $object.each(this._animatingSettings, (key, animation) => {\r\n                if (animation._stopped) {\r\n                    this._stopAnimation(key);\r\n                }\r\n                else if (animation._playing) {\r\n                    animation._run(currentTime);\r\n                    const diff = animation.percentage;\r\n                    if (diff >= 1) {\r\n                        if (animation._checkEnded()) {\r\n                            this.set(key, animation._value(1));\r\n                        }\r\n                        else {\r\n                            playing = true;\r\n                            animation._reset(currentTime);\r\n                            this._set(key, animation._value(1));\r\n                        }\r\n                    }\r\n                    else {\r\n                        playing = true;\r\n                        this._set(key, animation._value(diff));\r\n                    }\r\n                }\r\n            });\r\n            $object.each(this._animatingPrivateSettings, (key, animation) => {\r\n                if (animation._stopped) {\r\n                    this._stopAnimationPrivate(key);\r\n                }\r\n                else if (animation._playing) {\r\n                    animation._run(currentTime);\r\n                    const diff = animation.percentage;\r\n                    if (diff >= 1) {\r\n                        if (animation._checkEnded()) {\r\n                            this.setPrivate(key, animation._value(1));\r\n                        }\r\n                        else {\r\n                            playing = true;\r\n                            animation._reset(currentTime);\r\n                            this._setPrivate(key, animation._value(1));\r\n                        }\r\n                    }\r\n                    else {\r\n                        playing = true;\r\n                        this._setPrivate(key, animation._value(diff));\r\n                    }\r\n                }\r\n            });\r\n            return playing;\r\n        }\r\n        else {\r\n            return false;\r\n        }\r\n    }\r\n    _markDirtyKey(_key) {\r\n        this.markDirty();\r\n    }\r\n    _markDirtyPrivateKey(_key) {\r\n        this.markDirty();\r\n    }\r\n    /**\r\n     * Sets a callback function to invoke when specific key of settings changes\r\n     * or is set.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/concepts/events/#Settings_value_change} for more info\r\n     * @param   key       Settings key\r\n     * @param   callback  Callback\r\n     * @return            Disposer for event\r\n     */\r\n    on(key, callback) {\r\n        let events = this._settingEvents[key];\r\n        if (events === undefined) {\r\n            events = this._settingEvents[key] = [];\r\n        }\r\n        events.push(callback);\r\n        return new Disposer(() => {\r\n            $array.removeFirst(events, callback);\r\n            if (events.length === 0) {\r\n                delete this._settingEvents[key];\r\n            }\r\n        });\r\n    }\r\n    /**\r\n     * Sets a callback function to invoke when specific key of private settings\r\n     * changes or is set.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/concepts/events/#Settings_value_change} for more info\r\n     * @ignore\r\n     * @param   key       Private settings key\r\n     * @param   callback  Callback\r\n     * @return            Disposer for event\r\n     */\r\n    onPrivate(key, callback) {\r\n        let events = this._privateSettingEvents[key];\r\n        if (events === undefined) {\r\n            events = this._privateSettingEvents[key] = [];\r\n        }\r\n        events.push(callback);\r\n        return new Disposer(() => {\r\n            $array.removeFirst(events, callback);\r\n            if (events.length === 0) {\r\n                delete this._privateSettingEvents[key];\r\n            }\r\n        });\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    getRaw(key, fallback) {\r\n        const value = this._settings[key];\r\n        if (value !== undefined) {\r\n            return value;\r\n        }\r\n        else {\r\n            return fallback;\r\n        }\r\n    }\r\n    get(key, fallback) {\r\n        return this.getRaw(key, fallback);\r\n    }\r\n    _sendKeyEvent(key, value) {\r\n        const events = this._settingEvents[key];\r\n        if (events !== undefined) {\r\n            $array.each(events, (callback) => {\r\n                callback(value, this, key);\r\n            });\r\n        }\r\n    }\r\n    _sendPrivateKeyEvent(key, value) {\r\n        const events = this._privateSettingEvents[key];\r\n        if (events !== undefined) {\r\n            $array.each(events, (callback) => {\r\n                callback(value, this, key);\r\n            });\r\n        }\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    _setRaw(key, old, value) {\r\n        this._prevSettings[key] = old;\r\n        this._sendKeyEvent(key, value);\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    setRaw(key, value) {\r\n        const old = this._settings[key];\r\n        this._settings[key] = value;\r\n        if (old !== value) {\r\n            this._setRaw(key, old, value);\r\n        }\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    _set(key, value) {\r\n        const old = this._settings[key];\r\n        this._settings[key] = value;\r\n        if (old !== value) {\r\n            this._setRaw(key, old, value);\r\n            this._markDirtyKey(key);\r\n        }\r\n    }\r\n    _stopAnimation(key) {\r\n        const animation = this._animatingSettings[key];\r\n        if (animation) {\r\n            delete this._animatingSettings[key];\r\n            animation.stop();\r\n        }\r\n    }\r\n    /**\r\n     * Sets a setting `value` for the specified `key`, and returns the same `value`.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/concepts/settings/} for more info\r\n     * @param   key       Setting key\r\n     * @param   value     Setting value\r\n     * @return            Setting value\r\n     */\r\n    set(key, value) {\r\n        this._set(key, value);\r\n        this._stopAnimation(key);\r\n        return value;\r\n    }\r\n    /**\r\n     * Removes a setting value for the specified `key`;\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/concepts/settings/} for more info\r\n     * @param   key       Setting key\r\n     */\r\n    remove(key) {\r\n        if (key in this._settings) {\r\n            this._prevSettings[key] = this._settings[key];\r\n            delete this._settings[key];\r\n            this._sendKeyEvent(key, undefined);\r\n            this._markDirtyKey(key);\r\n        }\r\n        this._stopAnimation(key);\r\n    }\r\n    /**\r\n     * Removes all keys;\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/concepts/settings/} for more info\r\n     */\r\n    removeAll() {\r\n        $array.each($object.keys(this._settings), (key) => {\r\n            this.remove(key);\r\n        });\r\n    }\r\n    /**\r\n     * Returns a value of a private setting.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/concepts/settings/#Private_settings} for more info\r\n     */\r\n    getPrivate(key, fallback) {\r\n        const value = this._privateSettings[key];\r\n        if (value !== undefined) {\r\n            return value;\r\n        }\r\n        else {\r\n            return fallback;\r\n        }\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    _setPrivateRaw(key, old, value) {\r\n        this._prevPrivateSettings[key] = old;\r\n        this._sendPrivateKeyEvent(key, value);\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    setPrivateRaw(key, value) {\r\n        const old = this._privateSettings[key];\r\n        this._privateSettings[key] = value;\r\n        if (old !== value) {\r\n            this._setPrivateRaw(key, old, value);\r\n        }\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    _setPrivate(key, value) {\r\n        const old = this._privateSettings[key];\r\n        this._privateSettings[key] = value;\r\n        if (old !== value) {\r\n            this._setPrivateRaw(key, old, value);\r\n            this._markDirtyPrivateKey(key);\r\n        }\r\n    }\r\n    _stopAnimationPrivate(key) {\r\n        const animation = this._animatingPrivateSettings[key];\r\n        if (animation) {\r\n            animation.stop();\r\n            delete this._animatingPrivateSettings[key];\r\n        }\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    setPrivate(key, value) {\r\n        this._setPrivate(key, value);\r\n        this._stopAnimationPrivate(key);\r\n        return value;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    removePrivate(key) {\r\n        if (key in this._privateSettings) {\r\n            this._prevPrivateSettings[key] = this._privateSettings[key];\r\n            delete this._privateSettings[key];\r\n            this._markDirtyPrivateKey(key);\r\n        }\r\n        this._stopAnimationPrivate(key);\r\n    }\r\n    /**\r\n     * Sets multiple settings at once.\r\n     *\r\n     * `settings` must be an object with key: value pairs.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/concepts/settings/} for more info\r\n     * @param settings Settings\r\n     */\r\n    setAll(settings) {\r\n        $object.each(settings, (key, value) => {\r\n            this.set(key, value);\r\n        });\r\n    }\r\n    /**\r\n     * Animates setting values from current/start values to new ones.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/concepts/animations/#Animating_settings} for more info\r\n     * @param   options  Animation options\r\n     * @return           Animation object\r\n     */\r\n    animate(options) {\r\n        const key = options.key;\r\n        const to = options.to;\r\n        const duration = options.duration || 0;\r\n        const loops = options.loops || 1;\r\n        const from = (options.from === undefined ? this.get(key) : options.from);\r\n        const easing = (options.easing === undefined ? $ease.linear : options.easing);\r\n        if (duration === 0) {\r\n            this.set(key, to);\r\n        }\r\n        else {\r\n            if (from === undefined || from === to) {\r\n                this.set(key, to);\r\n            }\r\n            else {\r\n                this.set(key, from);\r\n                const animation = this._animatingSettings[key] = new Animation(this, from, to, duration, easing, loops, this._animationTime());\r\n                this._startAnimation();\r\n                return animation;\r\n            }\r\n        }\r\n        const animation = new Animation(this, from, to, duration, easing, loops, null);\r\n        animation.stop();\r\n        return animation;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    animatePrivate(options) {\r\n        const key = options.key;\r\n        const to = options.to;\r\n        const duration = options.duration || 0;\r\n        const loops = options.loops || 1;\r\n        const from = (options.from === undefined ? this.getPrivate(key) : options.from);\r\n        const easing = (options.easing === undefined ? $ease.linear : options.easing);\r\n        if (duration === 0) {\r\n            this.setPrivate(key, to);\r\n        }\r\n        else {\r\n            if (from === undefined || from === to) {\r\n                this.setPrivate(key, to);\r\n            }\r\n            else {\r\n                this.setPrivate(key, from);\r\n                const animation = this._animatingPrivateSettings[key] = new Animation(this, from, to, duration, easing, loops, this._animationTime());\r\n                this._startAnimation();\r\n                return animation;\r\n            }\r\n        }\r\n        const animation = new Animation(this, from, to, duration, easing, loops, null);\r\n        animation.stop();\r\n        return animation;\r\n    }\r\n    _dispose() { }\r\n    /**\r\n     * Returns `true` if this element is disposed.\r\n     *\r\n     * @return Disposed\r\n     */\r\n    isDisposed() {\r\n        return this._disposed;\r\n    }\r\n    /**\r\n     * Disposes this object.\r\n     */\r\n    dispose() {\r\n        if (!this._disposed) {\r\n            this._disposed = true;\r\n            this._dispose();\r\n        }\r\n    }\r\n}\r\n/**\r\n * Base class.\r\n *\r\n * @important\r\n */\r\nexport class Entity extends Settings {\r\n    /**\r\n     * IMPORTANT! Do not instantiate this class via `new Class()` syntax.\r\n     *\r\n     * Use static method `Class.new()` instead.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/getting-started/#New_element_syntax} for more info\r\n     * @ignore\r\n     */\r\n    constructor(root, settings, isReal, templates = []) {\r\n        super(settings);\r\n        Object.defineProperty(this, \"_root\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_user_id\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        }); // for testing purposes\r\n        Object.defineProperty(this, \"states\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new States(this)\r\n        });\r\n        Object.defineProperty(this, \"adapters\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new Adapters(this)\r\n        });\r\n        Object.defineProperty(this, \"events\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: this._createEvents()\r\n        });\r\n        Object.defineProperty(this, \"_userPrivateProperties\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        Object.defineProperty(this, \"_dirty\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        Object.defineProperty(this, \"_dirtyPrivate\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        Object.defineProperty(this, \"_template\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        // Templates for the themes\r\n        Object.defineProperty(this, \"_templates\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n        // Internal templates which can be overridden by the user's templates\r\n        Object.defineProperty(this, \"_internalTemplates\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        // Default themes which can be overridden by the user's themes\r\n        Object.defineProperty(this, \"_defaultThemes\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n        // Disposers for all of the templates\r\n        Object.defineProperty(this, \"_templateDisposers\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n        Object.defineProperty(this, \"_disposers\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n        // Whether the template setup function should be run\r\n        Object.defineProperty(this, \"_runSetup\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: true\r\n        });\r\n        Object.defineProperty(this, \"_disposerProperties\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        if (!isReal) {\r\n            throw new Error(\"You cannot use `new Class()`, instead use `Class.new()`\");\r\n        }\r\n        this._root = root;\r\n        this._internalTemplates = templates;\r\n        if (settings.id) {\r\n            this._registerId(settings.id);\r\n        }\r\n    }\r\n    /**\r\n     * Use this method to create an instance of this class.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/getting-started/#New_element_syntax} for more info\r\n     * @param   root      Root element\r\n     * @param   settings  Settings\r\n     * @param   template  Template\r\n     * @return            Instantiated object\r\n     */\r\n    static new(root, settings, template) {\r\n        const x = (new this(root, settings, true));\r\n        x._template = template;\r\n        x._afterNew();\r\n        return x;\r\n    }\r\n    static _new(root, settings, templates = []) {\r\n        const x = (new this(root, settings, true, templates));\r\n        x._afterNew();\r\n        return x;\r\n    }\r\n    _afterNew() {\r\n        this._checkDirty();\r\n        let shouldApply = false;\r\n        const template = this._template;\r\n        if (template) {\r\n            shouldApply = true;\r\n            template._setObjectTemplate(this);\r\n        }\r\n        $array.each(this._internalTemplates, (template) => {\r\n            shouldApply = true;\r\n            template._setObjectTemplate(this);\r\n        });\r\n        if (shouldApply) {\r\n            this._applyTemplates(false);\r\n        }\r\n        this.states.create(\"default\", {});\r\n        this._setDefaults();\r\n    }\r\n    // This is the same as _afterNew, except it also applies the themes.\r\n    // This should only be used for classes which don't have a parent (because they extend from Entity and not Sprite).\r\n    _afterNewApplyThemes() {\r\n        this._checkDirty();\r\n        const template = this._template;\r\n        if (template) {\r\n            template._setObjectTemplate(this);\r\n        }\r\n        $array.each(this._internalTemplates, (template) => {\r\n            template._setObjectTemplate(this);\r\n        });\r\n        this.states.create(\"default\", {});\r\n        this._setDefaults();\r\n        this._applyThemes();\r\n    }\r\n    _createEvents() {\r\n        return new EventDispatcher();\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    get classNames() {\r\n        return this.constructor.classNames;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    get className() {\r\n        return this.constructor.className;\r\n    }\r\n    _setDefaults() {\r\n    }\r\n    _setDefault(key, value) {\r\n        if (!(key in this._settings)) {\r\n            super.set(key, value);\r\n        }\r\n    }\r\n    _setRawDefault(key, value) {\r\n        if (!(key in this._settings)) {\r\n            super.setRaw(key, value);\r\n        }\r\n    }\r\n    _clearDirty() {\r\n        $object.keys(this._dirty).forEach((key) => {\r\n            this._dirty[key] = false;\r\n        });\r\n        $object.keys(this._dirtyPrivate).forEach((key) => {\r\n            this._dirtyPrivate[key] = false;\r\n        });\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    isDirty(key) {\r\n        return !!this._dirty[key];\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    isPrivateDirty(key) {\r\n        return !!this._dirtyPrivate[key];\r\n    }\r\n    _markDirtyKey(key) {\r\n        this._dirty[key] = true;\r\n        super._markDirtyKey(key);\r\n    }\r\n    _markDirtyPrivateKey(key) {\r\n        this._dirtyPrivate[key] = true;\r\n        super._markDirtyKey(key);\r\n    }\r\n    /**\r\n     * Checks if element is of certain class (or inherits one).\r\n     *\r\n     * @param   type  Class name to check\r\n     * @return {boolean} Is of class?\r\n     */\r\n    isType(type) {\r\n        return this.classNames.indexOf(type) !== -1;\r\n    }\r\n    _pushPropertyDisposer(key, disposer) {\r\n        let disposers = this._disposerProperties[key];\r\n        if (disposers === undefined) {\r\n            disposers = this._disposerProperties[key] = [];\r\n        }\r\n        disposers.push(disposer);\r\n        return disposer;\r\n    }\r\n    _disposeProperty(key) {\r\n        const disposers = this._disposerProperties[key];\r\n        if (disposers !== undefined) {\r\n            $array.each(disposers, (disposer) => {\r\n                disposer.dispose();\r\n            });\r\n            delete this._disposerProperties[key];\r\n        }\r\n    }\r\n    /**\r\n     * @todo needs description\r\n     * @param  value  Template\r\n     */\r\n    set template(value) {\r\n        const template = this._template;\r\n        if (template !== value) {\r\n            this._template = value;\r\n            if (template) {\r\n                template._removeObjectTemplate(this);\r\n            }\r\n            if (value) {\r\n                value._setObjectTemplate(this);\r\n            }\r\n            this._applyTemplates();\r\n        }\r\n    }\r\n    get template() {\r\n        return this._template;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    markDirty() {\r\n        this._root._addDirtyEntity(this);\r\n    }\r\n    _startAnimation() {\r\n        this._root._addAnimation(this);\r\n    }\r\n    _animationTime() {\r\n        return this._root.animationTime;\r\n    }\r\n    _applyState(_name) { }\r\n    _applyStateAnimated(_name, _duration) { }\r\n    get(key, fallback) {\r\n        const value = this.adapters.fold(key, this._settings[key]);\r\n        if (value !== undefined) {\r\n            return value;\r\n        }\r\n        else {\r\n            return fallback;\r\n        }\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    isUserSetting(key) {\r\n        return this._userProperties[key] || false;\r\n    }\r\n    /**\r\n     * Sets a setting `value` for the specified `key`, and returns the same `value`.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/concepts/settings/} for more info\r\n     * @param   key       Setting key\r\n     * @param   value     Setting value\r\n     * @return            Setting value\r\n     */\r\n    set(key, value) {\r\n        this._userProperties[key] = true;\r\n        return super.set(key, value);\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    setRaw(key, value) {\r\n        this._userProperties[key] = true;\r\n        super.setRaw(key, value);\r\n    }\r\n    /**\r\n     * Sets a setting `value` for the specified `key` only if the value for this key was not set previously using set method, and returns the same `value`.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/concepts/settings/} for more info\r\n     * @param   key       Setting key\r\n     * @param   value     Setting value\r\n     * @return            Setting value\r\n     */\r\n    _setSoft(key, value) {\r\n        if (!this._userProperties[key]) {\r\n            return super.set(key, value);\r\n        }\r\n        return value;\r\n    }\r\n    /**\r\n     * Removes a setting value for the specified `key`.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/concepts/settings/} for more info\r\n     * @param   key       Setting key\r\n     */\r\n    remove(key) {\r\n        delete this._userProperties[key];\r\n        this._removeTemplateProperty(key);\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    setPrivate(key, value) {\r\n        this._userPrivateProperties[key] = true;\r\n        return super.setPrivate(key, value);\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    setPrivateRaw(key, value) {\r\n        this._userPrivateProperties[key] = true;\r\n        super.setPrivateRaw(key, value);\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    removePrivate(key) {\r\n        delete this._userPrivateProperties[key];\r\n        this._removeTemplatePrivateProperty(key);\r\n    }\r\n    _setTemplateProperty(template, key, value) {\r\n        if (!this._userProperties[key]) {\r\n            const match = this._findTemplateByKey(key);\r\n            if (template === match) {\r\n                super.set(key, value);\r\n            }\r\n        }\r\n    }\r\n    _setTemplatePrivateProperty(template, key, value) {\r\n        if (!this._userPrivateProperties[key]) {\r\n            const match = this._findTemplateByPrivateKey(key);\r\n            if (template === match) {\r\n                super.setPrivate(key, value);\r\n            }\r\n        }\r\n    }\r\n    _removeTemplateProperty(key) {\r\n        if (!this._userProperties[key]) {\r\n            const match = this._findTemplateByKey(key);\r\n            if (match) {\r\n                // TODO don't stop the animation if the property didn't change\r\n                super.set(key, match._settings[key]);\r\n            }\r\n            else {\r\n                super.remove(key);\r\n            }\r\n        }\r\n    }\r\n    _removeTemplatePrivateProperty(key) {\r\n        if (!this._userPrivateProperties[key]) {\r\n            const match = this._findTemplateByPrivateKey(key);\r\n            if (match) {\r\n                // TODO don't stop the animation if the property didn't change\r\n                super.setPrivate(key, match._privateSettings[key]);\r\n            }\r\n            else {\r\n                super.removePrivate(key);\r\n            }\r\n        }\r\n    }\r\n    _walkParents(f) {\r\n        f(this._root._rootContainer);\r\n        f(this);\r\n    }\r\n    // TODO faster version of this method which is specialized to just 1 key\r\n    _applyStateByKey(name) {\r\n        const other = this.states.create(name, {});\r\n        const seen = {};\r\n        this._eachTemplate((template) => {\r\n            const state = template.states.lookup(name);\r\n            if (state) {\r\n                state._apply(other, seen);\r\n            }\r\n        });\r\n        $object.each(other._settings, (key) => {\r\n            if (!seen[key] && !other._userSettings[key]) {\r\n                other.remove(key);\r\n            }\r\n        });\r\n    }\r\n    _applyTemplate(template, state) {\r\n        this._templateDisposers.push(template._apply(this, state));\r\n        $object.each(template._settings, (key, value) => {\r\n            if (!state.settings[key] && !this._userProperties[key]) {\r\n                state.settings[key] = true;\r\n                super.set(key, value);\r\n            }\r\n        });\r\n        $object.each(template._privateSettings, (key, value) => {\r\n            if (!state.privateSettings[key] && !this._userPrivateProperties[key]) {\r\n                state.privateSettings[key] = true;\r\n                super.setPrivate(key, value);\r\n            }\r\n        });\r\n        if (this._runSetup && template.setup) {\r\n            this._runSetup = false;\r\n            template.setup(this);\r\n        }\r\n    }\r\n    /**\r\n     * Calls the closure with each template and returns the first template which is true\r\n     */\r\n    _findStaticTemplate(f) {\r\n        if (this._template) {\r\n            if (f(this._template)) {\r\n                return this._template;\r\n            }\r\n        }\r\n    }\r\n    _eachTemplate(f) {\r\n        this._findStaticTemplate((template) => {\r\n            f(template);\r\n            return false;\r\n        });\r\n        // _internalTemplates is sorted with most specific to the right\r\n        $array.eachReverse(this._internalTemplates, f);\r\n        // _templates is sorted with most specific to the left\r\n        $array.each(this._templates, f);\r\n    }\r\n    _applyTemplates(remove = true) {\r\n        if (remove) {\r\n            this._disposeTemplates();\r\n        }\r\n        const state = {\r\n            settings: {},\r\n            privateSettings: {},\r\n            states: {},\r\n        };\r\n        this._eachTemplate((template) => {\r\n            this._applyTemplate(template, state);\r\n        });\r\n        if (remove) {\r\n            $object.each(this._settings, (key) => {\r\n                if (!this._userProperties[key] && !state.settings[key]) {\r\n                    super.remove(key);\r\n                }\r\n            });\r\n            $object.each(this._privateSettings, (key) => {\r\n                if (!this._userPrivateProperties[key] && !state.privateSettings[key]) {\r\n                    super.removePrivate(key);\r\n                }\r\n            });\r\n        }\r\n    }\r\n    _findTemplate(f) {\r\n        const value = this._findStaticTemplate(f);\r\n        if (value === undefined) {\r\n            // _internalTemplates is sorted with most specific to the right\r\n            const value = $array.findReverse(this._internalTemplates, f);\r\n            if (value === undefined) {\r\n                // _templates is sorted with most specific to the left\r\n                return $array.find(this._templates, f);\r\n            }\r\n            else {\r\n                return value;\r\n            }\r\n        }\r\n        else {\r\n            return value;\r\n        }\r\n    }\r\n    _findTemplateByKey(key) {\r\n        return this._findTemplate((template) => {\r\n            return key in template._settings;\r\n        });\r\n    }\r\n    _findTemplateByPrivateKey(key) {\r\n        return this._findTemplate((template) => {\r\n            return key in template._privateSettings;\r\n        });\r\n    }\r\n    _disposeTemplates() {\r\n        $array.each(this._templateDisposers, (disposer) => {\r\n            disposer.dispose();\r\n        });\r\n        this._templateDisposers.length = 0;\r\n    }\r\n    _removeTemplates() {\r\n        $array.each(this._templates, (template) => {\r\n            template._removeObjectTemplate(this);\r\n        });\r\n        this._templates.length = 0;\r\n    }\r\n    _applyThemes() {\r\n        let isConnected = false;\r\n        const defaults = [];\r\n        let themes = [];\r\n        const themeTags = new Set();\r\n        const tags = this.get(\"themeTagsSelf\");\r\n        if (tags) {\r\n            $array.each(tags, (tag) => {\r\n                themeTags.add(tag);\r\n            });\r\n        }\r\n        this._walkParents((entity) => {\r\n            if (entity === this._root._rootContainer) {\r\n                isConnected = true;\r\n            }\r\n            if (entity._defaultThemes.length > 0) {\r\n                defaults.push(entity._defaultThemes);\r\n            }\r\n            const theme = entity.get(\"themes\");\r\n            if (theme) {\r\n                themes.push(theme);\r\n            }\r\n            const tags = entity.get(\"themeTags\");\r\n            if (tags) {\r\n                $array.each(tags, (tag) => {\r\n                    themeTags.add(tag);\r\n                });\r\n            }\r\n        });\r\n        themes = defaults.concat(themes);\r\n        this._removeTemplates();\r\n        if (isConnected) {\r\n            $array.eachReverse(this.classNames, (name) => {\r\n                const allRules = [];\r\n                $array.each(themes, (themes) => {\r\n                    $array.each(themes, (theme) => {\r\n                        const rules = theme._lookupRules(name);\r\n                        if (rules) {\r\n                            $array.eachReverse(rules, (rule) => {\r\n                                const matches = rule.tags.every((tag) => {\r\n                                    return themeTags.has(tag);\r\n                                });\r\n                                if (matches) {\r\n                                    const result = $array.getFirstSortedIndex(allRules, (x) => {\r\n                                        const order = $order.compare(rule.tags.length, x.tags.length);\r\n                                        if (order === 0) {\r\n                                            return $order.compareArray(rule.tags, x.tags, $order.compare);\r\n                                        }\r\n                                        else {\r\n                                            return order;\r\n                                        }\r\n                                    });\r\n                                    allRules.splice(result.index, 0, rule);\r\n                                }\r\n                            });\r\n                        }\r\n                    });\r\n                });\r\n                $array.each(allRules, (rule) => {\r\n                    this._templates.push(rule.template);\r\n                    rule.template._setObjectTemplate(this);\r\n                });\r\n            });\r\n        }\r\n        this._applyTemplates();\r\n        if (isConnected) {\r\n            // This causes it to only run the setup function the first time that the themes are applied\r\n            this._runSetup = false;\r\n        }\r\n        return isConnected;\r\n    }\r\n    _changed() { }\r\n    _beforeChanged() {\r\n        if (this.isDirty(\"id\")) {\r\n            const id = this.get(\"id\");\r\n            if (id) {\r\n                this._registerId(id);\r\n            }\r\n            const prevId = this._prevSettings.id;\r\n            if (prevId) {\r\n                delete registry.entitiesById[prevId];\r\n            }\r\n        }\r\n    }\r\n    _registerId(id) {\r\n        if (registry.entitiesById[id] && registry.entitiesById[id] !== this) {\r\n            throw new Error(\"An entity with id \\\"\" + id + \"\\\" already exists.\");\r\n        }\r\n        registry.entitiesById[id] = this;\r\n    }\r\n    _afterChanged() { }\r\n    /**\r\n     * @ignore\r\n     */\r\n    addDisposer(disposer) {\r\n        this._disposers.push(disposer);\r\n        return disposer;\r\n    }\r\n    _dispose() {\r\n        super._dispose();\r\n        const template = this._template;\r\n        if (template) {\r\n            template._removeObjectTemplate(this);\r\n        }\r\n        $array.each(this._internalTemplates, (template) => {\r\n            template._removeObjectTemplate(this);\r\n        });\r\n        this._removeTemplates();\r\n        this._disposeTemplates();\r\n        this.events.dispose();\r\n        this._disposers.forEach((x) => {\r\n            x.dispose();\r\n        });\r\n        $object.each(this._disposerProperties, (_, disposers) => {\r\n            $array.each(disposers, (disposer) => {\r\n                disposer.dispose();\r\n            });\r\n        });\r\n        const id = this.get(\"id\");\r\n        if (id) {\r\n            delete registry.entitiesById[id];\r\n        }\r\n    }\r\n    /**\r\n     * Creates and returns a \"disposable\" timeout.\r\n     *\r\n     * @param   fn     Callback\r\n     * @param   delay  Delay in milliseconds\r\n     * @return         Timeout disposer\r\n     */\r\n    setTimeout(fn, delay) {\r\n        const id = setTimeout(() => {\r\n            this.removeDispose(disposer);\r\n            fn();\r\n        }, delay);\r\n        const disposer = new Disposer(() => {\r\n            clearTimeout(id);\r\n        });\r\n        this._disposers.push(disposer);\r\n        return disposer;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    removeDispose(target) {\r\n        if (!this.isDisposed()) {\r\n            let index = $array.indexOf(this._disposers, target);\r\n            if (index > -1) {\r\n                this._disposers.splice(index, 1);\r\n            }\r\n        }\r\n        target.dispose();\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    hasTag(tag) {\r\n        return $array.indexOf(this.get(\"themeTags\", []), tag) !== -1;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    addTag(tag) {\r\n        if (!this.hasTag(tag)) {\r\n            const tags = this.get(\"themeTags\", []);\r\n            tags.push(tag);\r\n            this.set(\"themeTags\", tags);\r\n        }\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    removeTag(tag) {\r\n        if (this.hasTag(tag)) {\r\n            const tags = this.get(\"themeTags\", []);\r\n            $array.remove(tags, tag);\r\n            this.set(\"themeTags\", tags);\r\n        }\r\n    }\r\n    _t(text, locale, ...rest) {\r\n        return this._root.language.translate(text, locale, ...rest);\r\n    }\r\n    /**\r\n     * An instance of [[Root]] object.\r\n     *\r\n     * @readonly\r\n     * @since 5.0.6\r\n     * @return Root object\r\n     */\r\n    get root() {\r\n        return this._root;\r\n    }\r\n}\r\nObject.defineProperty(Entity, \"className\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: \"Entity\"\r\n});\r\nObject.defineProperty(Entity, \"classNames\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: [\"Entity\"]\r\n});\r\n","/**\r\n * Event Dispatcher module is used for registering listeners and dispatching\r\n * events across amCharts system.\r\n */\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { Disposer, MultiDisposer } from \"./Disposer\";\r\nimport * as $array from \"./Array\";\r\nimport * as $type from \"./Type\";\r\n/**\r\n * Universal Event Dispatcher.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/events/} for more info\r\n */\r\nexport class EventDispatcher {\r\n    /**\r\n     * Constructor\r\n     */\r\n    constructor() {\r\n        Object.defineProperty(this, \"_listeners\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_killed\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_disabled\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_iterating\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_enabled\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_disposed\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        this._listeners = [];\r\n        this._killed = [];\r\n        this._disabled = {};\r\n        this._iterating = 0;\r\n        this._enabled = true;\r\n        this._disposed = false;\r\n    }\r\n    /**\r\n     * Returns if this object has been already disposed.\r\n     *\r\n     * @return Disposed?\r\n     */\r\n    isDisposed() {\r\n        return this._disposed;\r\n    }\r\n    /**\r\n     * Dispose (destroy) this object.\r\n     */\r\n    dispose() {\r\n        if (!this._disposed) {\r\n            this._disposed = true;\r\n            const a = this._listeners;\r\n            this._iterating = 1;\r\n            this._listeners = null;\r\n            this._disabled = null;\r\n            try {\r\n                $array.each(a, (x) => {\r\n                    x.disposer.dispose();\r\n                });\r\n            }\r\n            finally {\r\n                this._killed = null;\r\n                this._iterating = null;\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * Checks if this particular event dispatcher has any listeners set.\r\n     *\r\n     * @return Has listeners?\r\n     */\r\n    hasListeners() {\r\n        return this._listeners.length !== 0;\r\n    }\r\n    /**\r\n     * Checks if this particular event dispatcher has any particular listeners set.\r\n     *\r\n     * @return Has particular event listeners?\r\n     */\r\n    hasListenersByType(type) {\r\n        return $array.any(this._listeners, (x) => (x.type === null || x.type === type) && !x.killed);\r\n    }\r\n    /**\r\n     * Enable dispatching of events if they were previously disabled by\r\n     * `disable()`.\r\n     */\r\n    enable() {\r\n        this._enabled = true;\r\n    }\r\n    /**\r\n     * Disable dispatching of events until re-enabled by `enable()`.\r\n     */\r\n    disable() {\r\n        this._enabled = false;\r\n    }\r\n    /**\r\n     * Enable dispatching particular event, if it was disabled before by\r\n     * `disableType()`.\r\n     *\r\n     * @param type Event type\r\n     */\r\n    enableType(type) {\r\n        delete this._disabled[type];\r\n    }\r\n    /**\r\n     * Disable dispatching of events for a certain event type.\r\n     *\r\n     * Optionally, can set how many dispatches to skip before automatically\r\n     * re-enabling the dispatching.\r\n     *\r\n     * @param type    Event type\r\n     * @param amount  Number of event dispatches to skip\r\n     */\r\n    disableType(type, amount = Infinity) {\r\n        this._disabled[type] = amount;\r\n    }\r\n    /**\r\n     * Removes listener from dispatcher.\r\n     *\r\n     * Will throw an exception if such listener does not exists.\r\n     *\r\n     * @param listener Listener to remove\r\n     */\r\n    _removeListener(listener) {\r\n        if (this._iterating === 0) {\r\n            const index = this._listeners.indexOf(listener);\r\n            if (index === -1) {\r\n                throw new Error(\"Invalid state: could not remove listener\");\r\n            }\r\n            this._listeners.splice(index, 1);\r\n        }\r\n        else {\r\n            this._killed.push(listener);\r\n        }\r\n    }\r\n    /**\r\n     * Removes existing listener by certain parameters.\r\n     *\r\n     * @param once         Listener's once setting\r\n     * @param type         Listener's type\r\n     * @param callback     Callback function\r\n     * @param context      Callback context\r\n     */\r\n    _removeExistingListener(once, type, callback, context) {\r\n        if (this._disposed) {\r\n            throw new Error(\"EventDispatcher is disposed\");\r\n        }\r\n        this._eachListener((info) => {\r\n            if (info.once === once && // TODO is this correct ?\r\n                info.type === type &&\r\n                (callback === undefined || info.callback === callback) &&\r\n                info.context === context) {\r\n                info.disposer.dispose();\r\n            }\r\n        });\r\n    }\r\n    /**\r\n     * Checks if dispatching for particular event type is enabled.\r\n     *\r\n     * @param type  Event type\r\n     * @return Enabled?\r\n     */\r\n    isEnabled(type) {\r\n        if (this._disposed) {\r\n            throw new Error(\"EventDispatcher is disposed\");\r\n        }\r\n        // TODO is this check correct ?\r\n        return this._enabled && this._listeners.length > 0 && this.hasListenersByType(type) && this._disabled[type] === undefined;\r\n    }\r\n    /**\r\n     * Removes all listeners of a particular event type\r\n     *\r\n     * @param type  Listener's type\r\n     */\r\n    removeType(type) {\r\n        if (this._disposed) {\r\n            throw new Error(\"EventDispatcher is disposed\");\r\n        }\r\n        this._eachListener((info) => {\r\n            if (info.type === type) {\r\n                info.disposer.dispose();\r\n            }\r\n        });\r\n    }\r\n    /**\r\n     * Checks if there's already a listener with specific parameters.\r\n     *\r\n     * @param type      Listener's type\r\n     * @param callback  Callback function\r\n     * @param context   Callback context\r\n     * @return Has listener?\r\n     */\r\n    has(type, callback, context) {\r\n        const index = $array.findIndex(this._listeners, (info) => {\r\n            return info.once !== true && // Ignoring \"once\" listeners\r\n                info.type === type &&\r\n                (callback === undefined || info.callback === callback) &&\r\n                info.context === context;\r\n        });\r\n        return index !== -1;\r\n    }\r\n    /**\r\n     * Checks whether event of the particular type should be dispatched.\r\n     *\r\n     * @param type  Event type\r\n     * @return Dispatch?\r\n     */\r\n    _shouldDispatch(type) {\r\n        if (this._disposed) {\r\n            throw new Error(\"EventDispatcher is disposed\");\r\n        }\r\n        const count = this._disabled[type];\r\n        if (!$type.isNumber(count)) {\r\n            return this._enabled;\r\n        }\r\n        else {\r\n            if (count <= 1) {\r\n                delete this._disabled[type];\r\n            }\r\n            else {\r\n                --this._disabled[type];\r\n            }\r\n            return false;\r\n        }\r\n    }\r\n    /**\r\n     * [_eachListener description]\r\n     *\r\n     * All of this extra code is needed when a listener is removed while iterating\r\n     *\r\n     * @todo Description\r\n     * @param fn [description]\r\n     */\r\n    _eachListener(fn) {\r\n        ++this._iterating;\r\n        try {\r\n            $array.each(this._listeners, fn);\r\n        }\r\n        finally {\r\n            --this._iterating;\r\n            // TODO should this be inside or outside the finally ?\r\n            if (this._iterating === 0 && this._killed.length !== 0) {\r\n                // Remove killed listeners\r\n                $array.each(this._killed, (killed) => {\r\n                    this._removeListener(killed);\r\n                });\r\n                this._killed.length = 0;\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * Dispatches an event immediately without waiting for next cycle.\r\n     *\r\n     * @param type   Event type\r\n     * @param event  Event object\r\n     * @todo automatically add in type and target properties if they are missing\r\n     */\r\n    dispatch(type, event) {\r\n        if (this._shouldDispatch(type)) {\r\n            // TODO check if it's faster to use an object of listeners rather than a single big array\r\n            // TODO if the function throws, maybe it should keep going ?\r\n            this._eachListener((listener) => {\r\n                if (!listener.killed && (listener.type === null || listener.type === type)) {\r\n                    listener.dispatch(type, event);\r\n                }\r\n            });\r\n        }\r\n    }\r\n    /**\r\n     * Shelves the event to be dispatched within next update cycle.\r\n     *\r\n     * @param type   Event type\r\n     * @param event  Event object\r\n     * @todo automatically add in type and target properties if they are missing\r\n     */\r\n    /*public dispatchLater<Key extends keyof T>(type: Key, event: T[Key]): void {\r\n        if (this._shouldDispatch(type)) {\r\n            this._eachListener((listener) => {\r\n                // TODO check if it's faster to use an object of listeners rather than a single big array\r\n                if (!listener.killed && (listener.type === null || listener.type === type)) {\r\n                    // TODO if the function throws, maybe it should keep going ?\r\n                    // TODO dispatch during the update cycle, rather than using whenIdle\r\n                    $async.whenIdle(() => {\r\n                        if (!listener.killed) {\r\n                            listener.dispatch(type, event);\r\n                        }\r\n                    });\r\n                }\r\n            });\r\n        }\r\n    }*/\r\n    /**\r\n     * Creates, catalogs and returns an [[EventListener]].\r\n     *\r\n     * Event listener can be disposed.\r\n     *\r\n     * @param once         Listener's once setting\r\n     * @param type         Listener's type\r\n     * @param callback     Callback function\r\n     * @param context      Callback context\r\n     * @param shouldClone  Whether the listener should be copied when the EventDispatcher is copied\r\n     * @param dispatch\r\n     * @returns An event listener\r\n     */\r\n    _on(once, type, callback, context, shouldClone, dispatch) {\r\n        if (this._disposed) {\r\n            throw new Error(\"EventDispatcher is disposed\");\r\n        }\r\n        this._removeExistingListener(once, type, callback, context);\r\n        const info = {\r\n            type: type,\r\n            callback: callback,\r\n            context: context,\r\n            shouldClone: shouldClone,\r\n            dispatch: dispatch,\r\n            killed: false,\r\n            once: once,\r\n            disposer: new Disposer(() => {\r\n                info.killed = true;\r\n                this._removeListener(info);\r\n            })\r\n        };\r\n        this._listeners.push(info);\r\n        return info;\r\n    }\r\n    /**\r\n     * Creates an event listener to be invoked on **any** event.\r\n     *\r\n     * @param callback     Callback function\r\n     * @param context      Callback context\r\n     * @param shouldClone  Whether the listener should be copied when the EventDispatcher is copied\r\n     * @returns A disposable event listener\r\n     */\r\n    onAll(callback, context, shouldClone = true) {\r\n        return this._on(false, null, callback, context, shouldClone, (_type, event) => callback.call(context, event)).disposer;\r\n    }\r\n    /**\r\n     * Creates an event listener to be invoked on a specific event type.\r\n     *\r\n     * ```TypeScript\r\n     * button.events.once(\"click\", (ev) => {\r\n     *   console.log(\"Button clicked\");\r\n     * }, this);\r\n     * ```\r\n     * ```JavaScript\r\n     * button.events.once(\"click\", (ev) => {\r\n     *   console.log(\"Button clicked\");\r\n     * }, this);\r\n     * ```\r\n     *\r\n     * The above will invoke our custom event handler whenever series we put\r\n     * event on is hidden.\r\n     *\r\n     * @param type         Listener's type\r\n     * @param callback     Callback function\r\n     * @param context      Callback context\r\n     * @param shouldClone  Whether the listener should be copied when the EventDispatcher is copied\r\n     * @returns A disposable event listener\r\n     */\r\n    on(type, callback, context, shouldClone = true) {\r\n        return this._on(false, type, callback, context, shouldClone, (_type, event) => callback.call(context, event)).disposer;\r\n    }\r\n    /**\r\n     * Creates an event listener to be invoked on a specific event type once.\r\n     *\r\n     * Once the event listener is invoked, it is automatically disposed.\r\n     *\r\n     * ```TypeScript\r\n     * button.events.once(\"click\", (ev) => {\r\n     *   console.log(\"Button clicked\");\r\n     * }, this);\r\n     * ```\r\n     * ```JavaScript\r\n     * button.events.once(\"click\", (ev) => {\r\n     *   console.log(\"Button clicked\");\r\n     * }, this);\r\n     * ```\r\n     *\r\n     * The above will invoke our custom event handler the first time series we\r\n     * put event on is hidden.\r\n     *\r\n     * @param type         Listener's type\r\n     * @param callback     Callback function\r\n     * @param context      Callback context\r\n     * @param shouldClone  Whether the listener should be copied when the EventDispatcher is copied\r\n     * @returns A disposable event listener\r\n     */\r\n    once(type, callback, context, shouldClone = true) {\r\n        const x = this._on(true, type, callback, context, shouldClone, (_type, event) => {\r\n            x.disposer.dispose();\r\n            callback.call(context, event);\r\n        });\r\n        // TODO maybe this should return a different Disposer ?\r\n        return x.disposer;\r\n    }\r\n    /**\r\n     * Removes the event listener with specific parameters.\r\n     *\r\n     * @param type         Listener's type\r\n     * @param callback     Callback function\r\n     * @param context      Callback context\r\n     */\r\n    off(type, callback, context) {\r\n        this._removeExistingListener(false, type, callback, context);\r\n    }\r\n    /**\r\n     * Copies all dispatcher parameters, including listeners, from another event\r\n     * dispatcher.\r\n     *\r\n     * @param source Source event dispatcher\r\n     * @ignore\r\n     */\r\n    copyFrom(source) {\r\n        if (this._disposed) {\r\n            throw new Error(\"EventDispatcher is disposed\");\r\n        }\r\n        if (source === this) {\r\n            throw new Error(\"Cannot copyFrom the same TargetedEventDispatcher\");\r\n        }\r\n        const disposers = [];\r\n        $array.each(source._listeners, (x) => {\r\n            // TODO is this correct ?\r\n            if (!x.killed && x.shouldClone) {\r\n                if (x.type === null) {\r\n                    disposers.push(this.onAll(x.callback, x.context));\r\n                }\r\n                else if (x.once) {\r\n                    disposers.push(this.once(x.type, x.callback, x.context));\r\n                }\r\n                else {\r\n                    disposers.push(this.on(x.type, x.callback, x.context));\r\n                }\r\n            }\r\n        });\r\n        return new MultiDisposer(disposers);\r\n    }\r\n}\r\n/**\r\n * A version of the [[EventDispatcher]] that dispatches events for a specific\r\n * target object.\r\n *\r\n * @ignore\r\n */\r\nexport class TargetedEventDispatcher extends EventDispatcher {\r\n    /**\r\n     * Constructor\r\n     *\r\n     * @param target Event dispatcher target\r\n     */\r\n    constructor(target) {\r\n        super();\r\n        /**\r\n         * A target object which is originating events using this dispatcher.\r\n         */\r\n        Object.defineProperty(this, \"target\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        this.target = target;\r\n    }\r\n    /**\r\n     * Copies all dispatcher parameters, including listeners, from another event\r\n     * dispatcher.\r\n     *\r\n     * @param source Source event dispatcher\r\n     * @ignore\r\n     */\r\n    copyFrom(source) {\r\n        if (this._disposed) {\r\n            throw new Error(\"EventDispatcher is disposed\");\r\n        }\r\n        if (source === this) {\r\n            throw new Error(\"Cannot copyFrom the same TargetedEventDispatcher\");\r\n        }\r\n        const disposers = [];\r\n        $array.each(source._listeners, (x) => {\r\n            // TODO very hacky\r\n            if (x.context === source.target) {\r\n                return;\r\n            }\r\n            // TODO is this correct ?\r\n            if (!x.killed && x.shouldClone) {\r\n                if (x.type === null) {\r\n                    disposers.push(this.onAll(x.callback, x.context));\r\n                }\r\n                else if (x.once) {\r\n                    disposers.push(this.once(x.type, x.callback, x.context));\r\n                }\r\n                else {\r\n                    disposers.push(this.on(x.type, x.callback, x.context));\r\n                }\r\n            }\r\n        });\r\n        return new MultiDisposer(disposers);\r\n    }\r\n}\r\n","import { Entity } from \"./Entity\";\r\n/**\r\n * Presets for common UI elements.\r\n */\r\nexport class InterfaceColors extends Entity {\r\n}\r\nObject.defineProperty(InterfaceColors, \"className\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: \"InterfaceColors\"\r\n});\r\nObject.defineProperty(InterfaceColors, \"classNames\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: Entity.classNames.concat([InterfaceColors.className])\r\n});\r\n","import { Entity } from \"./Entity\";\r\nimport * as $array from \"./Array\";\r\nimport * as $object from \"./Object\";\r\nimport en from \"../../../locales/en\";\r\n;\r\n/**\r\n * Add localization functionality.\r\n */\r\nexport class Language extends Entity {\r\n    _setDefaults() {\r\n        this.setPrivate(\"defaultLocale\", en);\r\n        super._setDefaults();\r\n    }\r\n    /**\r\n     * Returns a prompt translation.\r\n     *\r\n     * @param   prompt   Prompt to translate\r\n     * @param   locale   Target locale\r\n     * @param   ...rest  Parameters\r\n     * @return           Translation\r\n     */\r\n    translate(prompt, locale, ...rest) {\r\n        // Get langauge\r\n        if (!locale) {\r\n            locale = this._root.locale || this.getPrivate(\"defaultLocale\");\r\n        }\r\n        // Init translation\r\n        let translation = prompt;\r\n        let value = locale[prompt];\r\n        // Try to look for the translation\r\n        if (value === null) {\r\n            translation = \"\";\r\n        }\r\n        else if (value != null) {\r\n            // It might be an empty string\r\n            if (value) {\r\n                translation = value;\r\n            }\r\n        }\r\n        else if (locale !== this.getPrivate(\"defaultLocale\")) {\r\n            // Try to look in default language\r\n            return this.translate(prompt, this.getPrivate(\"defaultLocale\"), ...rest);\r\n        }\r\n        // Replace %1, %2, etc params\r\n        if (rest.length) {\r\n            for (let len = rest.length, i = 0; i < len; ++i) {\r\n                translation = translation.split(\"%\" + (i + 1)).join(rest[i]);\r\n            }\r\n        }\r\n        // Return the translation\r\n        return translation;\r\n    }\r\n    /**\r\n     * Returns a prompt translation, including custom prompts.\r\n     *\r\n     * @param   prompt   Prompt to translate\r\n     * @param   locale   Target locale\r\n     * @param   ...rest  Parameters\r\n     * @return           Translation\r\n     */\r\n    translateAny(prompt, locale, ...rest) {\r\n        return this.translate(prompt, locale, ...rest);\r\n    }\r\n    /**\r\n     * Add a custom prompt to locale.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/concepts/locales/creating-translations/#Extending_locale_with_custom_prompts}\r\n     * @param  prompt       Source prompt\r\n     * @param  translation  Tanslation\r\n     * @param  locale       Target locale\r\n     */\r\n    setTranslationAny(prompt, translation, locale) {\r\n        const localeTarget = locale || this._root.locale;\r\n        localeTarget[prompt] = translation;\r\n    }\r\n    /**\r\n     * Add a batch of custom prompts.\r\n     *\r\n     * @since 5.3.3\r\n     * @see {@link https://www.amcharts.com/docs/v5/concepts/locales/creating-translations/#Extending_locale_with_custom_prompts}\r\n     * @param  translations  Translations\r\n     * @param  locale        Target locale\r\n     */\r\n    setTranslationsAny(translations, locale) {\r\n        $object.each(translations, (key, val) => {\r\n            this.setTranslationAny(key, val, locale);\r\n        });\r\n    }\r\n    translateEmpty(prompt, locale, ...rest) {\r\n        let translation = this.translate(prompt, locale, ...rest);\r\n        return translation == prompt ? \"\" : translation;\r\n    }\r\n    translateFunc(prompt, locale) {\r\n        if (this._root.locale[prompt]) {\r\n            return this._root.locale[prompt];\r\n        }\r\n        // Try to look in default language\r\n        if (locale !== this.getPrivate(\"defaultLocale\")) {\r\n            return this.translateFunc(prompt, this.getPrivate(\"defaultLocale\"));\r\n        }\r\n        // Fail - return empty function\r\n        return () => {\r\n            return \"\";\r\n        };\r\n    }\r\n    /**\r\n     * Translates a btach of prompts.\r\n     *\r\n     * @param  list    Array of prompts to translate\r\n     * @param  locale  Target locale\r\n     * @return         Array of translations\r\n     */\r\n    translateAll(list, locale) {\r\n        // Translate all items in the list\r\n        if (!this.isDefault()) {\r\n            return $array.map(list, (x) => this.translate(x, locale));\r\n        }\r\n        else {\r\n            return list;\r\n        }\r\n    }\r\n    /**\r\n     * Returns `true` if the currently selected locale is a default locale.\r\n     *\r\n     * @return `true` if locale is default; `false` if it is not.\r\n     */\r\n    isDefault() {\r\n        return this.getPrivate(\"defaultLocale\") === this._root.locale;\r\n    }\r\n}\r\n","import { EventDispatcher } from \"./EventDispatcher\";\r\nimport * as $array from \"./Array\";\r\n/**\r\n * Checks if specific index fits into length.\r\n *\r\n * @param index  Index\r\n * @param len    Length\r\n * @ignore\r\n */\r\nfunction checkBounds(index, len) {\r\n    if (!(index >= 0 && index < len)) {\r\n        throw new Error(\"Index out of bounds: \" + index);\r\n    }\r\n}\r\n/**\r\n * A List class is used to hold a number of indexed items of the same type.\r\n */\r\nexport class List {\r\n    /**\r\n     * Constructor\r\n     *\r\n     * @param initial  Inital list of values to add to list\r\n     */\r\n    constructor(initial = []) {\r\n        /**\r\n         * List values.\r\n         */\r\n        Object.defineProperty(this, \"_values\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"events\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new EventDispatcher()\r\n        });\r\n        this._values = initial;\r\n    }\r\n    /**\r\n     * An array of values in the list.\r\n     *\r\n     * Do not use this property to add values. Rather use dedicated methods, like\r\n     * `push()`, `removeIndex()`, etc.\r\n     *\r\n     * @readonly\r\n     * @return List values\r\n     */\r\n    get values() {\r\n        return this._values;\r\n    }\r\n    /**\r\n     * Checks if list contains specific item reference.\r\n     *\r\n     * @param item  Item to search for\r\n     * @return `true` if found, `false` if not found\r\n     */\r\n    contains(value) {\r\n        return this._values.indexOf(value) !== -1;\r\n    }\r\n    /**\r\n     * Removes specific item from the list.\r\n     *\r\n     * @param item An item to remove\r\n     */\r\n    removeValue(value) {\r\n        let i = 0;\r\n        let length = this._values.length;\r\n        while (i < length) {\r\n            // TODO handle NaN\r\n            if (this._values[i] === value) {\r\n                this.removeIndex(i);\r\n                --length;\r\n            }\r\n            else {\r\n                ++i;\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * Searches the list for specific item and returns its index.\r\n     *\r\n     * @param item  An item to search for\r\n     * @return Index or -1 if not found\r\n     */\r\n    indexOf(value) {\r\n        return $array.indexOf(this._values, value);\r\n    }\r\n    /**\r\n     * Number of items in list.\r\n     *\r\n     * @readonly\r\n     * @return Number of items\r\n     */\r\n    get length() {\r\n        return this._values.length;\r\n    }\r\n    /**\r\n     * Checks if there's a value at specific index.\r\n     *\r\n     * @param index  Index\r\n     * @return Value exists?\r\n     */\r\n    hasIndex(index) {\r\n        return index >= 0 && index < this._values.length;\r\n    }\r\n    /**\r\n     * Returns an item at specified index.\r\n     *\r\n     * @param index  Index\r\n     * @return List item\r\n     */\r\n    getIndex(index) {\r\n        return this._values[index];\r\n    }\r\n    _onPush(newValue) {\r\n        if (this.events.isEnabled(\"push\")) {\r\n            this.events.dispatch(\"push\", {\r\n                type: \"push\",\r\n                target: this,\r\n                newValue\r\n            });\r\n        }\r\n    }\r\n    _onInsertIndex(index, newValue) {\r\n        if (this.events.isEnabled(\"insertIndex\")) {\r\n            this.events.dispatch(\"insertIndex\", {\r\n                type: \"insertIndex\",\r\n                target: this,\r\n                index,\r\n                newValue\r\n            });\r\n        }\r\n    }\r\n    _onSetIndex(index, oldValue, newValue) {\r\n        if (this.events.isEnabled(\"setIndex\")) {\r\n            this.events.dispatch(\"setIndex\", {\r\n                type: \"setIndex\",\r\n                target: this,\r\n                index,\r\n                oldValue,\r\n                newValue\r\n            });\r\n        }\r\n    }\r\n    _onRemoveIndex(index, oldValue) {\r\n        if (this.events.isEnabled(\"removeIndex\")) {\r\n            this.events.dispatch(\"removeIndex\", {\r\n                type: \"removeIndex\",\r\n                target: this,\r\n                index,\r\n                oldValue\r\n            });\r\n        }\r\n    }\r\n    _onMoveIndex(oldIndex, newIndex, value) {\r\n        if (this.events.isEnabled(\"moveIndex\")) {\r\n            this.events.dispatch(\"moveIndex\", {\r\n                type: \"moveIndex\",\r\n                target: this,\r\n                oldIndex,\r\n                newIndex,\r\n                value,\r\n            });\r\n        }\r\n    }\r\n    _onClear(oldValues) {\r\n        if (this.events.isEnabled(\"clear\")) {\r\n            this.events.dispatch(\"clear\", {\r\n                type: \"clear\",\r\n                target: this,\r\n                oldValues\r\n            });\r\n        }\r\n    }\r\n    /**\r\n     * Sets value at specific index.\r\n     *\r\n     * If there's already a value at the index, it is overwritten.\r\n     *\r\n     * @param index  Index\r\n     * @param value  New value\r\n     * @return New value\r\n     */\r\n    setIndex(index, value) {\r\n        checkBounds(index, this._values.length);\r\n        const oldValue = this._values[index];\r\n        // Do nothing if the old value and the new value are the same\r\n        if (oldValue !== value) {\r\n            this._values[index] = value;\r\n            this._onSetIndex(index, oldValue, value);\r\n        }\r\n        return oldValue;\r\n    }\r\n    /**\r\n     * Adds an item to the list at a specific index, which pushes all the other\r\n     * items further down the list.\r\n     *\r\n     * @param index Index\r\n     * @param item  An item to add\r\n     */\r\n    insertIndex(index, value) {\r\n        checkBounds(index, this._values.length + 1);\r\n        $array.insertIndex(this._values, index, value);\r\n        this._onInsertIndex(index, value);\r\n        return value;\r\n    }\r\n    /**\r\n     * Swaps indexes of two items in the list.\r\n     *\r\n     * @param a  Item 1\r\n     * @param b  Item 2\r\n     */\r\n    swap(a, b) {\r\n        const len = this._values.length;\r\n        checkBounds(a, len);\r\n        checkBounds(b, len);\r\n        if (a !== b) {\r\n            const value_a = this._values[a];\r\n            const value_b = this._values[b];\r\n            this._values[a] = value_b;\r\n            this._onSetIndex(a, value_a, value_b);\r\n            this._values[b] = value_a;\r\n            this._onSetIndex(b, value_b, value_a);\r\n        }\r\n    }\r\n    /**\r\n     * Removes a value at specific index.\r\n     *\r\n     * @param index  Index of value to remove\r\n     * @return Removed value\r\n     */\r\n    removeIndex(index) {\r\n        checkBounds(index, this._values.length);\r\n        const oldValue = this._values[index];\r\n        $array.removeIndex(this._values, index);\r\n        this._onRemoveIndex(index, oldValue);\r\n        return oldValue;\r\n    }\r\n    /**\r\n     * Moves an item to a specific index within the list.\r\n     *\r\n     * If the index is not specified it will move the item to the end of the\r\n     * list.\r\n     *\r\n     * @param value  Item to move\r\n     * @param index  Index to place item at\r\n     */\r\n    moveValue(value, toIndex) {\r\n        // TODO don't do anything if the desired index is the same as the current index\r\n        let index = this.indexOf(value);\r\n        // TODO remove all old values rather than only the first ?\r\n        if (index !== -1) {\r\n            $array.removeIndex(this._values, index);\r\n            if (toIndex == null) {\r\n                const toIndex = this._values.length;\r\n                this._values.push(value);\r\n                this._onMoveIndex(index, toIndex, value);\r\n            }\r\n            else {\r\n                $array.insertIndex(this._values, toIndex, value);\r\n                this._onMoveIndex(index, toIndex, value);\r\n            }\r\n        }\r\n        else if (toIndex == null) {\r\n            this._values.push(value);\r\n            this._onPush(value);\r\n        }\r\n        else {\r\n            $array.insertIndex(this._values, toIndex, value);\r\n            this._onInsertIndex(toIndex, value);\r\n        }\r\n        return value;\r\n    }\r\n    /**\r\n     * Adds an item to the end of the list.\r\n     *\r\n     * @param item  An item to add\r\n     */\r\n    push(value) {\r\n        this._values.push(value);\r\n        this._onPush(value);\r\n        return value;\r\n    }\r\n    /**\r\n     * Adds an item as a first item in the list.\r\n     *\r\n     * @param item  An item to add\r\n     */\r\n    unshift(value) {\r\n        this.insertIndex(0, value);\r\n        return value;\r\n    }\r\n    /**\r\n     * Adds multiple items to the list.\r\n     *\r\n     * @param items  An Array of items to add\r\n     */\r\n    pushAll(values) {\r\n        $array.each(values, (value) => {\r\n            this.push(value);\r\n        });\r\n    }\r\n    /**\r\n     * Copies and adds items from abother list.\r\n     *\r\n     * @param source  A list top copy items from\r\n     */\r\n    copyFrom(source) {\r\n        this.pushAll(source._values);\r\n    }\r\n    /**\r\n     * Returns the last item from the list, and removes it.\r\n     *\r\n     * @return Item\r\n     */\r\n    pop() {\r\n        let index = this._values.length - 1;\r\n        return index < 0 ? undefined : this.removeIndex(this._values.length - 1);\r\n    }\r\n    /**\r\n     * Returns the first item from the list, and removes it.\r\n     *\r\n     * @return Item\r\n     */\r\n    shift() {\r\n        return this._values.length ? this.removeIndex(0) : undefined;\r\n    }\r\n    /**\r\n     * Sets multiple items to the list.\r\n     *\r\n     * All current items are removed.\r\n     *\r\n     * @param newArray  New items\r\n     */\r\n    setAll(newArray) {\r\n        const old = this._values;\r\n        this._values = [];\r\n        this._onClear(old);\r\n        $array.each(newArray, (value) => {\r\n            this._values.push(value);\r\n            this._onPush(value);\r\n        });\r\n    }\r\n    /**\r\n     * Removes all items from the list.\r\n     */\r\n    clear() {\r\n        this.setAll([]);\r\n    }\r\n    /**\r\n     * Returns an ES6 iterator for the list.\r\n     */\r\n    *[Symbol.iterator]() {\r\n        const length = this._values.length;\r\n        for (let i = 0; i < length; ++i) {\r\n            yield this._values[i];\r\n        }\r\n    }\r\n    /**\r\n     * Calls `f` for each element in the list.\r\n     *\r\n     * `f` should have at least one parameter defined which will get a current\r\n     * item, with optional second argument - index.\r\n     */\r\n    each(f) {\r\n        $array.each(this._values, f);\r\n    }\r\n    /**\r\n     * Calls `f` for each element in the list, from right to left.\r\n     *\r\n     * `f` should have at least one parameter defined which will get a current\r\n     * item, with optional second argument - index.\r\n     */\r\n    eachReverse(f) {\r\n        $array.eachReverse(this._values, f);\r\n    }\r\n}\r\n/**\r\n * A version of a [[List]] where the elements are disposed automatically when\r\n * removed from the list, unless `autoDispose` is set to `false`.\r\n */\r\nexport class ListAutoDispose extends List {\r\n    constructor() {\r\n        super(...arguments);\r\n        /**\r\n         * Automatically disposes elements that are removed from the list.\r\n         *\r\n         * @default true\r\n         */\r\n        Object.defineProperty(this, \"autoDispose\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: true\r\n        });\r\n        Object.defineProperty(this, \"_disposed\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n    }\r\n    _onSetIndex(index, oldValue, newValue) {\r\n        if (this.autoDispose) {\r\n            oldValue.dispose();\r\n        }\r\n        super._onSetIndex(index, oldValue, newValue);\r\n    }\r\n    _onRemoveIndex(index, oldValue) {\r\n        if (this.autoDispose) {\r\n            oldValue.dispose();\r\n        }\r\n        super._onRemoveIndex(index, oldValue);\r\n    }\r\n    _onClear(oldValues) {\r\n        if (this.autoDispose) {\r\n            $array.each(oldValues, (x) => {\r\n                x.dispose();\r\n            });\r\n        }\r\n        super._onClear(oldValues);\r\n    }\r\n    isDisposed() {\r\n        return this._disposed;\r\n    }\r\n    dispose() {\r\n        if (!this._disposed) {\r\n            this._disposed = true;\r\n            if (this.autoDispose) {\r\n                $array.each(this._values, (x) => {\r\n                    x.dispose();\r\n                });\r\n            }\r\n        }\r\n    }\r\n}\r\n/**\r\n * A version of a [[List]] that is able to create new elements as well as\r\n * apply additional settings to newly created items.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/settings/list-templates/} for more info\r\n */\r\nexport class ListTemplate extends ListAutoDispose {\r\n    constructor(template, make) {\r\n        super();\r\n        Object.defineProperty(this, \"template\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"make\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        this.template = template;\r\n        this.make = make;\r\n    }\r\n}\r\n","import { isNumber } from \"./Type\";\r\n/**\r\n * ============================================================================\r\n * CONSTANTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nexport const PI = Math.PI;\r\nexport const HALFPI = PI / 2;\r\nexport const RADIANS = PI / 180;\r\nexport const DEGREES = 180 / PI;\r\n/**\r\n * Rounds the numeric value to whole number or specific precision of set.\r\n *\r\n * @param value      Value\r\n * @param precision  Precision (number of decimal points)\r\n * @param floor  In case value ends with 0.5 and precision is 0, we might need to floor the value instead of ceiling it.\r\n * @return Rounded value\r\n */\r\nexport function round(value, precision, floor) {\r\n    if (!isNumber(precision) || precision <= 0) {\r\n        let rounded = Math.round(value);\r\n        if (floor) {\r\n            if (rounded - value == 0.5) {\r\n                rounded--;\r\n            }\r\n        }\r\n        return rounded;\r\n    }\r\n    else {\r\n        let d = Math.pow(10, precision);\r\n        return Math.round(value * d) / d;\r\n    }\r\n}\r\n/**\r\n * Ceils the numeric value to whole number or specific precision of set.\r\n *\r\n * @param value      Value\r\n * @param precision  Precision (number of decimal points)\r\n * @return Rounded value\r\n */\r\nexport function ceil(value, precision) {\r\n    if (!isNumber(precision) || precision <= 0) {\r\n        return Math.ceil(value);\r\n    }\r\n    else {\r\n        let d = Math.pow(10, precision);\r\n        return Math.ceil(value * d) / d;\r\n    }\r\n}\r\n/**\r\n * [getCubicControlPointA description]\r\n *\r\n * @ignore Exclude from docs\r\n * @todo Description\r\n * @param p0        [description]\r\n * @param p1        [description]\r\n * @param p2        [description]\r\n * @param p3        [description]\r\n * @param tensionX  [description]\r\n * @param tensionY  [description]\r\n * @return [description]\r\n */\r\nexport function getCubicControlPointA(p0, p1, p2, tensionX, tensionY) {\r\n    return { x: ((-p0.x + p1.x / tensionX + p2.x) * tensionX), y: ((-p0.y + p1.y / tensionY + p2.y) * tensionY) };\r\n}\r\n/**\r\n * [getCubicControlPointB description]\r\n *\r\n * @ignore Exclude from docs\r\n * @todo Description\r\n * @param p0        [description]\r\n * @param p1        [description]\r\n * @param p2        [description]\r\n * @param p3        [description]\r\n * @param tensionX  [description]\r\n * @param tensionY  [description]\r\n * @return [description]\r\n */\r\nexport function getCubicControlPointB(p1, p2, p3, tensionX, tensionY) {\r\n    return { x: ((p1.x + p2.x / tensionX - p3.x) * tensionX), y: ((p1.y + p2.y / tensionY - p3.y) * tensionY) };\r\n}\r\nexport function fitToRange(value, min, max) {\r\n    return Math.min(Math.max(value, min), max);\r\n}\r\n/**\r\n * Returns sine of an angle specified in degrees.\r\n *\r\n * @param value  Value\r\n * @return Sine\r\n */\r\nexport function sin(angle) {\r\n    return Math.sin(RADIANS * angle);\r\n}\r\n/**\r\n * Returns tan of an angle specified in degrees.\r\n *\r\n * @param value  Value\r\n * @return Sine\r\n */\r\nexport function tan(angle) {\r\n    return Math.tan(RADIANS * angle);\r\n}\r\n/**\r\n * Returns cosine of an angle specified in degrees.\r\n *\r\n * @param value  Value\r\n * @return Cosine\r\n */\r\nexport function cos(angle) {\r\n    return Math.cos(RADIANS * angle);\r\n}\r\n// 0 to 360\r\nexport function normalizeAngle(value) {\r\n    value = value % 360;\r\n    if (value < 0) {\r\n        value += 360;\r\n    }\r\n    return value;\r\n}\r\n// TODO this doesn't work properly for skewing, and it's probably broken for rotation too\r\nexport function getArcBounds(cx, cy, startAngle, endAngle, radius) {\r\n    let minX = Number.MAX_VALUE;\r\n    let minY = Number.MAX_VALUE;\r\n    let maxX = -Number.MAX_VALUE;\r\n    let maxY = -Number.MAX_VALUE;\r\n    let bpoints = [];\r\n    bpoints.push(getArcPoint(radius, startAngle));\r\n    bpoints.push(getArcPoint(radius, endAngle));\r\n    let fromAngle = Math.min(Math.floor(startAngle / 90) * 90, Math.floor(endAngle / 90) * 90);\r\n    let toAngle = Math.max(Math.ceil(startAngle / 90) * 90, Math.ceil(endAngle / 90) * 90);\r\n    for (let angle = fromAngle; angle <= toAngle; angle += 90) {\r\n        if (angle >= startAngle && angle <= endAngle) {\r\n            bpoints.push(getArcPoint(radius, angle));\r\n        }\r\n    }\r\n    for (let i = 0; i < bpoints.length; i++) {\r\n        let pt = bpoints[i];\r\n        if (pt.x < minX) {\r\n            minX = pt.x;\r\n        }\r\n        if (pt.y < minY) {\r\n            minY = pt.y;\r\n        }\r\n        if (pt.x > maxX) {\r\n            maxX = pt.x;\r\n        }\r\n        if (pt.y > maxY) {\r\n            maxY = pt.y;\r\n        }\r\n    }\r\n    return ({ left: cx + minX, top: cy + minY, right: cx + maxX, bottom: cy + maxY });\r\n}\r\n/**\r\n * Returns point on arc\r\n *\r\n * @param center point\r\n * @param radius\r\n * @param arc\r\n * @return {boolean}\r\n */\r\nexport function getArcPoint(radius, arc) {\r\n    return ({ x: radius * cos(arc), y: radius * sin(arc) });\r\n}\r\nexport function mergeBounds(bounds) {\r\n    const len = bounds.length;\r\n    if (len > 0) {\r\n        let bound = bounds[0];\r\n        let left = bound.left;\r\n        let top = bound.top;\r\n        let right = bound.right;\r\n        let bottom = bound.bottom;\r\n        if (len > 1) {\r\n            for (let i = 1; i < len; i++) {\r\n                bound = bounds[i];\r\n                left = Math.min(bound.left, left);\r\n                right = Math.max(bound.right, right);\r\n                top = Math.min(bound.top, top);\r\n                bottom = Math.max(bound.bottom, bottom);\r\n            }\r\n        }\r\n        return { left, right, top, bottom };\r\n    }\r\n    return { left: 0, right: 0, top: 0, bottom: 0 };\r\n}\r\nexport function fitAngleToRange(value, startAngle, endAngle) {\r\n    if (startAngle > endAngle) {\r\n        let temp = startAngle;\r\n        startAngle = endAngle;\r\n        endAngle = temp;\r\n    }\r\n    value = normalizeAngle(value);\r\n    let count = (startAngle - normalizeAngle(startAngle)) / 360;\r\n    if (value < startAngle) {\r\n        value += 360 * (count + 1);\r\n    }\r\n    let maxEnd = startAngle + (endAngle - startAngle) / 2 + 180;\r\n    let maxStart = startAngle + (endAngle - startAngle) / 2 - 180;\r\n    if (value > endAngle) {\r\n        if (value - 360 > startAngle) {\r\n            value -= 360;\r\n        }\r\n        else {\r\n            if (value < maxEnd) {\r\n                value = endAngle;\r\n            }\r\n            else {\r\n                value = startAngle;\r\n            }\r\n        }\r\n    }\r\n    if (value < startAngle) {\r\n        if (value > maxStart) {\r\n            value = startAngle;\r\n        }\r\n        else {\r\n            value = endAngle;\r\n        }\r\n    }\r\n    return value;\r\n}\r\nexport function inBounds(point, bounds) {\r\n    if (point.x >= bounds.left && point.y >= bounds.top && point.x <= bounds.right && point.y <= bounds.bottom) {\r\n        return true;\r\n    }\r\n    return false;\r\n}\r\nexport function getAngle(point1, point2) {\r\n    if (!point2) {\r\n        point2 = { x: point1.x * 2, y: point1.y * 2 };\r\n    }\r\n    let diffX = point2.x - point1.x;\r\n    let diffY = point2.y - point1.y;\r\n    let angle = Math.atan2(diffY, diffX) * DEGREES;\r\n    if (angle < 0) {\r\n        angle += 360;\r\n    }\r\n    return normalizeAngle(angle);\r\n}\r\n/**\r\n * [getPointOnQuadraticCurve description]\r\n *\r\n * @ignore Exclude from docs\r\n * @todo Description\r\n * @param pointA        [description]\r\n * @param pointB        [description]\r\n * @param controlPoint  [description]\r\n * @param position      [description]\r\n * @return [description]\r\n */\r\nexport function getPointOnQuadraticCurve(pointA, pointB, controlPoint, position) {\r\n    let x = (1 - position) * (1 - position) * pointA.x + 2 * (1 - position) * position * controlPoint.x + position * position * pointB.x;\r\n    let y = (1 - position) * (1 - position) * pointA.y + 2 * (1 - position) * position * controlPoint.y + position * position * pointB.y;\r\n    return { x: x, y: y };\r\n}\r\nexport function getPointOnLine(pointA, pointB, position) {\r\n    return { x: pointA.x + (pointB.x - pointA.x) * position, y: pointA.y + (pointB.y - pointA.y) * position };\r\n}\r\n/**\r\n * Returns the closest value from the array of values to the reference value.\r\n *\r\n * @param values  Array of values\r\n * @param value   Reference value\r\n * @return Closes value from the array\r\n */\r\nexport function closest(values, referenceValue) {\r\n    return values.reduce(function (prev, curr) {\r\n        return (Math.abs(curr - referenceValue) < Math.abs(prev - referenceValue) ? curr : prev);\r\n    });\r\n}\r\nexport function boundsOverlap(bounds1, bounds2) {\r\n    return !(bounds1.bottom < bounds2.top || bounds2.bottom < bounds1.top || bounds1.right < bounds2.left || bounds2.right < bounds1.left);\r\n}\r\n","/**\r\n * Modified from Pixi:\r\n *\r\n * The MIT License\r\n *\r\n * Copyright (c) 2013-2017 Mathew Groves, Chad Engler\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy\r\n * of this software and associated documentation files (the \"Software\"), to deal\r\n * in the Software without restriction, including without limitation the rights\r\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n * copies of the Software, and to permit persons to whom the Software is\r\n * furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n * THE SOFTWARE.\r\n */\r\n/**\r\n * @ignore\r\n */\r\nexport class Matrix {\r\n    constructor(a = 1, b = 0, c = 0, d = 1, tx = 0, ty = 0) {\r\n        Object.defineProperty(this, \"a\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"b\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"c\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"d\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"tx\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"ty\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        this.a = a;\r\n        this.b = b;\r\n        this.c = c;\r\n        this.d = d;\r\n        this.tx = tx;\r\n        this.ty = ty;\r\n    }\r\n    /**\r\n     * Sets the matrix based on all the available properties\r\n     */\r\n    setTransform(x, y, pivotX, pivotY, rotation, scale = 1) {\r\n        this.a = Math.cos(rotation) * scale;\r\n        this.b = Math.sin(rotation) * scale;\r\n        this.c = -Math.sin(rotation) * scale;\r\n        this.d = Math.cos(rotation) * scale;\r\n        this.tx = x - ((pivotX * this.a) + (pivotY * this.c));\r\n        this.ty = y - ((pivotX * this.b) + (pivotY * this.d));\r\n    }\r\n    /**\r\n     * Get a new position with the current transformation applied.\r\n     * Can be used to go from a child's coordinate space to the world coordinate space. (e.g. rendering)\r\n     */\r\n    apply(origin) {\r\n        return {\r\n            x: (this.a * origin.x) + (this.c * origin.y) + this.tx,\r\n            y: (this.b * origin.x) + (this.d * origin.y) + this.ty\r\n        };\r\n    }\r\n    /**\r\n     * Get a new position with the inverse of the current transformation applied.\r\n     * Can be used to go from the world coordinate space to a child's coordinate space. (e.g. input)\r\n     */\r\n    applyInverse(origin) {\r\n        const id = 1 / ((this.a * this.d) + (this.c * -this.b));\r\n        return {\r\n            x: (this.d * id * origin.x) + (-this.c * id * origin.y) + (((this.ty * this.c) - (this.tx * this.d)) * id),\r\n            y: (this.a * id * origin.y) + (-this.b * id * origin.x) + (((-this.ty * this.a) + (this.tx * this.b)) * id)\r\n        };\r\n    }\r\n    /**\r\n     * Appends the given Matrix to this Matrix.\r\n     */\r\n    append(matrix) {\r\n        const a1 = this.a;\r\n        const b1 = this.b;\r\n        const c1 = this.c;\r\n        const d1 = this.d;\r\n        this.a = (matrix.a * a1) + (matrix.b * c1);\r\n        this.b = (matrix.a * b1) + (matrix.b * d1);\r\n        this.c = (matrix.c * a1) + (matrix.d * c1);\r\n        this.d = (matrix.c * b1) + (matrix.d * d1);\r\n        this.tx = (matrix.tx * a1) + (matrix.ty * c1) + this.tx;\r\n        this.ty = (matrix.tx * b1) + (matrix.ty * d1) + this.ty;\r\n    }\r\n    /**\r\n     * Prepends the given Matrix to this Matrix.\r\n     */\r\n    prepend(matrix) {\r\n        const tx1 = this.tx;\r\n        if (matrix.a !== 1 || matrix.b !== 0 || matrix.c !== 0 || matrix.d !== 1) {\r\n            const a1 = this.a;\r\n            const c1 = this.c;\r\n            this.a = (a1 * matrix.a) + (this.b * matrix.c);\r\n            this.b = (a1 * matrix.b) + (this.b * matrix.d);\r\n            this.c = (c1 * matrix.a) + (this.d * matrix.c);\r\n            this.d = (c1 * matrix.b) + (this.d * matrix.d);\r\n        }\r\n        this.tx = (tx1 * matrix.a) + (this.ty * matrix.c) + matrix.tx;\r\n        this.ty = (tx1 * matrix.b) + (this.ty * matrix.d) + matrix.ty;\r\n    }\r\n    /**\r\n     * Copies the other matrix's properties into this matrix\r\n     */\r\n    copyFrom(matrix) {\r\n        this.a = matrix.a;\r\n        this.b = matrix.b;\r\n        this.c = matrix.c;\r\n        this.d = matrix.d;\r\n        this.tx = matrix.tx;\r\n        this.ty = matrix.ty;\r\n    }\r\n}\r\n","import { Entity } from \"./Entity\";\r\nimport { TextFormatter } from \"./TextFormatter\";\r\nimport * as $object from \"./Object\";\r\nimport * as $utils from \"./Utils\";\r\nimport * as $type from \"./Type\";\r\n/**\r\n * Number formatter\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/formatters/formatting-numbers/} for more info\r\n * @important\r\n */\r\nexport class NumberFormatter extends Entity {\r\n    _setDefaults() {\r\n        // Defaults\r\n        this._setDefault(\"negativeBase\", 0);\r\n        this._setDefault(\"numberFormat\", \"#,###.#####\");\r\n        this._setDefault(\"smallNumberThreshold\", 1.00);\r\n        const bns = \"_big_number_suffix_\";\r\n        const sns = \"_small_number_suffix_\";\r\n        const bs = \"_byte_suffix_\";\r\n        this._setDefault(\"bigNumberPrefixes\", [\r\n            { \"number\": 1e+3, \"suffix\": this._t(bns + \"3\") },\r\n            { \"number\": 1e+6, \"suffix\": this._t(bns + \"6\") },\r\n            { \"number\": 1e+9, \"suffix\": this._t(bns + \"9\") },\r\n            { \"number\": 1e+12, \"suffix\": this._t(bns + \"12\") },\r\n            { \"number\": 1e+15, \"suffix\": this._t(bns + \"15\") },\r\n            { \"number\": 1e+18, \"suffix\": this._t(bns + \"18\") },\r\n            { \"number\": 1e+21, \"suffix\": this._t(bns + \"21\") },\r\n            { \"number\": 1e+24, \"suffix\": this._t(bns + \"24\") }\r\n        ]);\r\n        this._setDefault(\"smallNumberPrefixes\", [\r\n            { \"number\": 1e-24, \"suffix\": this._t(sns + \"24\") },\r\n            { \"number\": 1e-21, \"suffix\": this._t(sns + \"21\") },\r\n            { \"number\": 1e-18, \"suffix\": this._t(sns + \"18\") },\r\n            { \"number\": 1e-15, \"suffix\": this._t(sns + \"15\") },\r\n            { \"number\": 1e-12, \"suffix\": this._t(sns + \"12\") },\r\n            { \"number\": 1e-9, \"suffix\": this._t(sns + \"9\") },\r\n            { \"number\": 1e-6, \"suffix\": this._t(sns + \"6\") },\r\n            { \"number\": 1e-3, \"suffix\": this._t(sns + \"3\") }\r\n        ]);\r\n        this._setDefault(\"bytePrefixes\", [\r\n            { \"number\": 1, suffix: this._t(bs + \"B\") },\r\n            { \"number\": 1024, suffix: this._t(bs + \"KB\") },\r\n            { \"number\": 1048576, suffix: this._t(bs + \"MB\") },\r\n            { \"number\": 1073741824, suffix: this._t(bs + \"GB\") },\r\n            { \"number\": 1099511627776, suffix: this._t(bs + \"TB\") },\r\n            { \"number\": 1125899906842624, suffix: this._t(bs + \"PB\") }\r\n        ]);\r\n        super._setDefaults();\r\n    }\r\n    _beforeChanged() {\r\n        super._beforeChanged();\r\n    }\r\n    /**\r\n     * Formats the number according to specific format.\r\n     *\r\n     * @param value   Value to format\r\n     * @param format  Format to apply\r\n     * @return Formatted number\r\n     */\r\n    format(value, format, precision) {\r\n        // no format passed in or \"Number\"\r\n        if (format == null || ($type.isString(format) && format.toLowerCase() === \"number\")) {\r\n            format = this.get(\"numberFormat\", \"\");\r\n        }\r\n        // Init return value\r\n        let formatted;\r\n        // Cast to number just in case\r\n        // TODO: maybe use better casting\r\n        let source = Number(value);\r\n        // Is it a built-in format or Intl.NumberFormatOptions\r\n        if ($type.isObject(format)) {\r\n            try {\r\n                if (this.get(\"intlLocales\")) {\r\n                    return new Intl.NumberFormat(this.get(\"intlLocales\"), format).format(source);\r\n                }\r\n                else {\r\n                    return new Intl.NumberFormat(undefined, format).format(source);\r\n                }\r\n            }\r\n            catch (e) {\r\n                return \"Invalid\";\r\n            }\r\n        }\r\n        else {\r\n            // Clean format\r\n            format = $utils.cleanFormat(format);\r\n            // Get format info (it will also deal with parser caching)\r\n            let info = this.parseFormat(format, this._root.language);\r\n            // format and replace the number\r\n            let details;\r\n            if (source > this.get(\"negativeBase\")) {\r\n                details = info.positive;\r\n            }\r\n            else if (source < this.get(\"negativeBase\")) {\r\n                details = info.negative;\r\n            }\r\n            else {\r\n                details = info.zero;\r\n            }\r\n            // Adjust precision\r\n            if (precision != null && !details.mod) {\r\n                details = $object.copy(details);\r\n                details.decimals.active = source == 0 ? 0 : precision;\r\n            }\r\n            // Format\r\n            formatted = details.template.split($type.PLACEHOLDER).join(this.applyFormat(source, details));\r\n        }\r\n        if (this.get(\"forceLTR\") === true) {\r\n            formatted = \"\" + formatted;\r\n        }\r\n        return formatted;\r\n    }\r\n    /**\r\n     * Parses supplied format into structured object which can be used to format\r\n     * the number.\r\n     *\r\n     * @param format Format string, i.e. \"#,###.00\"\r\n     * @param language Language\r\n     * @ignore\r\n     */\r\n    parseFormat(format, language) {\r\n        // Check cache\r\n        // TODO\r\n        // let cached = this.getCache(format);\r\n        // if (cached != null) {\r\n        // \treturn cached;\r\n        // }\r\n        const thousandSeparator = language.translateEmpty(\"_thousandSeparator\");\r\n        const decimalSeparator = language.translateEmpty(\"_decimalSeparator\");\r\n        // init format parse info holder\r\n        let info = {\r\n            \"positive\": {\r\n                \"thousands\": {\r\n                    \"active\": -1,\r\n                    \"passive\": -1,\r\n                    \"interval\": -1,\r\n                    \"separator\": thousandSeparator\r\n                },\r\n                \"decimals\": {\r\n                    \"active\": -1,\r\n                    \"passive\": -1,\r\n                    \"separator\": decimalSeparator\r\n                },\r\n                \"template\": \"\",\r\n                \"source\": \"\",\r\n                \"parsed\": false\r\n            },\r\n            \"negative\": {\r\n                \"thousands\": {\r\n                    \"active\": -1,\r\n                    \"passive\": -1,\r\n                    \"interval\": -1,\r\n                    \"separator\": thousandSeparator\r\n                },\r\n                \"decimals\": {\r\n                    \"active\": -1,\r\n                    \"passive\": -1,\r\n                    \"separator\": decimalSeparator\r\n                },\r\n                \"template\": \"\",\r\n                \"source\": \"\",\r\n                \"parsed\": false\r\n            },\r\n            \"zero\": {\r\n                \"thousands\": {\r\n                    \"active\": -1,\r\n                    \"passive\": -1,\r\n                    \"interval\": -1,\r\n                    \"separator\": thousandSeparator\r\n                },\r\n                \"decimals\": {\r\n                    \"active\": -1,\r\n                    \"passive\": -1,\r\n                    \"separator\": decimalSeparator\r\n                },\r\n                \"template\": \"\",\r\n                \"source\": \"\",\r\n                \"parsed\": false\r\n            }\r\n        };\r\n        // Escape double vertical bars (that mean display one vertical bar)\r\n        format = format.replace(\"||\", $type.PLACEHOLDER2);\r\n        // Split it up and deal with different formats\r\n        let parts = format.split(\"|\");\r\n        info.positive.source = parts[0];\r\n        if (typeof parts[2] === \"undefined\") {\r\n            info.zero = info.positive;\r\n        }\r\n        else {\r\n            info.zero.source = parts[2];\r\n        }\r\n        if (typeof parts[1] === \"undefined\") {\r\n            info.negative = info.positive;\r\n        }\r\n        else {\r\n            info.negative.source = parts[1];\r\n        }\r\n        // Parse each\r\n        $object.each(info, (_part, item) => {\r\n            // Already parsed\r\n            if (item.parsed) {\r\n                return;\r\n            }\r\n            // Check cached\r\n            // TODO\r\n            // if (typeof this.getCache(item.source) !== \"undefined\") {\r\n            // \tinfo[part] = this.getCache(item.source);\r\n            // \treturn;\r\n            // }\r\n            // Begin parsing\r\n            let partFormat = item.source;\r\n            // Just \"Number\"?\r\n            if (partFormat.toLowerCase() === \"number\") {\r\n                partFormat = this.get(\"numberFormat\", \"#,###.#####\");\r\n            }\r\n            // Let TextFormatter split into chunks\r\n            let chunks = TextFormatter.chunk(partFormat, true);\r\n            for (let i = 0; i < chunks.length; i++) {\r\n                let chunk = chunks[i];\r\n                // replace back double vertical bar\r\n                chunk.text = chunk.text.replace($type.PLACEHOLDER2, \"|\");\r\n                if (chunk.type === \"value\") {\r\n                    // Parse format\r\n                    // Look for codes\r\n                    let matches = chunk.text.match(/[#0.,]+[ ]?[abespABESP%!]?[abespABESP!]?/);\r\n                    if (matches) {\r\n                        if (matches === null || matches[0] === \"\") {\r\n                            // no codes here - assume string\r\n                            // nothing to do here\r\n                            item.template += chunk.text;\r\n                        }\r\n                        else {\r\n                            // look for the format modifiers at the end\r\n                            let mods = matches[0].match(/[abespABESP%!]{2}|[abespABESP%]{1}$/);\r\n                            if (mods) {\r\n                                item.mod = mods[0].toLowerCase();\r\n                                item.modSpacing = matches[0].match(/[ ]{1}[abespABESP%!]{1}$/) ? true : false;\r\n                            }\r\n                            // break the format up\r\n                            let a = matches[0].split(\".\");\r\n                            // Deal with thousands\r\n                            if (a[0] === \"\") {\r\n                                // No directives for thousands\r\n                                // Leave default settings (no formatting)\r\n                            }\r\n                            else {\r\n                                // Counts\r\n                                item.thousands.active = (a[0].match(/0/g) || []).length;\r\n                                item.thousands.passive = (a[0].match(/\\#/g) || []).length + item.thousands.active;\r\n                                // Separator interval\r\n                                let b = a[0].split(\",\");\r\n                                if (b.length === 1) {\r\n                                    // No thousands separators\r\n                                    // Do nothing\r\n                                }\r\n                                else {\r\n                                    // Use length fo the last chunk as thousands length\r\n                                    item.thousands.interval = (b.pop() || \"\").length;\r\n                                    if (item.thousands.interval === 0) {\r\n                                        item.thousands.interval = -1;\r\n                                    }\r\n                                }\r\n                            }\r\n                            // Deal with decimals\r\n                            if (typeof (a[1]) === \"undefined\") {\r\n                                // No directives for decimals\r\n                                // Leave at defaults (no formatting)\r\n                            }\r\n                            else {\r\n                                // Counts\r\n                                item.decimals.active = (a[1].match(/0/g) || []).length;\r\n                                item.decimals.passive = (a[1].match(/\\#/g) || []).length + item.decimals.active;\r\n                            }\r\n                            // Add special code to template\r\n                            item.template += chunk.text.split(matches[0]).join($type.PLACEHOLDER);\r\n                        }\r\n                    }\r\n                }\r\n                else {\r\n                    // Quoted string - take it as it is\r\n                    item.template += chunk.text;\r\n                }\r\n            }\r\n            // Apply style formatting\r\n            //item.template = getTextFormatter().format(item.template, this.outputFormat);\r\n            // Save cache\r\n            // TODO\r\n            //this.setCache(item.source, item);\r\n            // Mark this as parsed\r\n            item.parsed = true;\r\n        });\r\n        // Save cache (the whole thing)\r\n        // TODO\r\n        //this.setCache(format, info);\r\n        return info;\r\n    }\r\n    /**\r\n     * Applies parsed format to a numeric value.\r\n     *\r\n     * @param value    Value\r\n     * @param details  Parsed format as returned by parseFormat()\r\n     * @return Formatted number\r\n     * @ignore\r\n     */\r\n    applyFormat(value, details) {\r\n        // Use absolute values\r\n        let negative = value < 0;\r\n        value = Math.abs(value);\r\n        // Recalculate according to modifier\r\n        let prefix = \"\", suffix = \"\";\r\n        let mods = details.mod ? details.mod.split(\"\") : [];\r\n        if (mods.indexOf(\"b\") !== -1) {\r\n            let a = this.applyPrefix(value, this.get(\"bytePrefixes\"), mods.indexOf(\"!\") !== -1);\r\n            value = a[0];\r\n            prefix = a[1];\r\n            suffix = a[2];\r\n            if (details.modSpacing) {\r\n                suffix = \" \" + suffix;\r\n            }\r\n        }\r\n        else if (mods.indexOf(\"a\") !== -1) {\r\n            let a = this.applyPrefix(value, value < this.get(\"smallNumberThreshold\") ? this.get(\"smallNumberPrefixes\") : this.get(\"bigNumberPrefixes\"), mods.indexOf(\"!\") !== -1);\r\n            value = a[0];\r\n            prefix = a[1];\r\n            suffix = a[2];\r\n            if (details.modSpacing) {\r\n                suffix = \" \" + suffix;\r\n            }\r\n        }\r\n        else if (mods.indexOf(\"p\") !== -1) {\r\n            let ol = Math.min(value.toString().length + 2, 21);\r\n            //value *= 100;\r\n            value = parseFloat(value.toPrecision(ol));\r\n            prefix = this._root.language.translate(\"_percentPrefix\");\r\n            suffix = this._root.language.translate(\"_percentSuffix\");\r\n            if (prefix == \"\" && suffix == \"\") {\r\n                suffix = \"%\";\r\n            }\r\n        }\r\n        else if (mods.indexOf(\"%\") !== -1) {\r\n            let ol = Math.min(value.toString().length + 2, 21);\r\n            value *= 100;\r\n            value = parseFloat(value.toPrecision(ol));\r\n            suffix = \"%\";\r\n        }\r\n        else if (mods.indexOf(\"\") !== -1) {\r\n            let ol = Math.min(value.toString().length + 3, 21);\r\n            value *= 1000;\r\n            value = parseFloat(value.toPrecision(ol));\r\n            suffix = \"\";\r\n        }\r\n        // Round to passive\r\n        if (mods.indexOf(\"e\") !== -1) {\r\n            // convert the value to exponential\r\n            let exp;\r\n            if (details.decimals.passive >= 0) {\r\n                exp = value.toExponential(details.decimals.passive).split(\"e\");\r\n            }\r\n            else {\r\n                exp = value.toExponential().split(\"e\");\r\n            }\r\n            value = Number(exp[0]);\r\n            suffix = \"e\" + exp[1];\r\n            if (details.modSpacing) {\r\n                suffix = \" \" + suffix;\r\n            }\r\n        }\r\n        else if (details.decimals.passive === 0) {\r\n            value = Math.round(value);\r\n        }\r\n        else if (details.decimals.passive > 0) {\r\n            let d = Math.pow(10, details.decimals.passive);\r\n            value = Math.round(value * d) / d;\r\n        }\r\n        // Init return value\r\n        let res = \"\";\r\n        // Calc integer and decimal parts\r\n        let a = $type.numberToString(value).split(\".\");\r\n        // Format integers\r\n        let ints = a[0];\r\n        // Pad integers to active length\r\n        if (ints.length < details.thousands.active) {\r\n            ints = Array(details.thousands.active - ints.length + 1).join(\"0\") + ints;\r\n        }\r\n        // Insert thousands separators\r\n        if (details.thousands.interval > 0) {\r\n            let ip = [];\r\n            let intsr = ints.split(\"\").reverse().join(\"\");\r\n            for (let i = 0, len = ints.length; i <= len; i += details.thousands.interval) {\r\n                let c = intsr.substr(i, details.thousands.interval).split(\"\").reverse().join(\"\");\r\n                if (c !== \"\") {\r\n                    ip.unshift(c);\r\n                }\r\n            }\r\n            ints = ip.join(details.thousands.separator);\r\n        }\r\n        // Add integers\r\n        res += ints;\r\n        // Add decimals\r\n        if (a.length === 1) {\r\n            a.push(\"\");\r\n        }\r\n        let decs = a[1];\r\n        // Fill zeros?\r\n        if (decs.length < details.decimals.active) {\r\n            decs += Array(details.decimals.active - decs.length + 1).join(\"0\");\r\n        }\r\n        if (decs !== \"\") {\r\n            res += details.decimals.separator + decs;\r\n        }\r\n        // Can't have empty return value\r\n        if (res === \"\") {\r\n            res = \"0\";\r\n        }\r\n        // Add minus sign back\r\n        if (value !== 0 && negative && (mods.indexOf(\"s\") === -1)) {\r\n            res = \"-\" + res;\r\n        }\r\n        // Add suffixes/prefixes\r\n        if (prefix) {\r\n            res = prefix + res;\r\n        }\r\n        if (suffix) {\r\n            res += suffix;\r\n        }\r\n        return res;\r\n    }\r\n    applyPrefix(value, prefixes, force = false) {\r\n        let newvalue = value;\r\n        let prefix = \"\";\r\n        let suffix = \"\";\r\n        let applied = false;\r\n        let k = 1;\r\n        for (let i = 0, len = prefixes.length; i < len; i++) {\r\n            if (prefixes[i].number <= value) {\r\n                if (prefixes[i].number === 0) {\r\n                    newvalue = 0;\r\n                }\r\n                else {\r\n                    newvalue = value / prefixes[i].number;\r\n                    k = prefixes[i].number;\r\n                }\r\n                prefix = prefixes[i].prefix;\r\n                suffix = prefixes[i].suffix;\r\n                applied = true;\r\n            }\r\n        }\r\n        if (!applied && force && prefixes.length && value != 0) {\r\n            // Prefix was not applied. Use the first prefix.\r\n            newvalue = value / prefixes[0].number;\r\n            prefix = prefixes[0].prefix;\r\n            suffix = prefixes[0].suffix;\r\n            applied = true;\r\n        }\r\n        if (applied) {\r\n            newvalue = parseFloat(newvalue.toPrecision(Math.min(k.toString().length + Math.floor(newvalue).toString().replace(/[^0-9]*/g, \"\").length, 21)));\r\n        }\r\n        return [newvalue, prefix, suffix];\r\n    }\r\n    /**\r\n     * Replaces brackets with temporary placeholders.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param text  Input text\r\n     * @return Escaped text\r\n     */\r\n    escape(text) {\r\n        return text.replace(\"||\", $type.PLACEHOLDER2);\r\n    }\r\n    /**\r\n     * Replaces placeholders back to brackets.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param text  Escaped text\r\n     * @return Unescaped text\r\n     */\r\n    unescape(text) {\r\n        return text.replace($type.PLACEHOLDER2, \"|\");\r\n    }\r\n}\r\n","import * as $array from \"./Array\";\r\nexport function keys(object) {\r\n    return Object.keys(object);\r\n}\r\n/**\r\n * Returns an array of object's property names ordered using specific ordering\r\n * function.\r\n *\r\n * @param object  Source object\r\n * @param order   Ordering function\r\n * @returns Object property names\r\n */\r\nexport function keysOrdered(object, order) {\r\n    return keys(object).sort(order);\r\n}\r\nexport function copy(object) {\r\n    return Object.assign({}, object);\r\n}\r\nexport function each(object, f) {\r\n    keys(object).forEach((key) => {\r\n        f(key, object[key]);\r\n    });\r\n}\r\n/**\r\n * Iterates through all properties of the object calling `fn` for each of them.\r\n *\r\n * If return value of the function evaluates to `false` further iteration is\r\n * cancelled.\r\n *\r\n * @param object  Source object\r\n * @param fn      Callback function\r\n */\r\nexport function eachContinue(object, fn) {\r\n    for (let key in object) {\r\n        if (hasKey(object, key)) {\r\n            if (!fn(key, object[key])) {\r\n                break;\r\n            }\r\n        }\r\n    }\r\n}\r\n/**\r\n * Orders object properties using custom `ord` function and iterates through\r\n * them calling `fn` for each of them.\r\n *\r\n * @param object  Source object\r\n * @param fn      Callback function\r\n * @param order   Ordering function\r\n */\r\nexport function eachOrdered(object, fn, ord) {\r\n    $array.each(keysOrdered(object, ord), (key) => {\r\n        fn(key, object[key]);\r\n    });\r\n}\r\n/**\r\n * Checks if `object` has a specific `key`.\r\n *\r\n * @param object  Source object\r\n * @param key     Property name\r\n * @returns Has key?\r\n */\r\nexport function hasKey(object, key) {\r\n    return {}.hasOwnProperty.call(object, key);\r\n}\r\n/**\r\n * Copies all properties of one object to the other, omitting undefined, but only if property in target object doesn't have a value set.\r\n *\r\n * @param fromObject  Source object\r\n * @param toObject    Target object\r\n * @return Updated target object\r\n * @todo Maybe consolidate with utils.copy?\r\n */\r\nexport function softCopyProperties(source, target) {\r\n    each(source, (key, value) => {\r\n        // only if value is set\r\n        //if ($type.hasValue(value) && !($type.hasValue((<any>target)[key]))) {\r\n        if (value != null && target[key] == null) {\r\n            target[key] = value;\r\n        }\r\n    });\r\n    return target;\r\n}\r\n","/**\r\n * @ignore\r\n */\r\nexport function compare(left, right) {\r\n    if (left === right) {\r\n        return 0;\r\n    }\r\n    else if (left < right) {\r\n        return -1;\r\n    }\r\n    else {\r\n        return 1;\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nexport function compareArray(left, right, f) {\r\n    const leftLength = left.length;\r\n    const rightLength = right.length;\r\n    const length = Math.min(leftLength, rightLength);\r\n    for (let i = 0; i < length; ++i) {\r\n        const order = f(left[i], right[i]);\r\n        if (order !== 0) {\r\n            return order;\r\n        }\r\n    }\r\n    return compare(leftLength, rightLength);\r\n}\r\n/**\r\n * @ignore\r\n */\r\nexport function reverse(order) {\r\n    if (order < 0) {\r\n        return 1;\r\n    }\r\n    else if (order > 0) {\r\n        return -1;\r\n    }\r\n    else {\r\n        return 0;\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nexport function compareNumber(a, b) {\r\n    if (a === b) {\r\n        return 0;\r\n    }\r\n    else if (a < b) {\r\n        return -1;\r\n    }\r\n    else {\r\n        return 1;\r\n    }\r\n}\r\n","/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Represents a relative value (percent).\r\n *\r\n * The Percent object, can be instantiated using two ways:\r\n *\r\n * * Via `new Percent(X)`.\r\n * * Via `am5.percent(X)`.\r\n *\r\n * You can also use shortcut functions for `0%`, `50%`, and `100%`:\r\n * * `am5.p0`\r\n * * `am5.p50`\r\n * * `am5.p1000`\r\n */\r\nexport class Percent {\r\n    /**\r\n     * Constructor.\r\n     *\r\n     * @param percent  Percent value\r\n     */\r\n    constructor(percent) {\r\n        /**\r\n         * Value in percent.\r\n         */\r\n        Object.defineProperty(this, \"_value\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        this._value = percent;\r\n    }\r\n    /**\r\n     * Relative value.\r\n     *\r\n     * E.g. 100% is 1, 50% is 0.5, etc.\r\n     *\r\n     * This is useful to apply transformations to other values. E.g.:\r\n     *\r\n     * ```TypeScript\r\n     * let value = 256;\r\n     * let percent = new am5.p50;\r\n     * console.log(value * percent.value); // outputs 128\r\n     * ```\r\n     * ```JavaScript\r\n     * var value = 256;\r\n     * var percent = new am5.p50;\r\n     * console.log(value * percent.value); // outputs 128\r\n     * ```\r\n     *\r\n     * Alternatively, you can use `am5.percent()` helper function:\r\n     *\r\n     * ```TypeScript\r\n     * let value = 256;\r\n     * let percent = am5.p50;\r\n     * console.log(value * percent.value); // outputs 128\r\n     * ```\r\n     * ```JavaScript\r\n     * var value = 256;\r\n     * var percent = am5.p50;\r\n     * console.log(value * percent.value); // outputs 128\r\n     * ```\r\n     *\r\n     * @readonly\r\n     * @return Relative value\r\n     */\r\n    get value() {\r\n        return this._value / 100;\r\n    }\r\n    /**\r\n     * Value in percent.\r\n     *\r\n     * @return Percent\r\n     */\r\n    get percent() {\r\n        return this._value;\r\n    }\r\n    toString() {\r\n        return \"\" + this._value + \"%\";\r\n    }\r\n    interpolate(min, max) {\r\n        return min + (this.value * (max - min));\r\n    }\r\n    static normalize(percent, min, max) {\r\n        if (percent instanceof Percent) {\r\n            return percent;\r\n        }\r\n        else {\r\n            if (min === max) {\r\n                return new Percent(0);\r\n            }\r\n            else {\r\n                return new Percent(Math.min(Math.max((percent - min) * (1 / (max - min)), 0), 1) * 100);\r\n            }\r\n        }\r\n    }\r\n}\r\n/**\r\n * Converts numeric percent value to a proper [[Percent]] object.\r\n *\r\n * ```TypeScript\r\n * pieSeries.set(\"radius\", am5.percent(80));\r\n * ```\r\n * ```JavaScript\r\n * pieSeries.set(\"radius\", am5.percent(80));\r\n * ```\r\n *\r\n * @param value  Percent\r\n * @return Percent object\r\n */\r\nexport function percent(value) {\r\n    return new Percent(value);\r\n}\r\n/**\r\n * A shortcut function to `am5.percent(0)`.\r\n */\r\nexport const p0 = percent(0);\r\n/**\r\n * A shortcut function to `am5.percent(100)`.\r\n */\r\nexport const p100 = percent(100);\r\n/**\r\n * A shortcut function to `am5.percent(50)`.\r\n */\r\nexport const p50 = percent(50);\r\n/**\r\n * Checks if value is a [[Percent]] object.\r\n *\r\n * @ignore Exclude from docs\r\n * @param value  Input value\r\n * @return Is percent?\r\n */\r\nexport function isPercent(value) {\r\n    return value instanceof Percent;\r\n}\r\n","/** @ignore */ /** */\r\nimport * as $type from \"./Type\";\r\nimport * as $utils from \"./Utils\";\r\nimport { Sprite } from \"../render/Sprite\";\r\nimport { TextFormatter } from \"./TextFormatter\";\r\n/**\r\n * @ignore\r\n */\r\nexport function populateString(target, string) {\r\n    if (string != null) {\r\n        string = \"\" + string;\r\n        string = TextFormatter.escape(string);\r\n        let tags = string.match(/\\{([^}]+)\\}/g);\r\n        let i;\r\n        if (tags) {\r\n            for (i = 0; i < tags.length; i++) {\r\n                let tag = tags[i].replace(/\\{([^}]+)\\}/, \"$1\");\r\n                let value = getTagValue(target, tag, \"\");\r\n                if (value == null) {\r\n                    value = \"\";\r\n                }\r\n                string = string.split(tags[i]).join(value);\r\n            }\r\n        }\r\n        string = TextFormatter.unescape(string);\r\n    }\r\n    else {\r\n        string = \"\";\r\n    }\r\n    // TODO: apply adapter?\r\n    return string;\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction getTagValue(target, tagName, format) {\r\n    let value;\r\n    const dataItem = target.dataItem;\r\n    // Parse parts\r\n    let parts = [];\r\n    let reg = /(format[a-zA-Z]*)\\((.*)\\)|([^.]+)/g;\r\n    let matches;\r\n    while (true) {\r\n        matches = reg.exec(tagName);\r\n        if (matches === null) {\r\n            break;\r\n        }\r\n        if (matches[3]) {\r\n            // Simple property\r\n            parts.push({\r\n                prop: matches[3]\r\n            });\r\n            // Check if maybe we should force a formatter on this value\r\n            const dateFields = target.getDateFormatter().get(\"dateFields\", []);\r\n            const numericFields = target.getNumberFormatter().get(\"numericFields\", []);\r\n            const durationFields = target.getDurationFormatter().get(\"durationFields\", []);\r\n            if (dateFields.indexOf(matches[3]) !== -1) {\r\n                parts.push({\r\n                    method: \"formatDate\",\r\n                    params: []\r\n                });\r\n            }\r\n            else if (numericFields.indexOf(matches[3]) !== -1) {\r\n                parts.push({\r\n                    method: \"formatNumber\",\r\n                    params: []\r\n                });\r\n            }\r\n            else if (durationFields.indexOf(matches[3]) !== -1) {\r\n                parts.push({\r\n                    method: \"formatDuration\",\r\n                    params: []\r\n                });\r\n            }\r\n        }\r\n        else {\r\n            // Method\r\n            // Parse parameters\r\n            let params = [];\r\n            if ($utils.trim(matches[2]) != \"\") {\r\n                let reg2 = /'([^']*)'|\"([^\"]*)\"|([0-9\\-]+)/g;\r\n                let matches2;\r\n                while (true) {\r\n                    matches2 = reg2.exec(matches[2]);\r\n                    if (matches2 === null) {\r\n                        break;\r\n                    }\r\n                    params.push(matches2[1] || matches2[2] || matches2[3]);\r\n                }\r\n            }\r\n            parts.push({\r\n                method: matches[1],\r\n                params: params\r\n            });\r\n        }\r\n    }\r\n    // Check if we can retrieve the value from data item\r\n    if (dataItem) {\r\n        // Check values\r\n        value = getTagValueFromObject(target, parts, dataItem._settings);\r\n        // Check properties\r\n        if (value == null || $type.isObject(value)) { // isObject helps to solve problem with date axis, as for example dateX will get dateX from values object and won't get to the dateX date.\r\n            value = getTagValueFromObject(target, parts, dataItem);\r\n        }\r\n        // Check data context\r\n        let dataContext = dataItem.dataContext;\r\n        if (value == null && dataContext) {\r\n            value = getTagValueFromObject(target, parts, dataContext);\r\n            // Maybe it's a literal dot-separated name of the key in dataContext?\r\n            if (value == null) {\r\n                value = getTagValueFromObject(target, [{\r\n                        prop: tagName\r\n                    }], dataContext);\r\n            }\r\n            // scond data context level sometimes exist (tree map)\r\n            if (value == null && dataContext.dataContext) {\r\n                value = getTagValueFromObject(target, parts, dataContext.dataContext);\r\n            }\r\n        }\r\n        // Check component's data item\r\n        if (value == null && dataItem.component && dataItem.component.dataItem !== dataItem) {\r\n            value = getTagValue(dataItem.component, tagName, format);\r\n        }\r\n    }\r\n    // Check sprite's properties\r\n    if (value == null) {\r\n        value = getTagValueFromObject(target, parts, target);\r\n    }\r\n    // Finally, check the parent\r\n    if (value == null && target.parent) {\r\n        value = getTagValue(target.parent, tagName, format);\r\n    }\r\n    return value;\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction getCustomDataValue(target, prop) {\r\n    const customData = target.getPrivate(\"customData\");\r\n    if ($type.isObject(customData)) {\r\n        return customData[prop];\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nexport function getTagValueFromObject(target, parts, object, format) {\r\n    let current = object;\r\n    let formatApplied = false;\r\n    for (let i = 0, len = parts.length; i < len; i++) {\r\n        let part = parts[i];\r\n        if (part.prop) {\r\n            // Regular property\r\n            if (current instanceof Sprite) {\r\n                let tmp = current.get(part.prop);\r\n                if (tmp == null)\r\n                    tmp = current.getPrivate(part.prop);\r\n                if (tmp == null)\r\n                    tmp = getCustomDataValue(current, part.prop);\r\n                if (tmp == null)\r\n                    tmp = current[part.prop];\r\n                current = tmp;\r\n            }\r\n            else if (current.get) {\r\n                let tmp = current.get(part.prop);\r\n                if (tmp == null)\r\n                    tmp = current[part.prop];\r\n                current = tmp;\r\n            }\r\n            else {\r\n                current = current[part.prop];\r\n            }\r\n            if (current == null) {\r\n                // Not set, return undefined\r\n                return;\r\n            }\r\n        }\r\n        else {\r\n            // Method\r\n            switch (part.method) {\r\n                case \"formatNumber\":\r\n                    let numberValue = $type.toNumber(current);\r\n                    if (numberValue != null) {\r\n                        current = target.getNumberFormatter().format(numberValue, format || part.params[0] || undefined);\r\n                        formatApplied = true;\r\n                    }\r\n                    break;\r\n                case \"formatDate\":\r\n                    let dateValue = $type.toDate(current);\r\n                    if (!$type.isDate(dateValue) || $type.isNaN(dateValue.getTime())) {\r\n                        // Was not able to get date out of value, quitting and letting\r\n                        // calling method try another value\r\n                        return;\r\n                    }\r\n                    if (dateValue != null) {\r\n                        current = target.getDateFormatter().format(dateValue, format || part.params[0] || undefined);\r\n                        formatApplied = true;\r\n                    }\r\n                    break;\r\n                case \"formatDuration\":\r\n                    let durationValue = $type.toNumber(current);\r\n                    if (durationValue != null) {\r\n                        current = target.getDurationFormatter().format(durationValue, format || part.params[0] || undefined, part.params[1] || undefined);\r\n                        formatApplied = true;\r\n                    }\r\n                    break;\r\n                case \"urlEncode\":\r\n                case \"encodeURIComponent\":\r\n                    current = encodeURIComponent(current);\r\n                    break;\r\n                default:\r\n                    if (current[part.method]) {\r\n                        current[part.method].apply(object, part.params);\r\n                    }\r\n                    break;\r\n            }\r\n        }\r\n    }\r\n    // Apply default format if it wasn't applied explicitly\r\n    if (!formatApplied) {\r\n        let formatParts = [{\r\n                method: \"\",\r\n                params: format\r\n            }];\r\n        if (format == null) {\r\n            // Format is not set\r\n            // Determine from the type of the value\r\n            if ($type.isNumber(current)) {\r\n                formatParts[0].method = \"formatNumber\";\r\n                formatParts[0].params = \"\";\r\n            }\r\n            else if ($type.isDate(current)) {\r\n                formatParts[0].method = \"formatDate\";\r\n                formatParts[0].params = \"\";\r\n            }\r\n        }\r\n        else {\r\n            // Format set\r\n            // Try to determine formatter based on the format\r\n            let formatterType = $utils.getFormat(format);\r\n            // format\r\n            if (formatterType === \"number\") {\r\n                formatParts[0].method = \"formatNumber\";\r\n            }\r\n            else if (formatterType === \"date\") {\r\n                formatParts[0].method = \"formatDate\";\r\n            }\r\n            else if (formatterType === \"duration\") {\r\n                formatParts[0].method = \"formatDuration\";\r\n            }\r\n        }\r\n        // Apply format\r\n        if (formatParts[0].method) {\r\n            current = getTagValueFromObject(target, formatParts, current);\r\n        }\r\n    }\r\n    return current;\r\n}\r\n","/** @ignore */ /** */\r\nimport * as $array from \"./Array\";\r\nimport * as $utils from \"./Utils\";\r\n/**\r\n * @ignore\r\n */\r\nclass Native {\r\n    constructor() {\r\n        Object.defineProperty(this, \"_observer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_targets\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n        this._observer = new ResizeObserver((entries) => {\r\n            $array.each(entries, (entry) => {\r\n                $array.each(this._targets, (x) => {\r\n                    if (x.target === entry.target) {\r\n                        x.callback();\r\n                    }\r\n                });\r\n            });\r\n        });\r\n    }\r\n    addTarget(target, callback) {\r\n        this._observer.observe(target, { box: \"border-box\" });\r\n        this._targets.push({ target, callback });\r\n    }\r\n    removeTarget(target) {\r\n        this._observer.unobserve(target);\r\n        $array.keepIf(this._targets, (x) => {\r\n            return x.target !== target;\r\n        });\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nclass Raf {\r\n    constructor() {\r\n        Object.defineProperty(this, \"_timer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: null\r\n        });\r\n        Object.defineProperty(this, \"_targets\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n    }\r\n    addTarget(target, callback) {\r\n        if (this._timer === null) {\r\n            let lastTime = null;\r\n            const loop = () => {\r\n                const currentTime = Date.now();\r\n                if (lastTime === null || currentTime > (lastTime + Raf.delay)) {\r\n                    lastTime = currentTime;\r\n                    $array.each(this._targets, (x) => {\r\n                        let newSize = x.target.getBoundingClientRect();\r\n                        if (newSize.width !== x.size.width || newSize.height !== x.size.height) {\r\n                            x.size = newSize;\r\n                            x.callback();\r\n                        }\r\n                    });\r\n                }\r\n                if (this._targets.length === 0) {\r\n                    this._timer = null;\r\n                }\r\n                else {\r\n                    this._timer = requestAnimationFrame(loop);\r\n                }\r\n            };\r\n            this._timer = requestAnimationFrame(loop);\r\n        }\r\n        // We start off with fake bounds so that sensor always kicks in\r\n        let size = { width: 0, height: 0, left: 0, right: 0, top: 0, bottom: 0, x: 0, y: 0 };\r\n        this._targets.push({ target, callback, size });\r\n    }\r\n    removeTarget(target) {\r\n        $array.keepIf(this._targets, (x) => {\r\n            return x.target !== target;\r\n        });\r\n        if (this._targets.length === 0) {\r\n            if (this._timer !== null) {\r\n                cancelAnimationFrame(this._timer);\r\n                this._timer = null;\r\n            }\r\n        }\r\n    }\r\n}\r\nObject.defineProperty(Raf, \"delay\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: 200\r\n});\r\n/**\r\n * @ignore\r\n */\r\nlet observer = null;\r\n/**\r\n * @ignore\r\n */\r\nfunction makeSensor() {\r\n    if (observer === null) {\r\n        if (typeof ResizeObserver !== \"undefined\") {\r\n            observer = new Native();\r\n        }\r\n        else {\r\n            observer = new Raf();\r\n        }\r\n    }\r\n    return observer;\r\n}\r\n/**\r\n * @ignore\r\n */\r\nexport class ResizeSensor {\r\n    constructor(element, callback) {\r\n        Object.defineProperty(this, \"_sensor\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_element\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_listener\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_disposed\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        this._sensor = makeSensor();\r\n        this._element = element;\r\n        // This is needed because we need to know when the window is zoomed\r\n        this._listener = $utils.onZoom(callback);\r\n        this._sensor.addTarget(element, callback);\r\n    }\r\n    isDisposed() {\r\n        return this._disposed;\r\n    }\r\n    dispose() {\r\n        if (!this._disposed) {\r\n            this._disposed = true;\r\n            this._sensor.removeTarget(this._element);\r\n            this._listener.dispose();\r\n        }\r\n    }\r\n    get sensor() {\r\n        return this._sensor;\r\n    }\r\n}\r\n","import * as $object from \"./Object\";\r\nimport * as $ease from \"./Ease\";\r\n/**\r\n * An object representing a collection of setting values to apply as required.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/settings/states/} for more info\r\n */\r\nexport class State {\r\n    constructor(entity, settings) {\r\n        Object.defineProperty(this, \"_entity\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_settings\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_userSettings\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        this._entity = entity;\r\n        this._settings = settings;\r\n        $object.each(settings, (key) => {\r\n            this._userSettings[key] = true;\r\n        });\r\n    }\r\n    get(key, fallback) {\r\n        const value = this._settings[key];\r\n        if (value !== undefined) {\r\n            return value;\r\n        }\r\n        else {\r\n            return fallback;\r\n        }\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    setRaw(key, value) {\r\n        this._settings[key] = value;\r\n    }\r\n    /**\r\n     * Sets a setting `value` for the specified `key` to be set when the state\r\n     * is applied.\r\n     *\r\n     * @param   key       Setting key\r\n     * @param   value     Setting value\r\n     * @return            Setting value\r\n     */\r\n    set(key, value) {\r\n        this._userSettings[key] = true;\r\n        this.setRaw(key, value);\r\n    }\r\n    /**\r\n     * Removes a setting value for the specified `key`.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/concepts/settings/} for more info\r\n     * @param   key       Setting key\r\n     */\r\n    remove(key) {\r\n        delete this._userSettings[key];\r\n        delete this._settings[key];\r\n    }\r\n    /**\r\n     * Sets multiple settings at once.\r\n     *\r\n     * `settings` must be an object with key: value pairs.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/concepts/settings/} for more info\r\n     * @param settings Settings\r\n     */\r\n    setAll(settings) {\r\n        $object.keys(settings).forEach((key) => {\r\n            this.set(key, settings[key]);\r\n        });\r\n    }\r\n    _eachSetting(f) {\r\n        $object.each(this._settings, f);\r\n    }\r\n    /**\r\n     * Applies the state to the target element.\r\n     *\r\n     * All setting values are set immediately.\r\n     */\r\n    apply() {\r\n        const seen = {};\r\n        seen[\"stateAnimationEasing\"] = true;\r\n        seen[\"stateAnimationDuration\"] = true;\r\n        const defaultState = this._entity.states.lookup(\"default\");\r\n        this._eachSetting((key, value) => {\r\n            if (!seen[key]) {\r\n                seen[key] = true;\r\n                // save values to default state\r\n                if (this !== defaultState) {\r\n                    if (!(key in defaultState._settings)) {\r\n                        defaultState._settings[key] = this._entity.get(key);\r\n                    }\r\n                }\r\n                this._entity.set(key, value);\r\n            }\r\n        });\r\n    }\r\n    /**\r\n     * Applies the state to the target element.\r\n     *\r\n     * Returns an object representing all [[Animation]] objects created for\r\n     * each setting key transition.\r\n     *\r\n     * @return           Animations\r\n     */\r\n    applyAnimate(duration) {\r\n        if (duration == null) {\r\n            duration = this._settings.stateAnimationDuration;\r\n        }\r\n        if (duration == null) {\r\n            duration = this.get(\"stateAnimationDuration\", this._entity.get(\"stateAnimationDuration\", 0));\r\n        }\r\n        let easing = this._settings.stateAnimationEasing;\r\n        if (easing == null) {\r\n            easing = this.get(\"stateAnimationEasing\", this._entity.get(\"stateAnimationEasing\", $ease.cubic));\r\n        }\r\n        const defaultState = this._entity.states.lookup(\"default\");\r\n        const seen = {};\r\n        seen[\"stateAnimationEasing\"] = true;\r\n        seen[\"stateAnimationDuration\"] = true;\r\n        const animations = {};\r\n        this._eachSetting((key, value) => {\r\n            if (!seen[key]) {\r\n                seen[key] = true;\r\n                // save values to default state\r\n                if (this != defaultState) {\r\n                    if (!(key in defaultState._settings)) {\r\n                        defaultState._settings[key] = this._entity.get(key);\r\n                    }\r\n                }\r\n                const animation = this._entity.animate({\r\n                    key: key,\r\n                    to: value,\r\n                    duration: duration,\r\n                    easing: easing\r\n                });\r\n                if (animation) {\r\n                    animations[key] = animation;\r\n                }\r\n            }\r\n        });\r\n        return animations;\r\n    }\r\n}\r\n/**\r\n * Collection of [[State]] objects for an element.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/settings/states/} for more info\r\n */\r\nexport class States {\r\n    constructor(entity) {\r\n        Object.defineProperty(this, \"_states\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        Object.defineProperty(this, \"_entity\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        this._entity = entity;\r\n    }\r\n    /**\r\n     * Checks if a state by `name` exists. Returns it there is one.\r\n     *\r\n     * @param  name  State name\r\n     * @return       State\r\n     */\r\n    lookup(name) {\r\n        return this._states[name];\r\n    }\r\n    /**\r\n     * Sets supplied `settings` on a state by the `name`.\r\n     *\r\n     * If such state does not yet exists, it is created.\r\n     *\r\n     * @param   name      State name\r\n     * @param   settings  Settings\r\n     * @return            New State\r\n     */\r\n    create(name, settings) {\r\n        const state = this._states[name];\r\n        if (state) {\r\n            state.setAll(settings);\r\n            return state;\r\n        }\r\n        else {\r\n            const state = new State(this._entity, settings);\r\n            this._states[name] = state;\r\n            return state;\r\n        }\r\n    }\r\n    /**\r\n     * Removes the state called `name`.\r\n     *\r\n     * @param   name      State name\r\n     */\r\n    remove(name) {\r\n        delete this._states[name];\r\n    }\r\n    /**\r\n     * Applies a named state to the target element.\r\n     *\r\n     * @param  newState  State name\r\n     */\r\n    apply(newState) {\r\n        const state = this._states[newState];\r\n        if (state) {\r\n            state.apply();\r\n        }\r\n        this._entity._applyState(newState);\r\n    }\r\n    /**\r\n     * Applies a named state to the element.\r\n     *\r\n     * Returns an object representing all [[Animation]] objects created for\r\n     * each setting key transition.\r\n     *\r\n     * @param   newState  State name\r\n     * @return            Animations\r\n     */\r\n    applyAnimate(newState, duration) {\r\n        let animations;\r\n        const state = this._states[newState];\r\n        if (state) {\r\n            animations = state.applyAnimate(duration);\r\n        }\r\n        this._entity._applyStateAnimated(newState, duration);\r\n        return animations;\r\n    }\r\n}\r\n","import { EventDispatcher } from \"./EventDispatcher\";\r\nimport { Disposer, MultiDisposer } from \"./Disposer\";\r\nimport * as $array from \"./Array\";\r\nimport * as $object from \"./Object\";\r\nexport class TemplateState {\r\n    constructor(name, template, settings) {\r\n        Object.defineProperty(this, \"_settings\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_name\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_template\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        this._name = name;\r\n        this._template = template;\r\n        this._settings = settings;\r\n    }\r\n    get(key, fallback) {\r\n        const value = this._settings[key];\r\n        if (value !== undefined) {\r\n            return value;\r\n        }\r\n        else {\r\n            return fallback;\r\n        }\r\n    }\r\n    set(key, value) {\r\n        this._settings[key] = value;\r\n        // TODO maybe only do this if the value changed ?\r\n        this._template._stateChanged(this._name);\r\n    }\r\n    remove(key) {\r\n        delete this._settings[key];\r\n        // TODO maybe only do this if the value changed ?\r\n        this._template._stateChanged(this._name);\r\n    }\r\n    setAll(settings) {\r\n        $object.keys(settings).forEach((key) => {\r\n            this._settings[key] = settings[key];\r\n        });\r\n        this._template._stateChanged(this._name);\r\n    }\r\n    _apply(other, seen) {\r\n        $object.each(this._settings, (key, value) => {\r\n            if (!seen[key] && !other._userSettings[key]) {\r\n                seen[key] = true;\r\n                other.setRaw(key, value);\r\n            }\r\n        });\r\n    }\r\n}\r\nexport class TemplateStates {\r\n    constructor(template) {\r\n        Object.defineProperty(this, \"_template\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_states\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        this._template = template;\r\n    }\r\n    lookup(name) {\r\n        return this._states[name];\r\n    }\r\n    create(name, settings) {\r\n        const state = this._states[name];\r\n        if (state) {\r\n            state.setAll(settings);\r\n            return state;\r\n        }\r\n        else {\r\n            const state = new TemplateState(name, this._template, settings);\r\n            this._states[name] = state;\r\n            this._template._stateChanged(name);\r\n            return state;\r\n        }\r\n    }\r\n    remove(name) {\r\n        delete this._states[name];\r\n        this._template._stateChanged(name);\r\n    }\r\n    _apply(entity, state) {\r\n        $object.each(this._states, (key, value) => {\r\n            let seen = state.states[key];\r\n            if (seen == null) {\r\n                seen = state.states[key] = {};\r\n            }\r\n            const other = entity.states.create(key, {});\r\n            value._apply(other, seen);\r\n        });\r\n    }\r\n}\r\nexport class TemplateAdapters {\r\n    constructor() {\r\n        Object.defineProperty(this, \"_callbacks\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n    }\r\n    add(key, callback) {\r\n        let callbacks = this._callbacks[key];\r\n        if (callbacks === undefined) {\r\n            callbacks = this._callbacks[key] = [];\r\n        }\r\n        callbacks.push(callback);\r\n        return new Disposer(() => {\r\n            $array.removeFirst(callbacks, callback);\r\n            if (callbacks.length === 0) {\r\n                delete this._callbacks[key];\r\n            }\r\n        });\r\n    }\r\n    remove(key) {\r\n        const callbacks = this._callbacks[key];\r\n        if (callbacks !== undefined) {\r\n            delete this._callbacks[key];\r\n        }\r\n    }\r\n    _apply(entity) {\r\n        const disposers = [];\r\n        $object.each(this._callbacks, (key, callbacks) => {\r\n            $array.each(callbacks, (callback) => {\r\n                disposers.push(entity.adapters.add(key, callback));\r\n            });\r\n        });\r\n        return new MultiDisposer(disposers);\r\n    }\r\n}\r\n// TODO maybe extend from Properties ?\r\nexport class Template {\r\n    constructor(settings, isReal) {\r\n        Object.defineProperty(this, \"_settings\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_privateSettings\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        // TODO code duplication with Properties\r\n        Object.defineProperty(this, \"_settingEvents\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        Object.defineProperty(this, \"_privateSettingEvents\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        Object.defineProperty(this, \"_entities\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n        Object.defineProperty(this, \"states\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new TemplateStates(this)\r\n        });\r\n        Object.defineProperty(this, \"adapters\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new TemplateAdapters()\r\n        });\r\n        Object.defineProperty(this, \"events\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new EventDispatcher()\r\n        });\r\n        Object.defineProperty(this, \"setup\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        if (!isReal) {\r\n            throw new Error(\"You cannot use `new Class()`, instead use `Class.new()`\");\r\n        }\r\n        this._settings = settings;\r\n    }\r\n    /**\r\n     * Use this method to create an instance of this class.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/getting-started/#New_element_syntax} for more info\r\n     * @param   root      Root element\r\n     * @param   settings  Settings\r\n     * @param   template  Template\r\n     * @return            Instantiated object\r\n     */\r\n    static new(settings) {\r\n        return new Template(settings, true);\r\n    }\r\n    /**\r\n     * Array of all entities using this template.\r\n     */\r\n    get entities() {\r\n        return this._entities;\r\n    }\r\n    get(key, fallback) {\r\n        const value = this._settings[key];\r\n        if (value !== undefined) {\r\n            return value;\r\n        }\r\n        else {\r\n            return fallback;\r\n        }\r\n    }\r\n    setRaw(key, value) {\r\n        this._settings[key] = value;\r\n    }\r\n    set(key, value) {\r\n        if (this._settings[key] !== value) {\r\n            this.setRaw(key, value);\r\n            this._entities.forEach((entity) => {\r\n                entity._setTemplateProperty(this, key, value);\r\n            });\r\n        }\r\n    }\r\n    remove(key) {\r\n        if (key in this._settings) {\r\n            delete this._settings[key];\r\n            this._entities.forEach((entity) => {\r\n                entity._removeTemplateProperty(key);\r\n            });\r\n        }\r\n    }\r\n    removeAll() {\r\n        $object.each(this._settings, (key, _value) => {\r\n            this.remove(key);\r\n        });\r\n    }\r\n    getPrivate(key, fallback) {\r\n        const value = this._privateSettings[key];\r\n        if (value !== undefined) {\r\n            return value;\r\n        }\r\n        else {\r\n            return fallback;\r\n        }\r\n    }\r\n    setPrivateRaw(key, value) {\r\n        this._privateSettings[key] = value;\r\n        return value;\r\n    }\r\n    setPrivate(key, value) {\r\n        if (this._privateSettings[key] !== value) {\r\n            this.setPrivateRaw(key, value);\r\n            this._entities.forEach((entity) => {\r\n                entity._setTemplatePrivateProperty(this, key, value);\r\n            });\r\n        }\r\n        return value;\r\n    }\r\n    removePrivate(key) {\r\n        if (key in this._privateSettings) {\r\n            delete this._privateSettings[key];\r\n            this._entities.forEach((entity) => {\r\n                entity._removeTemplatePrivateProperty(key);\r\n            });\r\n        }\r\n    }\r\n    setAll(value) {\r\n        $object.each(value, (key, value) => {\r\n            this.set(key, value);\r\n        });\r\n    }\r\n    // TODO code duplication with Properties\r\n    on(key, callback) {\r\n        let events = this._settingEvents[key];\r\n        if (events === undefined) {\r\n            events = this._settingEvents[key] = [];\r\n        }\r\n        events.push(callback);\r\n        return new Disposer(() => {\r\n            $array.removeFirst(events, callback);\r\n            if (events.length === 0) {\r\n                delete this._settingEvents[key];\r\n            }\r\n        });\r\n    }\r\n    // TODO code duplication with Properties\r\n    onPrivate(key, callback) {\r\n        let events = this._privateSettingEvents[key];\r\n        if (events === undefined) {\r\n            events = this._privateSettingEvents[key] = [];\r\n        }\r\n        events.push(callback);\r\n        return new Disposer(() => {\r\n            $array.removeFirst(events, callback);\r\n            if (events.length === 0) {\r\n                delete this._privateSettingEvents[key];\r\n            }\r\n        });\r\n    }\r\n    _apply(entity, state) {\r\n        const disposers = [];\r\n        $object.each(this._settingEvents, (key, events) => {\r\n            $array.each(events, (event) => {\r\n                disposers.push(entity.on(key, event));\r\n            });\r\n        });\r\n        $object.each(this._privateSettingEvents, (key, events) => {\r\n            $array.each(events, (event) => {\r\n                disposers.push(entity.onPrivate(key, event));\r\n            });\r\n        });\r\n        this.states._apply(entity, state);\r\n        disposers.push(this.adapters._apply(entity));\r\n        disposers.push(entity.events.copyFrom(this.events));\r\n        return new MultiDisposer(disposers);\r\n    }\r\n    _setObjectTemplate(entity) {\r\n        this._entities.push(entity);\r\n    }\r\n    _removeObjectTemplate(entity) {\r\n        $array.remove(this._entities, entity);\r\n    }\r\n    _stateChanged(name) {\r\n        this._entities.forEach((entity) => {\r\n            entity._applyStateByKey(name);\r\n        });\r\n    }\r\n}\r\n","import { Color } from \"./Color\";\r\nimport * as $type from \"./Type\";\r\nexport class TextFormatter {\r\n    /**\r\n     * Replaces brackets with temporary placeholders.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param text  Input text\r\n     * @return Escaped text\r\n     */\r\n    static escape(text) {\r\n        return text.\r\n            replace(/\\[\\[/g, this.prefix + \"1\").\r\n            replace(/([^\\/\\]]{1})\\]\\]/g, \"$1\" + this.prefix + \"2\").\r\n            replace(/\\]\\]/g, this.prefix + \"2\").\r\n            replace(/\\{\\{/g, this.prefix + \"3\").\r\n            replace(/\\}\\}/g, this.prefix + \"4\").\r\n            replace(/\\'\\'/g, this.prefix + \"5\");\r\n    }\r\n    /**\r\n     * Replaces placeholders back to brackets.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param text  Escaped text\r\n     * @return Unescaped text\r\n     */\r\n    static unescape(text) {\r\n        return text.\r\n            replace(new RegExp(this.prefix + \"1\", \"g\"), \"[[\").\r\n            replace(new RegExp(this.prefix + \"2\", \"g\"), \"]]\").\r\n            replace(new RegExp(this.prefix + \"3\", \"g\"), \"{{\").\r\n            replace(new RegExp(this.prefix + \"4\", \"g\"), \"}}\").\r\n            replace(new RegExp(this.prefix + \"5\", \"g\"), \"''\");\r\n    }\r\n    /**\r\n     * Cleans up the text text for leftover double square brackets.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param text  Input text\r\n     * @return Cleaned up text\r\n     */\r\n    static cleanUp(text) {\r\n        return text.\r\n            replace(/\\[\\[/g, \"[\").\r\n            replace(/\\]\\]/g, \"]\").\r\n            replace(/\\{\\{/g, \"{\").\r\n            replace(/\\}\\}/g, \"}\").\r\n            replace(/\\'\\'/g, \"'\");\r\n    }\r\n    /**\r\n     * Splits string into chunks. (style blocks, quoted blocks, regular blocks)\r\n     *\r\n     * If the second parameter `quotedBlocks` is set to `true` this method will\r\n     * also single out text blocks enclosed within single quotes that no\r\n     * formatting should be applied to, and they should be displayed as is.\r\n     *\r\n     * Default for the above is `false`, so that you can use single quote in text\r\n     * without escaping it.\r\n     *\r\n     * If enabled, single quotes can be escaped by doubling it - adding two\r\n     * single quotes, which will be replaced by a one single quote in the final\r\n     * output.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param text          Text to chunk\r\n     * @param quotedBlocks  Use quoted blocks\r\n     * @param noFormatting  Formatting blocks will be treated as regular text\r\n     * @return Array of string chunks\r\n     */\r\n    static chunk(text, quotedBlocks = false, noFormatting = false) {\r\n        // Init result\r\n        let res = [];\r\n        // Replace double (escaped) square spaces and quotes with temporary codes\r\n        text = this.escape(text);\r\n        // Deal with style blocks\r\n        let chunks = quotedBlocks ? text.split(\"'\") : [text];\r\n        for (let i = 0; i < chunks.length; i++) {\r\n            let chunk = chunks[i];\r\n            // Empty?\r\n            if (chunk === \"\") {\r\n                continue;\r\n            }\r\n            if ((i % 2) === 0) {\r\n                // Text outside quotes\r\n                // Parse for style blocks which are \"text\" chunks, the rest chunks are\r\n                // \"value\"\r\n                chunk = chunk.replace(/\\]\\[/g, \"]\" + $type.PLACEHOLDER + \"[\");\r\n                chunk = chunk.replace(/\\[\\]/g, \"[ ]\");\r\n                let chunks2 = chunk.split(/[\\[\\]]+/);\r\n                for (let i2 = 0; i2 < chunks2.length; i2++) {\r\n                    let chunk2 = this.cleanUp(this.unescape(chunks2[i2]));\r\n                    // Placeholder?\r\n                    if (chunk2 === $type.PLACEHOLDER) {\r\n                        continue;\r\n                    }\r\n                    // Empty?\r\n                    if (chunk2 === \"\") {\r\n                        continue;\r\n                    }\r\n                    // Block or value\r\n                    if ((i2 % 2) === 0) {\r\n                        res.push({\r\n                            \"type\": \"value\",\r\n                            \"text\": chunk2\r\n                        });\r\n                    }\r\n                    else {\r\n                        res.push({\r\n                            \"type\": noFormatting ? \"value\" : \"format\",\r\n                            \"text\": \"[\" + chunk2 + \"]\"\r\n                        });\r\n                    }\r\n                }\r\n            }\r\n            else {\r\n                // A text within doublequotes\r\n                // All chunks are \"text\"\r\n                let chunks2 = chunk.split(/[\\[\\]]+/);\r\n                for (let i2 = 0; i2 < chunks2.length; i2++) {\r\n                    let chunk2 = this.cleanUp(this.unescape(chunks2[i2]));\r\n                    // Empty?\r\n                    if (chunk2 === \"\") {\r\n                        continue;\r\n                    }\r\n                    // Block or text\r\n                    if ((i2 % 2) === 0) {\r\n                        res.push({\r\n                            \"type\": \"text\",\r\n                            \"text\": chunk2\r\n                        });\r\n                    }\r\n                    else if (this.isImage(chunk2)) {\r\n                        res.push({\r\n                            \"type\": \"image\",\r\n                            \"text\": \"[\" + chunk2 + \"]\"\r\n                        });\r\n                    }\r\n                    else {\r\n                        res.push({\r\n                            \"type\": \"format\",\r\n                            \"text\": \"[\" + chunk2 + \"]\"\r\n                        });\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return res;\r\n    }\r\n    /**\r\n     * Checks if supplied format contains image information and should be\r\n     * formatted as such.\r\n     * I.e.: `[img: myImage.png]`\r\n     *\r\n     * @ignore\r\n     * @param  text  Format\r\n     * @return true if it is an image\r\n     */\r\n    static isImage(text) {\r\n        return text.match(/img[ ]?:/) ? true : false;\r\n    }\r\n    static getTextStyle(style) {\r\n        // let textStyle: string[] = [];\r\n        // let textFill: string | undefined;\r\n        let format = {};\r\n        if (style == \"\" || style == \"[ ]\") {\r\n            return {};\r\n        }\r\n        // Pre-process quoted text\r\n        const q = style.match(/('[^']*')|(\"[^\"]*\")/gi);\r\n        if (q) {\r\n            for (let i = 0; i < q.length; i++) {\r\n                style = style.replace(q[i], q[i].replace(/['\"]*/g, \"\").replace(/[ ]+/g, \"+\"));\r\n            }\r\n        }\r\n        // Get style parts\r\n        let b = style.match(/([\\w\\-]*:[\\s]?[^;\\s\\]]*)|(\\#[\\w]{1,6})|([\\w\\-]+)|(\\/)/gi);\r\n        // Empty?\r\n        if (!b) {\r\n            return {};\r\n        }\r\n        // Check each part\r\n        for (let i = 0; i < b.length; i++) {\r\n            if (b[i].match(/^(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)$/i)) {\r\n                format.fontWeight = b[i];\r\n            }\r\n            else if (b[i].match(/^(underline|line-through)$/i)) {\r\n                format.textDecoration = b[i];\r\n            }\r\n            else if (b[i] == \"/\") {\r\n                // Just closing tag\r\n                // Do nothing\r\n            }\r\n            else if (!b[i].match(/:/)) {\r\n                // Color\r\n                format.fill = Color.fromString(b[i]);\r\n            }\r\n            else {\r\n                const p = b[i].replace(\"+\", \" \").split(/:[ ]*/);\r\n                format[p[0]] = p[1];\r\n                //textStyle.push(b[i].replace(/^[a-zA-Z]:[ ]*/, \"\"));\r\n                //b[i] = b[i].replace(/\\+/g, \" \");\r\n            }\r\n        }\r\n        return format;\r\n    }\r\n}\r\nObject.defineProperty(TextFormatter, \"prefix\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: \"__amcharts__\"\r\n});\r\n","function parseDate(timezone, date) {\r\n    let year = 0;\r\n    let month = 0;\r\n    let day = 1;\r\n    let hour = 0;\r\n    let minute = 0;\r\n    let second = 0;\r\n    let millisecond = 0;\r\n    let weekday = 0;\r\n    timezone.formatToParts(date).forEach((x) => {\r\n        switch (x.type) {\r\n            case \"year\":\r\n                year = +x.value;\r\n                break;\r\n            case \"month\":\r\n                month = (+x.value) - 1;\r\n                break;\r\n            case \"day\":\r\n                day = +x.value;\r\n                break;\r\n            case \"hour\":\r\n                hour = +x.value;\r\n                break;\r\n            case \"minute\":\r\n                minute = +x.value;\r\n                break;\r\n            case \"second\":\r\n                second = +x.value;\r\n                break;\r\n            case \"fractionalSecond\":\r\n                millisecond = +x.value;\r\n                break;\r\n            case \"weekday\":\r\n                switch (x.value) {\r\n                    case \"Sun\":\r\n                        weekday = 0;\r\n                        break;\r\n                    case \"Mon\":\r\n                        weekday = 1;\r\n                        break;\r\n                    case \"Tue\":\r\n                        weekday = 2;\r\n                        break;\r\n                    case \"Wed\":\r\n                        weekday = 3;\r\n                        break;\r\n                    case \"Thu\":\r\n                        weekday = 4;\r\n                        break;\r\n                    case \"Fri\":\r\n                        weekday = 5;\r\n                        break;\r\n                    case \"Sat\":\r\n                        weekday = 6;\r\n                        break;\r\n                }\r\n        }\r\n    });\r\n    if (hour === 24) {\r\n        hour = 0;\r\n    }\r\n    return { year, month, day, hour, minute, second, millisecond, weekday };\r\n}\r\nfunction toUTCDate(timezone, date) {\r\n    const { year, month, day, hour, minute, second, millisecond } = parseDate(timezone, date);\r\n    return Date.UTC(year, month, day, hour, minute, second, millisecond);\r\n}\r\nexport class Timezone {\r\n    constructor(timezone, isReal) {\r\n        Object.defineProperty(this, \"_utc\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_dtf\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"name\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        if (!isReal) {\r\n            throw new Error(\"You cannot use `new Class()`, instead use `Class.new()`\");\r\n        }\r\n        this.name = timezone;\r\n        this._utc = new Intl.DateTimeFormat(\"UTC\", {\r\n            hour12: false,\r\n            timeZone: \"UTC\",\r\n            year: \"numeric\",\r\n            month: \"2-digit\",\r\n            day: \"2-digit\",\r\n            hour: \"2-digit\",\r\n            minute: \"2-digit\",\r\n            second: \"2-digit\",\r\n            weekday: \"short\",\r\n            fractionalSecondDigits: 3,\r\n        });\r\n        this._dtf = new Intl.DateTimeFormat(\"UTC\", {\r\n            hour12: false,\r\n            timeZone: timezone,\r\n            year: \"numeric\",\r\n            month: \"2-digit\",\r\n            day: \"2-digit\",\r\n            hour: \"2-digit\",\r\n            minute: \"2-digit\",\r\n            second: \"2-digit\",\r\n            weekday: \"short\",\r\n            fractionalSecondDigits: 3,\r\n        });\r\n    }\r\n    /**\r\n     * Use this method to create an instance of this class.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/getting-started/#New_element_syntax} for more info\r\n     * @param   timezone  IANA timezone\r\n     * @return            Instantiated object\r\n     */\r\n    static new(timezone) {\r\n        return (new this(timezone, true));\r\n    }\r\n    convertLocal(date) {\r\n        const offset = this.offsetUTC(date);\r\n        const userOffset = date.getTimezoneOffset();\r\n        const output = new Date(date);\r\n        output.setUTCMinutes(output.getUTCMinutes() - (offset - userOffset));\r\n        const newUserOffset = output.getTimezoneOffset();\r\n        if (userOffset != newUserOffset) {\r\n            output.setUTCMinutes(output.getUTCMinutes() + newUserOffset - userOffset);\r\n        }\r\n        return output;\r\n    }\r\n    offsetUTC(date) {\r\n        const utc = toUTCDate(this._utc, date);\r\n        const dtf = toUTCDate(this._dtf, date);\r\n        return (utc - dtf) / 60000;\r\n    }\r\n    parseDate(date) {\r\n        return parseDate(this._dtf, date);\r\n    }\r\n}\r\n","/**\r\n * A collection of utility functions for various type checks and conversion\r\n * @hidden\r\n */\r\n/**\r\n * ============================================================================\r\n * TYPE CHECK\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Returns `true` if value is not a number (NaN).\r\n *\r\n * @param value Input value\r\n * @return Is NaN?\r\n */\r\nexport function isNaN(value) {\r\n    return Number(value) !== value;\r\n}\r\n/**\r\n * Returns a type of the value.\r\n *\r\n * @param value  Input value\r\n * @return Type of the value\r\n * @ignore\r\n */\r\nexport function getType(value) {\r\n    return ({}).toString.call(value);\r\n}\r\n/**\r\n * Asserts that the condition is true.\r\n *\r\n * @param condition  Condition to check\r\n * @param message    Message to display in the error\r\n * @ignore\r\n */\r\nexport function assert(condition, message = \"Assertion failed\") {\r\n    if (!condition) {\r\n        throw new Error(message);\r\n    }\r\n}\r\n/**\r\n * ============================================================================\r\n * QUICK CONVERSION\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Converts any value into a `number`.\r\n *\r\n * @param value  Source value\r\n * @return Number representation of value\r\n */\r\nexport function toNumber(value) {\r\n    if (value != null && !isNumber(value)) {\r\n        let converted = Number(value);\r\n        if (isNaN(converted) && isString(value) && value != \"\") {\r\n            return toNumber(value.replace(/[^0-9.\\-]+/g, ''));\r\n        }\r\n        return converted;\r\n    }\r\n    return value;\r\n}\r\n/**\r\n * Converts anything to Date object.\r\n *\r\n * @param value  A value of any type\r\n * @return Date object representing a value\r\n */\r\nexport function toDate(value) {\r\n    if (isDate(value)) {\r\n        // TODO maybe don't create a new Date ?\r\n        return new Date(value);\r\n    }\r\n    else if (isNumber(value)) {\r\n        return new Date(value);\r\n    }\r\n    else {\r\n        // Try converting to number (assuming timestamp)\r\n        let num = Number(value);\r\n        if (!isNumber(num)) {\r\n            return new Date(value);\r\n        }\r\n        else {\r\n            return new Date(num);\r\n        }\r\n    }\r\n}\r\n/**\r\n * Converts numeric value into string. Deals with large or small numbers that\r\n * would otherwise use exponents.\r\n *\r\n * @param value  Numeric value\r\n * @return Numeric value as string\r\n */\r\nexport function numberToString(value) {\r\n    // TODO handle Infinity and -Infinity\r\n    if (isNaN(value)) {\r\n        return \"NaN\";\r\n    }\r\n    if (value === Infinity) {\r\n        return \"Infinity\";\r\n    }\r\n    if (value === -Infinity) {\r\n        return \"-Infinity\";\r\n    }\r\n    // Negative 0\r\n    if ((value === 0) && (1 / value === -Infinity)) {\r\n        return \"-0\";\r\n    }\r\n    // Preserve negative and deal with absoute values\r\n    let negative = value < 0;\r\n    value = Math.abs(value);\r\n    // TODO test this\r\n    let parsed = /^([0-9]+)(?:\\.([0-9]+))?(?:e[\\+\\-]([0-9]+))?$/.exec(\"\" + value);\r\n    let digits = parsed[1];\r\n    let decimals = parsed[2] || \"\";\r\n    let res;\r\n    // Leave the nummber as it is if it does not use exponents\r\n    if (parsed[3] === undefined) {\r\n        res = (decimals === \"\" ? digits : digits + \".\" + decimals);\r\n    }\r\n    else {\r\n        let exponent = +parsed[3];\r\n        // Deal with decimals\r\n        if (value < 1) {\r\n            let zeros = exponent - 1;\r\n            res = \"0.\" + repeat(\"0\", zeros) + digits + decimals;\r\n            // Deal with integers\r\n        }\r\n        else {\r\n            let zeros = exponent - decimals.length;\r\n            if (zeros === 0) {\r\n                res = digits + decimals;\r\n            }\r\n            else if (zeros < 0) {\r\n                res = digits + decimals.slice(0, zeros) + \".\" + decimals.slice(zeros);\r\n            }\r\n            else {\r\n                res = digits + decimals + repeat(\"0\", zeros);\r\n            }\r\n        }\r\n    }\r\n    return negative ? \"-\" + res : res;\r\n}\r\n/**\r\n * Repeats a `string` number of times as set in `amount`.\r\n *\r\n * @ignore Exclude from docs\r\n * @todo Make this faster\r\n * @param string  Source string\r\n * @param amount  Number of times to repeat string\r\n * @return New string\r\n */\r\nexport function repeat(string, amount) {\r\n    return new Array(amount + 1).join(string);\r\n}\r\n/**\r\n * ============================================================================\r\n * TYPE CHECK\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Checks if parameter is `Date`.\r\n *\r\n * @param value  Input value\r\n * @return Is Date?\r\n */\r\nexport function isDate(value) {\r\n    return getType(value) === \"[object Date]\";\r\n}\r\n/**\r\n * Checks if parameter is `string`.\r\n *\r\n * @param value  Input value\r\n * @return Is string?\r\n */\r\nexport function isString(value) {\r\n    return typeof value === \"string\";\r\n}\r\n/**\r\n * Checks if parameter is `number`.\r\n *\r\n * @param value  Input value\r\n * @return Is number?\r\n */\r\nexport function isNumber(value) {\r\n    return typeof value === \"number\" && Number(value) == value;\r\n}\r\n/**\r\n * Checks if parameter is `object`.\r\n *\r\n * @param value  Input value\r\n * @return Is object?\r\n */\r\nexport function isObject(value) {\r\n    return typeof value === \"object\" && value !== null;\r\n}\r\n/**\r\n * Checks if parameter is `Array`.\r\n *\r\n * @param value  Input value\r\n * @return Is Array?\r\n */\r\nexport function isArray(value) {\r\n    return Array.isArray(value);\r\n}\r\n/**\r\n * ============================================================================\r\n * STATIC CONSTANTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * @ignore Exclude from docs\r\n */\r\nexport const PLACEHOLDER = \"____\";\r\n/**\r\n * @ignore Exclude from docs\r\n */\r\nexport const PLACEHOLDER2 = \"____\";\r\n","import * as $type from \"./Type\";\r\nimport * as $array from \"./Array\";\r\nimport * as $object from \"./Object\";\r\nimport { Disposer, DisposerClass } from \"./Disposer\";\r\n/**\r\n * ============================================================================\r\n * DOM FUNCTIONS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Execute a function when DOM is ready.\r\n *\r\n * @since 5.0.2\r\n * @param  f  Callback\r\n */\r\nexport function ready(f) {\r\n    if (document.readyState !== \"loading\") {\r\n        f();\r\n    }\r\n    else {\r\n        const listener = () => {\r\n            if (document.readyState !== \"loading\") {\r\n                document.removeEventListener(\"readystatechange\", listener);\r\n                f();\r\n            }\r\n        };\r\n        document.addEventListener(\"readystatechange\", listener);\r\n    }\r\n}\r\n/**\r\n * Removes a DOM element.\r\n * @param  el  Target element\r\n */\r\nexport function removeElement(el) {\r\n    if (el.parentNode) {\r\n        el.parentNode.removeChild(el);\r\n    }\r\n}\r\n/**\r\n * Function that adds a disposable event listener directly to a DOM element.\r\n *\r\n * @ignore Exclude from docs\r\n * @param dom       A DOM element to add event to\r\n * @param type      Event type\r\n * @param listener  Event listener\r\n * @returns Disposable event\r\n */\r\nexport function addEventListener(dom, type, listener, options) {\r\n    //@todo proper type check for options: EventListenerOptions | boolean (TS for some reason gives error on passive parameter)\r\n    //console.log(type, dom);\r\n    dom.addEventListener(type, listener, options || false);\r\n    return new Disposer(() => {\r\n        dom.removeEventListener(type, listener, options || false);\r\n    });\r\n}\r\n/**\r\n * Function that adds an event listener which is triggered when the browser's zoom changes.\r\n *\r\n * @param listener  Event listener\r\n * @returns Disposable event\r\n */\r\nexport function onZoom(listener) {\r\n    // TODO use matchMedia instead ?\r\n    return addEventListener(window, \"resize\", (_ev) => {\r\n        listener();\r\n    });\r\n}\r\n/**\r\n * @ignore\r\n */\r\nexport function supports(cap) {\r\n    switch (cap) {\r\n        case \"touchevents\":\r\n            //return \"ontouchstart\" in document.documentElement;\r\n            return window.hasOwnProperty(\"TouchEvent\");\r\n        case \"pointerevents\":\r\n            return window.hasOwnProperty(\"PointerEvent\");\r\n        case \"mouseevents\":\r\n            return window.hasOwnProperty(\"MouseEvent\");\r\n        case \"wheelevents\":\r\n            return window.hasOwnProperty(\"WheelEvent\");\r\n        case \"keyboardevents\":\r\n            return window.hasOwnProperty(\"KeyboardEvent\");\r\n    }\r\n    return false;\r\n}\r\n/**\r\n * @ignore\r\n */\r\nexport function getPointerId(event) {\r\n    let id = event.pointerId || 0;\r\n    //console.log(event);\r\n    return id;\r\n}\r\n/**\r\n * Removes focus from any element by shifting focus to body.\r\n *\r\n * @ignore\r\n */\r\nexport function blur() {\r\n    if (document.activeElement && document.activeElement != document.body) {\r\n        if (document.activeElement.blur) {\r\n            document.activeElement.blur();\r\n        }\r\n        else {\r\n            let input = document.createElement(\"button\");\r\n            input.style.position = \"fixed\";\r\n            input.style.top = \"0px\";\r\n            input.style.left = \"-10000px\";\r\n            document.body.appendChild(input);\r\n            input.focus();\r\n            input.blur();\r\n            document.body.removeChild(input);\r\n        }\r\n    }\r\n}\r\n/**\r\n * Focuses element.\r\n *\r\n * @ignore\r\n */\r\nexport function focus(el) {\r\n    if (el) {\r\n        el.focus();\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nexport function getRendererEvent(key) {\r\n    if (supports(\"pointerevents\")) {\r\n        return key;\r\n    }\r\n    else if (supports(\"touchevents\")) {\r\n        switch (key) {\r\n            case \"pointerover\": return \"touchstart\";\r\n            case \"pointerout\": return \"touchend\";\r\n            case \"pointerleave\": return \"touchend\";\r\n            case \"pointerdown\": return \"touchstart\";\r\n            case \"pointermove\": return \"touchmove\";\r\n            case \"pointerup\": return \"touchend\";\r\n            case \"click\": return \"click\";\r\n            case \"dblclick\": return \"dblclick\";\r\n        }\r\n    }\r\n    else if (supports(\"mouseevents\")) {\r\n        switch (key) {\r\n            case \"pointerover\": return \"mouseover\";\r\n            case \"pointerout\": return \"mouseout\";\r\n            case \"pointerleave\": return \"mouseleave\";\r\n            case \"pointerdown\": return \"mousedown\";\r\n            case \"pointermove\": return \"mousemove\";\r\n            case \"pointerup\": return \"mouseup\";\r\n            case \"click\": return \"click\";\r\n            case \"dblclick\": return \"dblclick\";\r\n        }\r\n    }\r\n    return key;\r\n}\r\n/**\r\n * Determines if pointer event originated from a touch pointer or mouse.\r\n *\r\n * @param ev  Original event\r\n * @return Touch pointer?\r\n */\r\nexport function isTouchEvent(ev) {\r\n    if (typeof Touch !== \"undefined\" && ev instanceof Touch) {\r\n        return true;\r\n    }\r\n    else if (typeof PointerEvent !== \"undefined\" && ev instanceof PointerEvent && ev.pointerType != null) {\r\n        switch (ev.pointerType) {\r\n            case \"touch\":\r\n            case \"pen\":\r\n            case 2:\r\n                return true;\r\n            case \"mouse\":\r\n            case 4:\r\n                return false;\r\n            default:\r\n                return !(ev instanceof MouseEvent);\r\n        }\r\n    }\r\n    else if (ev.type != null) {\r\n        if (ev.type.match(/^mouse/)) {\r\n            return false;\r\n        }\r\n    }\r\n    return true;\r\n}\r\n/**\r\n * Sets style property on DOM element.\r\n *\r\n * @ignore Exclude from docs\r\n */\r\nexport function setStyle(dom, property, value) {\r\n    dom.style[property] = value;\r\n}\r\nexport function getStyle(dom, property) {\r\n    return dom.style[property];\r\n}\r\n/**\r\n * Gets the target of the event, works for shadow DOM too.\r\n */\r\nexport function getEventTarget(event) {\r\n    if (event.composedPath) {\r\n        const path = event.composedPath();\r\n        if (path.length === 0) {\r\n            return null;\r\n        }\r\n        else {\r\n            return path[0];\r\n        }\r\n    }\r\n    else {\r\n        return event.target;\r\n    }\r\n}\r\n/**\r\n * Checks of element `a` contains element `b`.\r\n *\r\n * @param a  Aleged ascendant\r\n * @param b  Aleged descendant\r\n * @return Contains?\r\n */\r\nexport function contains(a, b) {\r\n    let cursor = b;\r\n    while (true) {\r\n        if (a === cursor) {\r\n            return true;\r\n        }\r\n        else if (cursor.parentNode === null) {\r\n            // TODO better ShadowRoot detection\r\n            if (cursor.host == null) {\r\n                return false;\r\n            }\r\n            else {\r\n                cursor = cursor.host;\r\n            }\r\n        }\r\n        else {\r\n            cursor = cursor.parentNode;\r\n        }\r\n    }\r\n}\r\n/**\r\n * Returns `true` if pointer event originated on an element within Root.\r\n *\r\n * @since 5.2.8\r\n * @param  event   Event\r\n * @param  target  Target element\r\n */\r\nexport function isLocalEvent(event, target) {\r\n    return event.target && contains(target.root.dom, event.target);\r\n}\r\n/**\r\n * Disables or enables interactivity of a DOM element.\r\n *\r\n * @param  target       Target element\r\n * @param  interactive  Interactive?\r\n */\r\nexport function setInteractive(target, interactive) {\r\n    if (interactive) {\r\n        target.style.pointerEvents = \"auto\";\r\n    }\r\n    else {\r\n        target.style.pointerEvents = \"none\";\r\n    }\r\n}\r\n/**\r\n * Returns the shadow root of the element or null\r\n *\r\n * @param a  Node\r\n * @return Root\r\n */\r\nexport function getShadowRoot(a) {\r\n    let cursor = a;\r\n    while (true) {\r\n        if (cursor.parentNode === null) {\r\n            // TODO better ShadowRoot detection\r\n            if (cursor.host != null) {\r\n                return cursor;\r\n            }\r\n            else {\r\n                return null;\r\n            }\r\n        }\r\n        else {\r\n            cursor = cursor.parentNode;\r\n        }\r\n    }\r\n}\r\n/**\r\n * [rootStylesheet description]\r\n *\r\n * @ignore Exclude from docs\r\n * @todo Description\r\n */\r\nlet rootStylesheet;\r\n/**\r\n * @ignore Exclude from docs\r\n */\r\nfunction createStylesheet(element, text, nonce = \"\") {\r\n    // TODO use createElementNS ?\r\n    const e = document.createElement(\"style\");\r\n    e.type = \"text/css\";\r\n    if (nonce != \"\") {\r\n        e.setAttribute(\"nonce\", nonce);\r\n    }\r\n    e.textContent = text;\r\n    if (element === null) {\r\n        document.head.appendChild(e);\r\n    }\r\n    else {\r\n        element.appendChild(e);\r\n    }\r\n    return e;\r\n}\r\n/**\r\n * [getStylesheet description]\r\n *\r\n * @ignore Exclude from docs\r\n * @todo Description\r\n * @return [description]\r\n */\r\nfunction getStylesheet(element, nonce = \"\") {\r\n    if (element === null) {\r\n        if (rootStylesheet == null) {\r\n            // TODO use createElementNS ?\r\n            const e = document.createElement(\"style\");\r\n            e.type = \"text/css\";\r\n            if (nonce != \"\") {\r\n                e.setAttribute(\"nonce\", nonce);\r\n            }\r\n            document.head.appendChild(e);\r\n            rootStylesheet = e.sheet;\r\n        }\r\n        return rootStylesheet;\r\n    }\r\n    else {\r\n        // TODO use createElementNS ?\r\n        const e = document.createElement(\"style\");\r\n        e.type = \"text/css\";\r\n        if (nonce != \"\") {\r\n            e.setAttribute(\"nonce\", nonce);\r\n        }\r\n        element.appendChild(e);\r\n        return e.sheet;\r\n    }\r\n}\r\n/**\r\n * [makeStylesheet description]\r\n *\r\n * @ignore Exclude from docs\r\n * @todo Description\r\n * @param selector  [description]\r\n * @return [description]\r\n */\r\nfunction appendStylesheet(root, selector) {\r\n    const index = root.cssRules.length;\r\n    root.insertRule(selector + \"{}\", index);\r\n    return root.cssRules[index];\r\n}\r\n/**\r\n * Defines a class for a CSS rule.\r\n *\r\n * Can be used to dynamically add CSS to the document.\r\n */\r\nexport class StyleRule extends DisposerClass {\r\n    /**\r\n     * Constructor.\r\n     *\r\n     * @param selector  CSS selector\r\n     * @param styles    An object of style attribute - value pairs\r\n     */\r\n    constructor(element, selector, styles, nonce = \"\") {\r\n        super();\r\n        Object.defineProperty(this, \"_root\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        /**\r\n         * CSS rule.\r\n         */\r\n        Object.defineProperty(this, \"_rule\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        this._root = getStylesheet(element, nonce);\r\n        try {\r\n            this._rule = appendStylesheet(this._root, selector);\r\n            $object.each(styles, (key, value) => {\r\n                this.setStyle(key, value);\r\n            });\r\n        }\r\n        catch (err) {\r\n            // Create an empty rule on failed selectors\r\n            this._rule = new CSSStyleRule();\r\n        }\r\n    }\r\n    /**\r\n     * A CSS selector text.\r\n     *\r\n     * E.g.: `.myClass p`\r\n     *\r\n     * @param selector  CSS selector\r\n     */\r\n    set selector(selector) {\r\n        this._rule.selectorText = selector;\r\n    }\r\n    /**\r\n     * @return CSS selector\r\n     */\r\n    get selector() {\r\n        return this._rule.selectorText;\r\n    }\r\n    // TODO test this\r\n    _dispose() {\r\n        // TODO a bit hacky\r\n        const index = $array.indexOf(this._root.cssRules, this._rule);\r\n        if (index === -1) {\r\n            throw new Error(\"Could not dispose StyleRule\");\r\n        }\r\n        else {\r\n            // TODO if it's empty remove it from the DOM ?\r\n            this._root.deleteRule(index);\r\n        }\r\n    }\r\n    /**\r\n     * Sets the same style properties with browser-specific prefixes.\r\n     *\r\n     * @param name   Attribute name\r\n     * @param value  Attribute value\r\n     */\r\n    _setVendorPrefixName(name, value) {\r\n        const style = this._rule.style;\r\n        style.setProperty(\"-webkit-\" + name, value, \"\");\r\n        style.setProperty(\"-moz-\" + name, value, \"\");\r\n        style.setProperty(\"-ms-\" + name, value, \"\");\r\n        style.setProperty(\"-o-\" + name, value, \"\");\r\n        style.setProperty(name, value, \"\");\r\n    }\r\n    /**\r\n     * Sets a value for specific style attribute.\r\n     *\r\n     * @param name   Attribute\r\n     * @param value  Value\r\n     */\r\n    setStyle(name, value) {\r\n        if (name === \"transition\") {\r\n            this._setVendorPrefixName(name, value);\r\n        }\r\n        else {\r\n            this._rule.style.setProperty(name, value, \"\");\r\n        }\r\n    }\r\n}\r\n/**\r\n * Defines a class for an entire CSS style sheet.\r\n *\r\n * Can be used to dynamically add CSS to the document.\r\n */\r\nexport class StyleSheet extends DisposerClass {\r\n    /**\r\n     * Constructor.\r\n     *\r\n     * @param text  CSS stylesheet\r\n     */\r\n    constructor(element, text, nonce = \"\") {\r\n        super();\r\n        Object.defineProperty(this, \"_element\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        this._element = createStylesheet(element, text, nonce);\r\n    }\r\n    _dispose() {\r\n        if (this._element.parentNode) {\r\n            this._element.parentNode.removeChild(this._element);\r\n        }\r\n    }\r\n}\r\n/**\r\n * Adds a class name to an HTML or SVG element.\r\n *\r\n * @ignore Exclude from docs\r\n * @param element    Element\r\n * @param className  Class name to add\r\n */\r\nexport function addClass(element, className) {\r\n    if (!element) {\r\n        return;\r\n    }\r\n    if (element.classList) {\r\n        const classes = className.split(\" \");\r\n        $array.each(classes, (name) => {\r\n            element.classList.add(name);\r\n        });\r\n    }\r\n    else {\r\n        let currentClassName = element.getAttribute(\"class\");\r\n        if (currentClassName) {\r\n            element.setAttribute(\"class\", currentClassName.split(\" \").filter((item) => {\r\n                return item !== className;\r\n            }).join(\" \") + \" \" + className);\r\n        }\r\n        else {\r\n            element.setAttribute(\"class\", className);\r\n        }\r\n    }\r\n}\r\n/**\r\n * Removes a class name from an HTML or SVG element.\r\n *\r\n * @ignore Exclude from docs\r\n * @param element    Element\r\n * @param className  Class name to add\r\n */\r\nexport function removeClass(element, className) {\r\n    if (!element) {\r\n        return;\r\n    }\r\n    if (element.classList) {\r\n        element.classList.remove(className);\r\n    }\r\n    else {\r\n        let currentClassName = element.getAttribute(\"class\");\r\n        if (currentClassName) {\r\n            element.setAttribute(\"class\", currentClassName.split(\" \").filter((item) => {\r\n                return item !== className;\r\n            }).join(\" \"));\r\n        }\r\n    }\r\n}\r\n// /**\r\n//  * Applies a set of styles to an element. Stores the original styles so they\r\n//  * can be restored later.\r\n//  *\r\n//  * @ignore\r\n//  * @param io      Element\r\n//   */\r\n// export function prepElementForDrag(dom: HTMLElement): void {\r\n// \t// @todo: save current values\r\n// \t// Define possible props\r\n// \tlet props = [\r\n// \t\t\"touchAction\", \"webkitTouchAction\", \"MozTouchAction\", \"MSTouchAction\", \"msTouchAction\", \"oTouchAction\",\r\n// \t\t\"userSelect\", \"webkitUserSelect\", \"MozUserSelect\", \"MSUserSelect\", \"msUserSelect\", \"oUserSelect\",\r\n// \t\t\"touchSelect\", \"webkitTouchSelect\", \"MozTouchSelect\", \"MSTouchSelect\", \"msTouchSelect\", \"oTouchSelect\",\r\n// \t\t\"touchCallout\", \"webkitTouchCallout\", \"MozTouchCallout\", \"MSTouchCallout\", \"msTouchCallout\", \"oTouchCallout\",\r\n// \t\t\"contentZooming\", \"webkitContentZooming\", \"MozContentZooming\", \"MSContentZooming\", \"msContentZooming\", \"oContentZooming\",\r\n// \t\t\"userDrag\", \"webkitUserDrag\", \"MozUserDrag\", \"MSUserDrag\", \"msUserDrag\", \"oUserDrag\"\r\n// \t];\r\n// \tfor (let i = 0; i < props.length; i++) {\r\n// \t\tif (props[i] in dom.style) {\r\n// \t\t\tsetStyle(dom, props[i], \"none\");\r\n// \t\t}\r\n// \t}\r\n// \t// Remove iOS-specific selection;\r\n// \tsetStyle(dom, \"tapHighlightColor\", \"rgba(0, 0, 0, 0)\");\r\n// }\r\n// /**\r\n//  * Restores replaced styles\r\n//  *\r\n//  * @ignore\r\n//  * @param  io  Element\r\n//  */\r\n// export function unprepElementForDrag(dom: HTMLElement): void {\r\n// \t// Define possible props\r\n// \tlet props = [\r\n// \t\t\"touchAction\", \"webkitTouchAction\", \"MozTouchAction\", \"MSTouchAction\", \"msTouchAction\", \"oTouchAction\",\r\n// \t\t\"userSelect\", \"webkitUserSelect\", \"MozUserSelect\", \"MSUserSelect\", \"msUserSelect\", \"oUserSelect\",\r\n// \t\t\"touchSelect\", \"webkitTouchSelect\", \"MozTouchSelect\", \"MSTouchSelect\", \"msTouchSelect\", \"oTouchSelect\",\r\n// \t\t\"touchCallout\", \"webkitTouchCallout\", \"MozTouchCallout\", \"MSTouchCallout\", \"msTouchCallout\", \"oTouchCallout\",\r\n// \t\t\"contentZooming\", \"webkitContentZooming\", \"MozContentZooming\", \"MSContentZooming\", \"msContentZooming\", \"oContentZooming\",\r\n// \t\t\"userDrag\", \"webkitUserDrag\", \"MozUserDrag\", \"MSUserDrag\", \"msUserDrag\", \"oUserDrag\"\r\n// \t];\r\n// \tfor (let i = 0; i < props.length; i++) {\r\n// \t\tif (props[i] in dom.style) {\r\n// \t\t\tsetStyle(dom, props[i], \"\");\r\n// \t\t}\r\n// \t}\r\n// \t// Remove iOS-specific selection;\r\n// \tsetStyle(dom, \"tapHighlightColor\", \"\");\r\n// }\r\nexport function iOS() {\r\n    return /apple/i.test(navigator.vendor) && \"ontouchend\" in document;\r\n}\r\nexport function getSafeResolution() {\r\n    return iOS() ? 1 : undefined;\r\n}\r\nexport function relativeToValue(percent, full) {\r\n    if ($type.isNumber(percent)) {\r\n        return percent;\r\n    }\r\n    else if (percent != null && $type.isNumber(percent.value) && $type.isNumber(full)) {\r\n        return full * percent.value;\r\n    }\r\n    else {\r\n        return 0;\r\n    }\r\n}\r\n/**\r\n * Returns number of decimals\r\n *\r\n * @ignore Exclude from docs\r\n * @param number  Input number\r\n * @return Number of decimals\r\n */\r\nexport function decimalPlaces(number) {\r\n    let match = ('' + number).match(/(?:\\.(\\d+))?(?:[eE]([+-]?\\d+))?$/);\r\n    if (!match) {\r\n        return 0;\r\n    }\r\n    return Math.max(0, (match[1] ? match[1].length : 0) - (match[2] ? +match[2] : 0));\r\n}\r\n/**\r\n * ============================================================================\r\n * STRING FORMATTING FUNCTIONS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Pads a string with additional characters to certain length.\r\n *\r\n * @param value  A numeric value\r\n * @param len    Result string length in characters\r\n * @param char   A character to use for padding\r\n * @return Padded value as string\r\n */\r\nexport function padString(value, len = 0, char = \"0\") {\r\n    if (typeof value !== \"string\") {\r\n        value = value.toString();\r\n    }\r\n    return len > value.length ? Array(len - value.length + 1).join(char) + value : value;\r\n}\r\nexport function trimLeft(text) {\r\n    return text.replace(/^[\\s]*/, \"\");\r\n}\r\nexport function trimRight(text) {\r\n    return text.replace(/[\\s]*$/, \"\");\r\n}\r\nexport function trim(text) {\r\n    return trimLeft(trimRight(text));\r\n}\r\n/**\r\n * Tries to determine format type.\r\n *\r\n * @ignore Exclude from docs\r\n * @param format  Format string\r\n * @return Format type (\"string\" | \"number\" | \"date\" | \"duration\")\r\n */\r\nexport function getFormat(format) {\r\n    // Undefined?\r\n    if (typeof format === \"undefined\") {\r\n        return \"string\";\r\n    }\r\n    // Cleanup and lowercase format\r\n    format = format.toLowerCase().replace(/^\\[[^\\]]*\\]/, \"\");\r\n    // Remove style tags\r\n    format = format.replace(/\\[[^\\]]+\\]/, \"\");\r\n    // Trim\r\n    format = format.trim();\r\n    // Check for any explicit format hints (i.e. /Date)\r\n    let hints = format.match(/\\/(date|number|duration)$/);\r\n    if (hints) {\r\n        return hints[1];\r\n    }\r\n    // Check for explicit hints\r\n    if (format === \"number\") {\r\n        return \"number\";\r\n    }\r\n    if (format === \"date\") {\r\n        return \"date\";\r\n    }\r\n    if (format === \"duration\") {\r\n        return \"duration\";\r\n    }\r\n    // Detect number formatting symbols\r\n    if (format.match(/[#0]/)) {\r\n        return \"number\";\r\n    }\r\n    // Detect date formatting symbols\r\n    if (format.match(/[ymwdhnsqaxkzgtei]/)) {\r\n        return \"date\";\r\n    }\r\n    // Nothing? Let's display as string\r\n    return \"string\";\r\n}\r\n/**\r\n * Cleans up format:\r\n * * Strips out formatter hints\r\n *\r\n * @ignore Exclude from docs\r\n * @param format  Format\r\n * @return Cleaned format\r\n */\r\nexport function cleanFormat(format) {\r\n    return format.replace(/\\/(date|number|duration)$/i, \"\");\r\n}\r\n/**\r\n * Strips all tags from the string.\r\n *\r\n * @param text  Source string\r\n * @return String without tags\r\n */\r\nexport function stripTags(text) {\r\n    return text ? text.replace(/<[^>]*>/g, \"\") : text;\r\n}\r\n/**\r\n * Removes new lines and tags from a string.\r\n *\r\n * @param text  String to conver\r\n * @return Converted string\r\n */\r\nexport function plainText(text) {\r\n    return text ? stripTags((\"\" + text).replace(/[\\n\\r]+/g, \". \")) : text;\r\n}\r\n/**\r\n * Escapes string so it can safely be used in a Regex.\r\n *\r\n * @param value  Unsescaped string\r\n * @return Escaped string\r\n */\r\nexport function escapeForRgex(value) {\r\n    return value.replace(/[-[\\]{}()*+?.,\\\\^$|#\\s]/g, '\\\\$&');\r\n}\r\n/**\r\n * Adds space before each uppercase letter.\r\n *\r\n * @param   str Input string\r\n * @return      Output string\r\n */\r\nexport function addSpacing(str) {\r\n    let result = \"\";\r\n    for (let i = 0; i < str.length; i++) {\r\n        const char = str.charAt(i);\r\n        if (char.toUpperCase() == char && i != 0) {\r\n            result += \" \";\r\n        }\r\n        result += char;\r\n    }\r\n    return result;\r\n}\r\n/**\r\n * ============================================================================\r\n * DATE-RELATED FUNCTIONS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Returns a year day.\r\n *\r\n * @param date  Date\r\n * @param utc   Assume UTC dates?\r\n * @return Year day\r\n * @todo Account for UTC\r\n */\r\nexport function getYearDay(date, utc = false) {\r\n    // TODO: utc needed?\r\n    utc;\r\n    const start = new Date(date.getFullYear(), 0, 0);\r\n    const diff = (date.getTime() - start.getTime()) + ((start.getTimezoneOffset() - date.getTimezoneOffset()) * 60 * 1000);\r\n    const oneDay = 1000 * 60 * 60 * 24;\r\n    return Math.floor(diff / oneDay);\r\n}\r\n/**\r\n * Returns week number for a given date.\r\n *\r\n * @param date  Date\r\n * @param utc   Assume UTC dates?\r\n * @return Week number\r\n * @todo Account for UTC\r\n */\r\nexport function getWeek(date, _utc = false) {\r\n    const d = new Date(Date.UTC(date.getFullYear(), date.getMonth(), date.getDate()));\r\n    const day = d.getUTCDay() || 7;\r\n    d.setUTCDate(d.getUTCDate() + 4 - day);\r\n    const firstDay = new Date(Date.UTC(d.getUTCFullYear(), 0, 1));\r\n    return Math.ceil((((d.getTime() - firstDay.getTime()) / 86400000) + 1) / 7);\r\n}\r\n/**\r\n * Returns a \"week year\" of the given date.\r\n *\r\n * @param date  Date\r\n * @param utc   Assume UTC dates?\r\n * @return Year of week\r\n * @since 5.3.0\r\n * @todo Account for UTC\r\n */\r\nexport function getWeekYear(date, _utc = false) {\r\n    const d = new Date(Date.UTC(date.getFullYear(), date.getMonth(), date.getDate()));\r\n    const day = d.getUTCDay() || 7;\r\n    d.setUTCDate(d.getUTCDate() + 4 - day);\r\n    const firstDay = new Date(Date.UTC(d.getUTCFullYear(), 0, 1));\r\n    return firstDay.getFullYear();\r\n}\r\n/**\r\n * Returns a week number in the month.\r\n *\r\n * @param date  Source Date\r\n * @param utc   Assume UTC dates?\r\n * @return Week number in month\r\n */\r\nexport function getMonthWeek(date, utc = false) {\r\n    const firstWeek = getWeek(new Date(date.getFullYear(), date.getMonth(), 1), utc);\r\n    let currentWeek = getWeek(date, utc);\r\n    if (currentWeek == 1) {\r\n        currentWeek = 53;\r\n    }\r\n    return currentWeek - firstWeek + 1;\r\n}\r\n/**\r\n * Returns a year day out of the given week number.\r\n *\r\n * @param week     Week\r\n * @param year     Year\r\n * @param weekday  Weekday\r\n * @param utc      Assume UTC dates\r\n * @return Day in a year\r\n */\r\nexport function getDayFromWeek(week, year, weekday = 1, utc = false) {\r\n    let date = new Date(year, 0, 4, 0, 0, 0, 0);\r\n    if (utc) {\r\n        date.setUTCFullYear(year);\r\n    }\r\n    let day = week * 7 + weekday - ((date.getDay() || 7) + 3);\r\n    return day;\r\n}\r\n/**\r\n * Returns 12-hour representation out of the 24-hour hours.\r\n *\r\n * @param hours  24-hour number\r\n * @return 12-hour number\r\n */\r\nexport function get12Hours(hours, base) {\r\n    if (hours > 12) {\r\n        hours -= 12;\r\n    }\r\n    else if (hours === 0) {\r\n        hours = 12;\r\n    }\r\n    return base != null ? hours + (base - 1) : hours;\r\n}\r\n/**\r\n * Returns a string name of the time zone.\r\n *\r\n * @param date     Date object\r\n * @param long     Should return long (\"Pacific Standard Time\") or short abbreviation (\"PST\")\r\n * @param savings  Include information if it's in daylight savings mode\r\n * @param utc      Assume UTC dates\r\n * @return Time zone name\r\n */\r\nexport function getTimeZone(date, long = false, savings = false, utc = false) {\r\n    if (utc) {\r\n        return long ? \"Coordinated Universal Time\" : \"UTC\";\r\n    }\r\n    let wotz = date.toLocaleString(\"UTC\");\r\n    let wtz = date.toLocaleString(\"UTC\", { timeZoneName: long ? \"long\" : \"short\" }).substr(wotz.length);\r\n    //wtz = wtz.replace(/[+-]+[0-9]+$/, \"\");\r\n    if (savings === false) {\r\n        wtz = wtz.replace(/ (standard|daylight|summer|winter) /i, \" \");\r\n    }\r\n    return wtz;\r\n}\r\nexport function getTimezoneOffset(timezone) {\r\n    const date = new Date(Date.UTC(2012, 0, 1, 0, 0, 0, 0));\r\n    const utcDate = new Date(date.toLocaleString('en-US', { timeZone: 'UTC' }));\r\n    const tzDate = new Date(date.toLocaleString('en-US', { timeZone: timezone }));\r\n    return (tzDate.getTime() - utcDate.getTime()) / 6e4 * -1;\r\n}\r\nexport function capitalizeFirst(text) {\r\n    return text.charAt(0).toUpperCase() + text.slice(1);\r\n}\r\n/**\r\n * The functions below are taken and adapted from Garry Tan's blog post:\r\n * http://axonflux.com/handy-rgb-to-hsl-and-rgb-to-hsv-color-model-c\r\n *\r\n * The further attributions go mjijackson.com, which now seems to be defunct.\r\n */\r\n/**\r\n * Converts an HSL color value to RGB. Conversion formula\r\n * adapted from http://en.wikipedia.org/wiki/HSL_color_space.\r\n * Assumes h, s, and l are contained in the set [0, 1] and\r\n * returns r, g, and b in the set [0, 255].\r\n *\r\n * Function adapted from:\r\n * http://axonflux.com/handy-rgb-to-hsl-and-rgb-to-hsv-color-model-c\r\n *\r\n * @ignore Exclude from docs\r\n * @param h       The hue\r\n * @param s       The saturation\r\n * @param l       The lightness\r\n * @return The RGB representation\r\n */\r\nexport function hslToRgb(color) {\r\n    let r, g, b;\r\n    let h = color.h;\r\n    let s = color.s;\r\n    let l = color.l;\r\n    if (s == 0) {\r\n        r = g = b = l; // achromatic\r\n    }\r\n    else {\r\n        let hue2rgb = function hue2rgb(p, q, t) {\r\n            if (t < 0) {\r\n                t += 1;\r\n            }\r\n            if (t > 1) {\r\n                t -= 1;\r\n            }\r\n            if (t < 1 / 6) {\r\n                return p + (q - p) * 6 * t;\r\n            }\r\n            if (t < 1 / 2) {\r\n                return q;\r\n            }\r\n            if (t < 2 / 3) {\r\n                return p + (q - p) * (2 / 3 - t) * 6;\r\n            }\r\n            return p;\r\n        };\r\n        let q = l < 0.5 ? l * (1 + s) : l + s - l * s;\r\n        let p = 2 * l - q;\r\n        r = hue2rgb(p, q, h + 1 / 3);\r\n        g = hue2rgb(p, q, h);\r\n        b = hue2rgb(p, q, h - 1 / 3);\r\n    }\r\n    return {\r\n        r: Math.round(r * 255),\r\n        g: Math.round(g * 255),\r\n        b: Math.round(b * 255)\r\n    };\r\n}\r\n/**\r\n * Converts an RGB color value to HSL. Conversion formula\r\n * adapted from http://en.wikipedia.org/wiki/HSL_color_space.\r\n * Assumes r, g, and b are contained in the set [0, 255] and\r\n * returns h, s, and l in the set [0, 1].\r\n *\r\n * Function adapted from:\r\n * http://axonflux.com/handy-rgb-to-hsl-and-rgb-to-hsv-color-model-c\r\n *\r\n * @ignore Exclude from docs\r\n * @param r       The red color value\r\n * @param g       The green color value\r\n * @param b       The blue color value\r\n * @return The HSL representation\r\n */\r\nexport function rgbToHsl(color) {\r\n    let r = color.r / 255;\r\n    let g = color.g / 255;\r\n    let b = color.b / 255;\r\n    let max = Math.max(r, g, b);\r\n    let min = Math.min(r, g, b);\r\n    let h = 0;\r\n    let s = 0;\r\n    let l = (max + min) / 2;\r\n    if (max === min) {\r\n        h = s = 0; // achromatic\r\n    }\r\n    else {\r\n        let d = max - min;\r\n        s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\r\n        switch (max) {\r\n            case r:\r\n                h = (g - b) / d + (g < b ? 6 : 0);\r\n                break;\r\n            case g:\r\n                h = (b - r) / d + 2;\r\n                break;\r\n            case b:\r\n                h = (r - g) / d + 4;\r\n                break;\r\n        }\r\n        h /= 6;\r\n    }\r\n    return {\r\n        h: h,\r\n        s: s,\r\n        l: l\r\n    };\r\n}\r\n/**\r\n * Returns a color that is `percent` brighter than the reference color.\r\n *\r\n * @ignore Exclude from docs\r\n * @param color    Reference color\r\n * @param percent  Brightness percent\r\n * @return Hex code of the new color\r\n */\r\nexport function lighten(rgb, percent) {\r\n    if (rgb) {\r\n        return {\r\n            r: Math.max(0, Math.min(255, rgb.r + getLightnessStep(rgb.r, percent))),\r\n            g: Math.max(0, Math.min(255, rgb.g + getLightnessStep(rgb.g, percent))),\r\n            b: Math.max(0, Math.min(255, rgb.b + getLightnessStep(rgb.b, percent))),\r\n            a: rgb.a\r\n        };\r\n    }\r\n    else {\r\n        // TODO is this correct ?\r\n        return rgb;\r\n    }\r\n}\r\n;\r\n/**\r\n * Gets lightness step.\r\n *\r\n * @ignore Exclude from docs\r\n * @param value    Value\r\n * @param percent  Percent\r\n * @return Step\r\n */\r\nexport function getLightnessStep(value, percent) {\r\n    let base = percent > 0 ? 255 - value : value;\r\n    return Math.round(base * percent);\r\n}\r\n/**\r\n * Returns a color that is `percent` brighter than the source `color`.\r\n *\r\n * @ignore Exclude from docs\r\n * @param color    Source color\r\n * @param percent  Brightness percent\r\n * @return New color\r\n */\r\nexport function brighten(rgb, percent) {\r\n    if (rgb) {\r\n        let base = Math.min(Math.max(rgb.r, rgb.g, rgb.b), 230);\r\n        //let base = Math.max(rgb.r, rgb.g, rgb.b);\r\n        let step = getLightnessStep(base, percent);\r\n        return {\r\n            r: Math.max(0, Math.min(255, Math.round(rgb.r + step))),\r\n            g: Math.max(0, Math.min(255, Math.round(rgb.g + step))),\r\n            b: Math.max(0, Math.min(255, Math.round(rgb.b + step))),\r\n            a: rgb.a\r\n        };\r\n    }\r\n    else {\r\n        // TODO is this correct ?\r\n        return rgb;\r\n    }\r\n}\r\n;\r\n/**\r\n * Returns brightness step.\r\n *\r\n * @ignore Exclude from docs\r\n * @param value    Value\r\n * @param percent  Percent\r\n * @return Step\r\n */\r\nexport function getBrightnessStep(_value, percent) {\r\n    let base = 255; //percent > 0 ? 255 - value : value;\r\n    return Math.round(base * percent);\r\n}\r\n/**\r\n * Returns `true` if color is \"light\". Useful indetermining which contrasting\r\n * color to use for elements over this color. E.g.: you would want to use\r\n * black text over light background, and vice versa.\r\n *\r\n * @ignore Exclude from docs\r\n * @param color  Source color\r\n * @return Light?\r\n */\r\nexport function isLight(color) {\r\n    return ((color.r * 299) + (color.g * 587) + (color.b * 114)) / 1000 >= 128;\r\n}\r\n/**\r\n * Returns a new [[iRGB]] object based on `rgb` parameter with specific\r\n * saturation applied.\r\n *\r\n * `saturation` can be in the range of 0 (fully desaturated) to 1 (fully\r\n * saturated).\r\n *\r\n * @ignore Exclude from docs\r\n * @param color       Base color\r\n * @param saturation  Saturation (0-1)\r\n * @return New color\r\n */\r\nexport function saturate(rgb, saturation) {\r\n    if (rgb === undefined || saturation == 1) {\r\n        return rgb;\r\n    }\r\n    let hsl = rgbToHsl(rgb);\r\n    hsl.s = saturation;\r\n    return hslToRgb(hsl);\r\n}\r\nexport function alternativeColor(color, lightAlternative = { r: 255, g: 255, b: 255 }, darkAlternative = { r: 255, g: 255, b: 255 }) {\r\n    let light = lightAlternative;\r\n    let dark = darkAlternative;\r\n    if (isLight(darkAlternative)) {\r\n        light = darkAlternative;\r\n        dark = lightAlternative;\r\n    }\r\n    return isLight(color) ? dark : light;\r\n}\r\n/**\r\n * @ignore\r\n * @deprecated\r\n */\r\n// export function unshiftThemeClass(settings: any, themeClass: string) {\r\n// \tlet themeClasses = settings.themeClasses;\r\n// \tif (!themeClasses) {\r\n// \t\tthemeClasses = [];\r\n// \t}\r\n// \tthemeClasses.unshift(themeClass);\r\n// \tsettings.themeClasses = themeClasses;\r\n// }\r\n/**\r\n * @ignore\r\n * @deprecated\r\n */\r\n// export function pushThemeClass(settings: any, themeClass: string) {\r\n// \tlet themeClasses = settings.themeClasses;\r\n// \tif (!themeClasses) {\r\n// \t\tthemeClasses = [];\r\n// \t}\r\n// \tthemeClasses.push(themeClass);\r\n// \tsettings.themeClasses = themeClasses;\r\n// }\r\n/**\r\n * @ignore\r\n */\r\nexport function mergeTags(tags1, tags2) {\r\n    if (!tags1) {\r\n        tags1 = [];\r\n    }\r\n    return [...tags1, ...tags2].filter((value, index, self) => {\r\n        return self.indexOf(value) === index;\r\n    });\r\n}\r\n/**\r\n * @ignore\r\n */\r\nexport function sameBounds(a, b) {\r\n    if (!b) {\r\n        return false;\r\n    }\r\n    if (a.left != b.left) {\r\n        return false;\r\n    }\r\n    if (a.right != b.right) {\r\n        return false;\r\n    }\r\n    if (a.top != b.top) {\r\n        return false;\r\n    }\r\n    if (a.bottom != b.bottom) {\r\n        return false;\r\n    }\r\n    return true;\r\n}\r\n","/**\r\n * This file is automatically generated by `yarn generate-classes`.\r\n * DO NOT MANUALLY EDIT IT OR YOUR CHANGES WILL BE LOST!\r\n */\r\nconst classes = {\r\n    \"AccumulationDistribution\": () => import(/* webpackExports: \"AccumulationDistribution\", webpackChunkName: \"json_stock\" */ \"./../../../stock\").then((m) => m.AccumulationDistribution),\r\n    \"AccumulativeSwingIndex\": () => import(/* webpackExports: \"AccumulativeSwingIndex\", webpackChunkName: \"json_stock\" */ \"./../../../stock\").then((m) => m.AccumulativeSwingIndex),\r\n    \"Annotator\": () => import(/* webpackExports: \"Annotator\", webpackChunkName: \"json_plugins_exporting\" */ \"./../../../plugins/exporting\").then((m) => m.Annotator),\r\n    \"Aroon\": () => import(/* webpackExports: \"Aroon\", webpackChunkName: \"json_stock\" */ \"./../../../stock\").then((m) => m.Aroon),\r\n    \"AverageSeries\": () => import(/* webpackExports: \"AverageSeries\", webpackChunkName: \"json_stock\" */ \"./../../../stock\").then((m) => m.AverageSeries),\r\n    \"AwesomeOscillator\": () => import(/* webpackExports: \"AwesomeOscillator\", webpackChunkName: \"json_stock\" */ \"./../../../stock\").then((m) => m.AwesomeOscillator),\r\n    \"Axis\": () => import(/* webpackExports: \"Axis\", webpackChunkName: \"json_xy\" */ \"./../../../xy\").then((m) => m.Axis),\r\n    \"AxisBullet\": () => import(/* webpackExports: \"AxisBullet\", webpackChunkName: \"json_xy\" */ \"./../../../xy\").then((m) => m.AxisBullet),\r\n    \"AxisLabel\": () => import(/* webpackExports: \"AxisLabel\", webpackChunkName: \"json_xy\" */ \"./../../../xy\").then((m) => m.AxisLabel),\r\n    \"AxisLabelRadial\": () => import(/* webpackExports: \"AxisLabelRadial\", webpackChunkName: \"json_xy\" */ \"./../../../xy\").then((m) => m.AxisLabelRadial),\r\n    \"AxisRenderer\": () => import(/* webpackExports: \"AxisRenderer\", webpackChunkName: \"json_xy\" */ \"./../../../xy\").then((m) => m.AxisRenderer),\r\n    \"AxisRendererCircular\": () => import(/* webpackExports: \"AxisRendererCircular\", webpackChunkName: \"json_radar\" */ \"./../../../radar\").then((m) => m.AxisRendererCircular),\r\n    \"AxisRendererRadial\": () => import(/* webpackExports: \"AxisRendererRadial\", webpackChunkName: \"json_radar\" */ \"./../../../radar\").then((m) => m.AxisRendererRadial),\r\n    \"AxisRendererX\": () => import(/* webpackExports: \"AxisRendererX\", webpackChunkName: \"json_xy\" */ \"./../../../xy\").then((m) => m.AxisRendererX),\r\n    \"AxisRendererY\": () => import(/* webpackExports: \"AxisRendererY\", webpackChunkName: \"json_xy\" */ \"./../../../xy\").then((m) => m.AxisRendererY),\r\n    \"AxisTick\": () => import(/* webpackExports: \"AxisTick\", webpackChunkName: \"json_xy\" */ \"./../../../xy\").then((m) => m.AxisTick),\r\n    \"BaseColumnSeries\": () => import(/* webpackExports: \"BaseColumnSeries\", webpackChunkName: \"json_xy\" */ \"./../../../xy\").then((m) => m.BaseColumnSeries),\r\n    \"BollingerBands\": () => import(/* webpackExports: \"BollingerBands\", webpackChunkName: \"json_stock\" */ \"./../../../stock\").then((m) => m.BollingerBands),\r\n    \"BreadcrumbBar\": () => import(/* webpackExports: \"BreadcrumbBar\", webpackChunkName: \"json_hierarchy\" */ \"./../../../hierarchy\").then((m) => m.BreadcrumbBar),\r\n    \"Bullet\": () => import(/* webpackExports: \"Bullet\", webpackChunkName: \"json_index\" */ \"./../../../index\").then((m) => m.Bullet),\r\n    \"Button\": () => import(/* webpackExports: \"Button\", webpackChunkName: \"json_index\" */ \"./../../../index\").then((m) => m.Button),\r\n    \"CalloutSeries\": () => import(/* webpackExports: \"CalloutSeries\", webpackChunkName: \"json_stock\" */ \"./../../../stock\").then((m) => m.CalloutSeries),\r\n    \"Candlestick\": () => import(/* webpackExports: \"Candlestick\", webpackChunkName: \"json_xy\" */ \"./../../../xy\").then((m) => m.Candlestick),\r\n    \"CandlestickSeries\": () => import(/* webpackExports: \"CandlestickSeries\", webpackChunkName: \"json_xy\" */ \"./../../../xy\").then((m) => m.CandlestickSeries),\r\n    \"CategoryAxis\": () => import(/* webpackExports: \"CategoryAxis\", webpackChunkName: \"json_xy\" */ \"./../../../xy\").then((m) => m.CategoryAxis),\r\n    \"CategoryDateAxis\": () => import(/* webpackExports: \"CategoryDateAxis\", webpackChunkName: \"json_xy\" */ \"./../../../xy\").then((m) => m.CategoryDateAxis),\r\n    \"ChaikinMoneyFlow\": () => import(/* webpackExports: \"ChaikinMoneyFlow\", webpackChunkName: \"json_stock\" */ \"./../../../stock\").then((m) => m.ChaikinMoneyFlow),\r\n    \"ChaikinOscillator\": () => import(/* webpackExports: \"ChaikinOscillator\", webpackChunkName: \"json_stock\" */ \"./../../../stock\").then((m) => m.ChaikinOscillator),\r\n    \"Chart\": () => import(/* webpackExports: \"Chart\", webpackChunkName: \"json_index\" */ \"./../../../index\").then((m) => m.Chart),\r\n    \"ChartIndicator\": () => import(/* webpackExports: \"ChartIndicator\", webpackChunkName: \"json_stock\" */ \"./../../../stock\").then((m) => m.ChartIndicator),\r\n    \"Chord\": () => import(/* webpackExports: \"Chord\", webpackChunkName: \"json_flow\" */ \"./../../../flow\").then((m) => m.Chord),\r\n    \"ChordDirected\": () => import(/* webpackExports: \"ChordDirected\", webpackChunkName: \"json_flow\" */ \"./../../../flow\").then((m) => m.ChordDirected),\r\n    \"ChordLink\": () => import(/* webpackExports: \"ChordLink\", webpackChunkName: \"json_flow\" */ \"./../../../flow\").then((m) => m.ChordLink),\r\n    \"ChordLinkDirected\": () => import(/* webpackExports: \"ChordLinkDirected\", webpackChunkName: \"json_flow\" */ \"./../../../flow\").then((m) => m.ChordLinkDirected),\r\n    \"ChordNodes\": () => import(/* webpackExports: \"ChordNodes\", webpackChunkName: \"json_flow\" */ \"./../../../flow\").then((m) => m.ChordNodes),\r\n    \"ChordNonRibbon\": () => import(/* webpackExports: \"ChordNonRibbon\", webpackChunkName: \"json_flow\" */ \"./../../../flow\").then((m) => m.ChordNonRibbon),\r\n    \"Circle\": () => import(/* webpackExports: \"Circle\", webpackChunkName: \"json_index\" */ \"./../../../index\").then((m) => m.Circle),\r\n    \"CirclePattern\": () => import(/* webpackExports: \"CirclePattern\", webpackChunkName: \"json_index\" */ \"./../../../index\").then((m) => m.CirclePattern),\r\n    \"ClockHand\": () => import(/* webpackExports: \"ClockHand\", webpackChunkName: \"json_radar\" */ \"./../../../radar\").then((m) => m.ClockHand),\r\n    \"ColorControl\": () => import(/* webpackExports: \"ColorControl\", webpackChunkName: \"json_stock\" */ \"./../../../stock\").then((m) => m.ColorControl),\r\n    \"ColorSet\": () => import(/* webpackExports: \"ColorSet\", webpackChunkName: \"json_index\" */ \"./../../../index\").then((m) => m.ColorSet),\r\n    \"ColumnSeries\": () => import(/* webpackExports: \"ColumnSeries\", webpackChunkName: \"json_xy\" */ \"./../../../xy\").then((m) => m.ColumnSeries),\r\n    \"CommodityChannelIndex\": () => import(/* webpackExports: \"CommodityChannelIndex\", webpackChunkName: \"json_stock\" */ \"./../../../stock\").then((m) => m.CommodityChannelIndex),\r\n    \"ComparisonControl\": () => import(/* webpackExports: \"ComparisonControl\", webpackChunkName: \"json_stock\" */ \"./../../../stock\").then((m) => m.ComparisonControl),\r\n    \"Component\": () => import(/* webpackExports: \"Component\", webpackChunkName: \"json_index\" */ \"./../../../index\").then((m) => m.Component),\r\n    \"Container\": () => import(/* webpackExports: \"Container\", webpackChunkName: \"json_index\" */ \"./../../../index\").then((m) => m.Container),\r\n    \"DateAxis\": () => import(/* webpackExports: \"DateAxis\", webpackChunkName: \"json_xy\" */ \"./../../../xy\").then((m) => m.DateAxis),\r\n    \"DateRangeSelector\": () => import(/* webpackExports: \"DateRangeSelector\", webpackChunkName: \"json_stock\" */ \"./../../../stock\").then((m) => m.DateRangeSelector),\r\n    \"DisparityIndex\": () => import(/* webpackExports: \"DisparityIndex\", webpackChunkName: \"json_stock\" */ \"./../../../stock\").then((m) => m.DisparityIndex),\r\n    \"DoodleSeries\": () => import(/* webpackExports: \"DoodleSeries\", webpackChunkName: \"json_stock\" */ \"./../../../stock\").then((m) => m.DoodleSeries),\r\n    \"DrawingControl\": () => import(/* webpackExports: \"DrawingControl\", webpackChunkName: \"json_stock\" */ \"./../../../stock\").then((m) => m.DrawingControl),\r\n    \"DrawingSeries\": () => import(/* webpackExports: \"DrawingSeries\", webpackChunkName: \"json_stock\" */ \"./../../../stock\").then((m) => m.DrawingSeries),\r\n    \"DrawingToolControl\": () => import(/* webpackExports: \"DrawingToolControl\", webpackChunkName: \"json_stock\" */ \"./../../../stock\").then((m) => m.DrawingToolControl),\r\n    \"Dropdown\": () => import(/* webpackExports: \"Dropdown\", webpackChunkName: \"json_stock\" */ \"./../../../stock\").then((m) => m.Dropdown),\r\n    \"DropdownColors\": () => import(/* webpackExports: \"DropdownColors\", webpackChunkName: \"json_stock\" */ \"./../../../stock\").then((m) => m.DropdownColors),\r\n    \"DropdownList\": () => import(/* webpackExports: \"DropdownList\", webpackChunkName: \"json_stock\" */ \"./../../../stock\").then((m) => m.DropdownList),\r\n    \"DropdownListControl\": () => import(/* webpackExports: \"DropdownListControl\", webpackChunkName: \"json_stock\" */ \"./../../../stock\").then((m) => m.DropdownListControl),\r\n    \"DurationAxis\": () => import(/* webpackExports: \"DurationAxis\", webpackChunkName: \"json_xy\" */ \"./../../../xy\").then((m) => m.DurationAxis),\r\n    \"Ellipse\": () => import(/* webpackExports: \"Ellipse\", webpackChunkName: \"json_index\" */ \"./../../../index\").then((m) => m.Ellipse),\r\n    \"EllipseSeries\": () => import(/* webpackExports: \"EllipseSeries\", webpackChunkName: \"json_stock\" */ \"./../../../stock\").then((m) => m.EllipseSeries),\r\n    \"Entity\": () => import(/* webpackExports: \"Entity\", webpackChunkName: \"json_index\" */ \"./../../../index\").then((m) => m.Entity),\r\n    \"Exporting\": () => import(/* webpackExports: \"Exporting\", webpackChunkName: \"json_plugins_exporting\" */ \"./../../../plugins/exporting\").then((m) => m.Exporting),\r\n    \"ExportingMenu\": () => import(/* webpackExports: \"ExportingMenu\", webpackChunkName: \"json_plugins_exporting\" */ \"./../../../plugins/exporting\").then((m) => m.ExportingMenu),\r\n    \"FibonacciSeries\": () => import(/* webpackExports: \"FibonacciSeries\", webpackChunkName: \"json_stock\" */ \"./../../../stock\").then((m) => m.FibonacciSeries),\r\n    \"FibonacciTimezoneSeries\": () => import(/* webpackExports: \"FibonacciTimezoneSeries\", webpackChunkName: \"json_stock\" */ \"./../../../stock\").then((m) => m.FibonacciTimezoneSeries),\r\n    \"Flow\": () => import(/* webpackExports: \"Flow\", webpackChunkName: \"json_flow\" */ \"./../../../flow\").then((m) => m.Flow),\r\n    \"FlowLink\": () => import(/* webpackExports: \"FlowLink\", webpackChunkName: \"json_flow\" */ \"./../../../flow\").then((m) => m.FlowLink),\r\n    \"FlowNode\": () => import(/* webpackExports: \"FlowNode\", webpackChunkName: \"json_flow\" */ \"./../../../flow\").then((m) => m.FlowNode),\r\n    \"FlowNodes\": () => import(/* webpackExports: \"FlowNodes\", webpackChunkName: \"json_flow\" */ \"./../../../flow\").then((m) => m.FlowNodes),\r\n    \"ForceDirected\": () => import(/* webpackExports: \"ForceDirected\", webpackChunkName: \"json_hierarchy\" */ \"./../../../hierarchy\").then((m) => m.ForceDirected),\r\n    \"FunnelSeries\": () => import(/* webpackExports: \"FunnelSeries\", webpackChunkName: \"json_percent\" */ \"./../../../percent\").then((m) => m.FunnelSeries),\r\n    \"FunnelSlice\": () => import(/* webpackExports: \"FunnelSlice\", webpackChunkName: \"json_percent\" */ \"./../../../percent\").then((m) => m.FunnelSlice),\r\n    \"GaplessDateAxis\": () => import(/* webpackExports: \"GaplessDateAxis\", webpackChunkName: \"json_xy\" */ \"./../../../xy\").then((m) => m.GaplessDateAxis),\r\n    \"Gradient\": () => import(/* webpackExports: \"Gradient\", webpackChunkName: \"json_index\" */ \"./../../../index\").then((m) => m.Gradient),\r\n    \"Graphics\": () => import(/* webpackExports: \"Graphics\", webpackChunkName: \"json_index\" */ \"./../../../index\").then((m) => m.Graphics),\r\n    \"GraticuleSeries\": () => import(/* webpackExports: \"GraticuleSeries\", webpackChunkName: \"json_map\" */ \"./../../../map\").then((m) => m.GraticuleSeries),\r\n    \"Grid\": () => import(/* webpackExports: \"Grid\", webpackChunkName: \"json_xy\" */ \"./../../../xy\").then((m) => m.Grid),\r\n    \"GridLayout\": () => import(/* webpackExports: \"GridLayout\", webpackChunkName: \"json_index\" */ \"./../../../index\").then((m) => m.GridLayout),\r\n    \"HeatLegend\": () => import(/* webpackExports: \"HeatLegend\", webpackChunkName: \"json_index\" */ \"./../../../index\").then((m) => m.HeatLegend),\r\n    \"Hierarchy\": () => import(/* webpackExports: \"Hierarchy\", webpackChunkName: \"json_hierarchy\" */ \"./../../../hierarchy\").then((m) => m.Hierarchy),\r\n    \"HierarchyLink\": () => import(/* webpackExports: \"HierarchyLink\", webpackChunkName: \"json_hierarchy\" */ \"./../../../hierarchy\").then((m) => m.HierarchyLink),\r\n    \"HierarchyNode\": () => import(/* webpackExports: \"HierarchyNode\", webpackChunkName: \"json_hierarchy\" */ \"./../../../hierarchy\").then((m) => m.HierarchyNode),\r\n    \"HorizontalLayout\": () => import(/* webpackExports: \"HorizontalLayout\", webpackChunkName: \"json_index\" */ \"./../../../index\").then((m) => m.HorizontalLayout),\r\n    \"HorizontalLineSeries\": () => import(/* webpackExports: \"HorizontalLineSeries\", webpackChunkName: \"json_stock\" */ \"./../../../stock\").then((m) => m.HorizontalLineSeries),\r\n    \"HorizontalRaySeries\": () => import(/* webpackExports: \"HorizontalRaySeries\", webpackChunkName: \"json_stock\" */ \"./../../../stock\").then((m) => m.HorizontalRaySeries),\r\n    \"IconControl\": () => import(/* webpackExports: \"IconControl\", webpackChunkName: \"json_stock\" */ \"./../../../stock\").then((m) => m.IconControl),\r\n    \"IconSeries\": () => import(/* webpackExports: \"IconSeries\", webpackChunkName: \"json_stock\" */ \"./../../../stock\").then((m) => m.IconSeries),\r\n    \"Indicator\": () => import(/* webpackExports: \"Indicator\", webpackChunkName: \"json_stock\" */ \"./../../../stock\").then((m) => m.Indicator),\r\n    \"IndicatorControl\": () => import(/* webpackExports: \"IndicatorControl\", webpackChunkName: \"json_stock\" */ \"./../../../stock\").then((m) => m.IndicatorControl),\r\n    \"InterfaceColors\": () => import(/* webpackExports: \"InterfaceColors\", webpackChunkName: \"json_index\" */ \"./../../../index\").then((m) => m.InterfaceColors),\r\n    \"IntervalControl\": () => import(/* webpackExports: \"IntervalControl\", webpackChunkName: \"json_stock\" */ \"./../../../stock\").then((m) => m.IntervalControl),\r\n    \"Label\": () => import(/* webpackExports: \"Label\", webpackChunkName: \"json_index\" */ \"./../../../index\").then((m) => m.Label),\r\n    \"LabelSeries\": () => import(/* webpackExports: \"LabelSeries\", webpackChunkName: \"json_stock\" */ \"./../../../stock\").then((m) => m.LabelSeries),\r\n    \"Layout\": () => import(/* webpackExports: \"Layout\", webpackChunkName: \"json_index\" */ \"./../../../index\").then((m) => m.Layout),\r\n    \"Legend\": () => import(/* webpackExports: \"Legend\", webpackChunkName: \"json_index\" */ \"./../../../index\").then((m) => m.Legend),\r\n    \"Line\": () => import(/* webpackExports: \"Line\", webpackChunkName: \"json_index\" */ \"./../../../index\").then((m) => m.Line),\r\n    \"LinePattern\": () => import(/* webpackExports: \"LinePattern\", webpackChunkName: \"json_index\" */ \"./../../../index\").then((m) => m.LinePattern),\r\n    \"LineSeries\": () => import(/* webpackExports: \"LineSeries\", webpackChunkName: \"json_xy\" */ \"./../../../xy\").then((m) => m.LineSeries),\r\n    \"LinearGradient\": () => import(/* webpackExports: \"LinearGradient\", webpackChunkName: \"json_index\" */ \"./../../../index\").then((m) => m.LinearGradient),\r\n    \"LinkedHierarchy\": () => import(/* webpackExports: \"LinkedHierarchy\", webpackChunkName: \"json_hierarchy\" */ \"./../../../hierarchy\").then((m) => m.LinkedHierarchy),\r\n    \"LinkedHierarchyNode\": () => import(/* webpackExports: \"LinkedHierarchyNode\", webpackChunkName: \"json_hierarchy\" */ \"./../../../hierarchy\").then((m) => m.LinkedHierarchyNode),\r\n    \"MACD\": () => import(/* webpackExports: \"MACD\", webpackChunkName: \"json_stock\" */ \"./../../../stock\").then((m) => m.MACD),\r\n    \"MapChart\": () => import(/* webpackExports: \"MapChart\", webpackChunkName: \"json_map\" */ \"./../../../map\").then((m) => m.MapChart),\r\n    \"MapLine\": () => import(/* webpackExports: \"MapLine\", webpackChunkName: \"json_map\" */ \"./../../../map\").then((m) => m.MapLine),\r\n    \"MapLineSeries\": () => import(/* webpackExports: \"MapLineSeries\", webpackChunkName: \"json_map\" */ \"./../../../map\").then((m) => m.MapLineSeries),\r\n    \"MapPointSeries\": () => import(/* webpackExports: \"MapPointSeries\", webpackChunkName: \"json_map\" */ \"./../../../map\").then((m) => m.MapPointSeries),\r\n    \"MapPolygon\": () => import(/* webpackExports: \"MapPolygon\", webpackChunkName: \"json_map\" */ \"./../../../map\").then((m) => m.MapPolygon),\r\n    \"MapPolygonSeries\": () => import(/* webpackExports: \"MapPolygonSeries\", webpackChunkName: \"json_map\" */ \"./../../../map\").then((m) => m.MapPolygonSeries),\r\n    \"MapSeries\": () => import(/* webpackExports: \"MapSeries\", webpackChunkName: \"json_map\" */ \"./../../../map\").then((m) => m.MapSeries),\r\n    \"MedianPrice\": () => import(/* webpackExports: \"MedianPrice\", webpackChunkName: \"json_stock\" */ \"./../../../stock\").then((m) => m.MedianPrice),\r\n    \"Modal\": () => import(/* webpackExports: \"Modal\", webpackChunkName: \"json_index\" */ \"./../../../index\").then((m) => m.Modal),\r\n    \"MovingAverage\": () => import(/* webpackExports: \"MovingAverage\", webpackChunkName: \"json_stock\" */ \"./../../../stock\").then((m) => m.MovingAverage),\r\n    \"MovingAverageDeviation\": () => import(/* webpackExports: \"MovingAverageDeviation\", webpackChunkName: \"json_stock\" */ \"./../../../stock\").then((m) => m.MovingAverageDeviation),\r\n    \"MovingAverageEnvelope\": () => import(/* webpackExports: \"MovingAverageEnvelope\", webpackChunkName: \"json_stock\" */ \"./../../../stock\").then((m) => m.MovingAverageEnvelope),\r\n    \"OHLC\": () => import(/* webpackExports: \"OHLC\", webpackChunkName: \"json_xy\" */ \"./../../../xy\").then((m) => m.OHLC),\r\n    \"OHLCSeries\": () => import(/* webpackExports: \"OHLCSeries\", webpackChunkName: \"json_xy\" */ \"./../../../xy\").then((m) => m.OHLCSeries),\r\n    \"OnBalanceVolume\": () => import(/* webpackExports: \"OnBalanceVolume\", webpackChunkName: \"json_stock\" */ \"./../../../stock\").then((m) => m.OnBalanceVolume),\r\n    \"Pack\": () => import(/* webpackExports: \"Pack\", webpackChunkName: \"json_hierarchy\" */ \"./../../../hierarchy\").then((m) => m.Pack),\r\n    \"PanelControls\": () => import(/* webpackExports: \"PanelControls\", webpackChunkName: \"json_stock\" */ \"./../../../stock\").then((m) => m.PanelControls),\r\n    \"Partition\": () => import(/* webpackExports: \"Partition\", webpackChunkName: \"json_hierarchy\" */ \"./../../../hierarchy\").then((m) => m.Partition),\r\n    \"PathPattern\": () => import(/* webpackExports: \"PathPattern\", webpackChunkName: \"json_index\" */ \"./../../../index\").then((m) => m.PathPattern),\r\n    \"Pattern\": () => import(/* webpackExports: \"Pattern\", webpackChunkName: \"json_index\" */ \"./../../../index\").then((m) => m.Pattern),\r\n    \"PercentChart\": () => import(/* webpackExports: \"PercentChart\", webpackChunkName: \"json_percent\" */ \"./../../../percent\").then((m) => m.PercentChart),\r\n    \"PercentSeries\": () => import(/* webpackExports: \"PercentSeries\", webpackChunkName: \"json_percent\" */ \"./../../../percent\").then((m) => m.PercentSeries),\r\n    \"PeriodSelector\": () => import(/* webpackExports: \"PeriodSelector\", webpackChunkName: \"json_stock\" */ \"./../../../stock\").then((m) => m.PeriodSelector),\r\n    \"PictorialStackedSeries\": () => import(/* webpackExports: \"PictorialStackedSeries\", webpackChunkName: \"json_percent\" */ \"./../../../percent\").then((m) => m.PictorialStackedSeries),\r\n    \"Picture\": () => import(/* webpackExports: \"Picture\", webpackChunkName: \"json_index\" */ \"./../../../index\").then((m) => m.Picture),\r\n    \"PicturePattern\": () => import(/* webpackExports: \"PicturePattern\", webpackChunkName: \"json_index\" */ \"./../../../index\").then((m) => m.PicturePattern),\r\n    \"PieChart\": () => import(/* webpackExports: \"PieChart\", webpackChunkName: \"json_percent\" */ \"./../../../percent\").then((m) => m.PieChart),\r\n    \"PieSeries\": () => import(/* webpackExports: \"PieSeries\", webpackChunkName: \"json_percent\" */ \"./../../../percent\").then((m) => m.PieSeries),\r\n    \"PointedRectangle\": () => import(/* webpackExports: \"PointedRectangle\", webpackChunkName: \"json_index\" */ \"./../../../index\").then((m) => m.PointedRectangle),\r\n    \"PolylineSeries\": () => import(/* webpackExports: \"PolylineSeries\", webpackChunkName: \"json_stock\" */ \"./../../../stock\").then((m) => m.PolylineSeries),\r\n    \"PyramidSeries\": () => import(/* webpackExports: \"PyramidSeries\", webpackChunkName: \"json_percent\" */ \"./../../../percent\").then((m) => m.PyramidSeries),\r\n    \"QuadrantLineSeries\": () => import(/* webpackExports: \"QuadrantLineSeries\", webpackChunkName: \"json_stock\" */ \"./../../../stock\").then((m) => m.QuadrantLineSeries),\r\n    \"RadarChart\": () => import(/* webpackExports: \"RadarChart\", webpackChunkName: \"json_radar\" */ \"./../../../radar\").then((m) => m.RadarChart),\r\n    \"RadarColumnSeries\": () => import(/* webpackExports: \"RadarColumnSeries\", webpackChunkName: \"json_radar\" */ \"./../../../radar\").then((m) => m.RadarColumnSeries),\r\n    \"RadarCursor\": () => import(/* webpackExports: \"RadarCursor\", webpackChunkName: \"json_radar\" */ \"./../../../radar\").then((m) => m.RadarCursor),\r\n    \"RadarLineSeries\": () => import(/* webpackExports: \"RadarLineSeries\", webpackChunkName: \"json_radar\" */ \"./../../../radar\").then((m) => m.RadarLineSeries),\r\n    \"RadialGradient\": () => import(/* webpackExports: \"RadialGradient\", webpackChunkName: \"json_index\" */ \"./../../../index\").then((m) => m.RadialGradient),\r\n    \"RadialLabel\": () => import(/* webpackExports: \"RadialLabel\", webpackChunkName: \"json_index\" */ \"./../../../index\").then((m) => m.RadialLabel),\r\n    \"RadialText\": () => import(/* webpackExports: \"RadialText\", webpackChunkName: \"json_index\" */ \"./../../../index\").then((m) => m.RadialText),\r\n    \"Rectangle\": () => import(/* webpackExports: \"Rectangle\", webpackChunkName: \"json_index\" */ \"./../../../index\").then((m) => m.Rectangle),\r\n    \"RectanglePattern\": () => import(/* webpackExports: \"RectanglePattern\", webpackChunkName: \"json_index\" */ \"./../../../index\").then((m) => m.RectanglePattern),\r\n    \"RectangleSeries\": () => import(/* webpackExports: \"RectangleSeries\", webpackChunkName: \"json_stock\" */ \"./../../../stock\").then((m) => m.RectangleSeries),\r\n    \"RegressionSeries\": () => import(/* webpackExports: \"RegressionSeries\", webpackChunkName: \"json_stock\" */ \"./../../../stock\").then((m) => m.RegressionSeries),\r\n    \"RelativeStrengthIndex\": () => import(/* webpackExports: \"RelativeStrengthIndex\", webpackChunkName: \"json_stock\" */ \"./../../../stock\").then((m) => m.RelativeStrengthIndex),\r\n    \"ResetControl\": () => import(/* webpackExports: \"ResetControl\", webpackChunkName: \"json_stock\" */ \"./../../../stock\").then((m) => m.ResetControl),\r\n    \"RoundedRectangle\": () => import(/* webpackExports: \"RoundedRectangle\", webpackChunkName: \"json_index\" */ \"./../../../index\").then((m) => m.RoundedRectangle),\r\n    \"Sankey\": () => import(/* webpackExports: \"Sankey\", webpackChunkName: \"json_flow\" */ \"./../../../flow\").then((m) => m.Sankey),\r\n    \"SankeyLink\": () => import(/* webpackExports: \"SankeyLink\", webpackChunkName: \"json_flow\" */ \"./../../../flow\").then((m) => m.SankeyLink),\r\n    \"SankeyNodes\": () => import(/* webpackExports: \"SankeyNodes\", webpackChunkName: \"json_flow\" */ \"./../../../flow\").then((m) => m.SankeyNodes),\r\n    \"Scrollbar\": () => import(/* webpackExports: \"Scrollbar\", webpackChunkName: \"json_index\" */ \"./../../../index\").then((m) => m.Scrollbar),\r\n    \"SerialChart\": () => import(/* webpackExports: \"SerialChart\", webpackChunkName: \"json_index\" */ \"./../../../index\").then((m) => m.SerialChart),\r\n    \"Serializer\": () => import(/* webpackExports: \"Serializer\", webpackChunkName: \"json_plugins_json\" */ \"./../../../plugins/json\").then((m) => m.Serializer),\r\n    \"Series\": () => import(/* webpackExports: \"Series\", webpackChunkName: \"json_index\" */ \"./../../../index\").then((m) => m.Series),\r\n    \"SeriesTypeControl\": () => import(/* webpackExports: \"SeriesTypeControl\", webpackChunkName: \"json_stock\" */ \"./../../../stock\").then((m) => m.SeriesTypeControl),\r\n    \"SettingsControl\": () => import(/* webpackExports: \"SettingsControl\", webpackChunkName: \"json_stock\" */ \"./../../../stock\").then((m) => m.SettingsControl),\r\n    \"SettingsModal\": () => import(/* webpackExports: \"SettingsModal\", webpackChunkName: \"json_stock\" */ \"./../../../stock\").then((m) => m.SettingsModal),\r\n    \"SimpleLineSeries\": () => import(/* webpackExports: \"SimpleLineSeries\", webpackChunkName: \"json_stock\" */ \"./../../../stock\").then((m) => m.SimpleLineSeries),\r\n    \"Slice\": () => import(/* webpackExports: \"Slice\", webpackChunkName: \"json_index\" */ \"./../../../index\").then((m) => m.Slice),\r\n    \"SliceGrouper\": () => import(/* webpackExports: \"SliceGrouper\", webpackChunkName: \"json_plugins_sliceGrouper\" */ \"./../../../plugins/sliceGrouper\").then((m) => m.SliceGrouper),\r\n    \"SlicedChart\": () => import(/* webpackExports: \"SlicedChart\", webpackChunkName: \"json_percent\" */ \"./../../../percent\").then((m) => m.SlicedChart),\r\n    \"Slider\": () => import(/* webpackExports: \"Slider\", webpackChunkName: \"json_index\" */ \"./../../../index\").then((m) => m.Slider),\r\n    \"SmoothedRadarLineSeries\": () => import(/* webpackExports: \"SmoothedRadarLineSeries\", webpackChunkName: \"json_radar\" */ \"./../../../radar\").then((m) => m.SmoothedRadarLineSeries),\r\n    \"SmoothedXLineSeries\": () => import(/* webpackExports: \"SmoothedXLineSeries\", webpackChunkName: \"json_xy\" */ \"./../../../xy\").then((m) => m.SmoothedXLineSeries),\r\n    \"SmoothedXYLineSeries\": () => import(/* webpackExports: \"SmoothedXYLineSeries\", webpackChunkName: \"json_xy\" */ \"./../../../xy\").then((m) => m.SmoothedXYLineSeries),\r\n    \"SmoothedYLineSeries\": () => import(/* webpackExports: \"SmoothedYLineSeries\", webpackChunkName: \"json_xy\" */ \"./../../../xy\").then((m) => m.SmoothedYLineSeries),\r\n    \"Sprite\": () => import(/* webpackExports: \"Sprite\", webpackChunkName: \"json_index\" */ \"./../../../index\").then((m) => m.Sprite),\r\n    \"SpriteResizer\": () => import(/* webpackExports: \"SpriteResizer\", webpackChunkName: \"json_index\" */ \"./../../../index\").then((m) => m.SpriteResizer),\r\n    \"StandardDeviation\": () => import(/* webpackExports: \"StandardDeviation\", webpackChunkName: \"json_stock\" */ \"./../../../stock\").then((m) => m.StandardDeviation),\r\n    \"Star\": () => import(/* webpackExports: \"Star\", webpackChunkName: \"json_index\" */ \"./../../../index\").then((m) => m.Star),\r\n    \"StepLineSeries\": () => import(/* webpackExports: \"StepLineSeries\", webpackChunkName: \"json_xy\" */ \"./../../../xy\").then((m) => m.StepLineSeries),\r\n    \"StochasticOscillator\": () => import(/* webpackExports: \"StochasticOscillator\", webpackChunkName: \"json_stock\" */ \"./../../../stock\").then((m) => m.StochasticOscillator),\r\n    \"StockChart\": () => import(/* webpackExports: \"StockChart\", webpackChunkName: \"json_stock\" */ \"./../../../stock\").then((m) => m.StockChart),\r\n    \"StockControl\": () => import(/* webpackExports: \"StockControl\", webpackChunkName: \"json_stock\" */ \"./../../../stock\").then((m) => m.StockControl),\r\n    \"StockLegend\": () => import(/* webpackExports: \"StockLegend\", webpackChunkName: \"json_stock\" */ \"./../../../stock\").then((m) => m.StockLegend),\r\n    \"StockPanel\": () => import(/* webpackExports: \"StockPanel\", webpackChunkName: \"json_stock\" */ \"./../../../stock\").then((m) => m.StockPanel),\r\n    \"StockToolbar\": () => import(/* webpackExports: \"StockToolbar\", webpackChunkName: \"json_stock\" */ \"./../../../stock\").then((m) => m.StockToolbar),\r\n    \"Sunburst\": () => import(/* webpackExports: \"Sunburst\", webpackChunkName: \"json_hierarchy\" */ \"./../../../hierarchy\").then((m) => m.Sunburst),\r\n    \"Text\": () => import(/* webpackExports: \"Text\", webpackChunkName: \"json_index\" */ \"./../../../index\").then((m) => m.Text),\r\n    \"Tick\": () => import(/* webpackExports: \"Tick\", webpackChunkName: \"json_index\" */ \"./../../../index\").then((m) => m.Tick),\r\n    \"Tooltip\": () => import(/* webpackExports: \"Tooltip\", webpackChunkName: \"json_index\" */ \"./../../../index\").then((m) => m.Tooltip),\r\n    \"Tree\": () => import(/* webpackExports: \"Tree\", webpackChunkName: \"json_hierarchy\" */ \"./../../../hierarchy\").then((m) => m.Tree),\r\n    \"Treemap\": () => import(/* webpackExports: \"Treemap\", webpackChunkName: \"json_hierarchy\" */ \"./../../../hierarchy\").then((m) => m.Treemap),\r\n    \"TrendLineSeries\": () => import(/* webpackExports: \"TrendLineSeries\", webpackChunkName: \"json_stock\" */ \"./../../../stock\").then((m) => m.TrendLineSeries),\r\n    \"Triangle\": () => import(/* webpackExports: \"Triangle\", webpackChunkName: \"json_index\" */ \"./../../../index\").then((m) => m.Triangle),\r\n    \"Trix\": () => import(/* webpackExports: \"Trix\", webpackChunkName: \"json_stock\" */ \"./../../../stock\").then((m) => m.Trix),\r\n    \"TypicalPrice\": () => import(/* webpackExports: \"TypicalPrice\", webpackChunkName: \"json_stock\" */ \"./../../../stock\").then((m) => m.TypicalPrice),\r\n    \"VWAP\": () => import(/* webpackExports: \"VWAP\", webpackChunkName: \"json_stock\" */ \"./../../../stock\").then((m) => m.VWAP),\r\n    \"ValueAxis\": () => import(/* webpackExports: \"ValueAxis\", webpackChunkName: \"json_xy\" */ \"./../../../xy\").then((m) => m.ValueAxis),\r\n    \"Venn\": () => import(/* webpackExports: \"Venn\", webpackChunkName: \"json_venn\" */ \"./../../../venn\").then((m) => m.Venn),\r\n    \"VerticalLayout\": () => import(/* webpackExports: \"VerticalLayout\", webpackChunkName: \"json_index\" */ \"./../../../index\").then((m) => m.VerticalLayout),\r\n    \"VerticalLineSeries\": () => import(/* webpackExports: \"VerticalLineSeries\", webpackChunkName: \"json_stock\" */ \"./../../../stock\").then((m) => m.VerticalLineSeries),\r\n    \"Volume\": () => import(/* webpackExports: \"Volume\", webpackChunkName: \"json_stock\" */ \"./../../../stock\").then((m) => m.Volume),\r\n    \"WilliamsR\": () => import(/* webpackExports: \"WilliamsR\", webpackChunkName: \"json_stock\" */ \"./../../../stock\").then((m) => m.WilliamsR),\r\n    \"WordCloud\": () => import(/* webpackExports: \"WordCloud\", webpackChunkName: \"json_wc\" */ \"./../../../wc\").then((m) => m.WordCloud),\r\n    \"XYChart\": () => import(/* webpackExports: \"XYChart\", webpackChunkName: \"json_xy\" */ \"./../../../xy\").then((m) => m.XYChart),\r\n    \"XYChartScrollbar\": () => import(/* webpackExports: \"XYChartScrollbar\", webpackChunkName: \"json_xy\" */ \"./../../../xy\").then((m) => m.XYChartScrollbar),\r\n    \"XYCursor\": () => import(/* webpackExports: \"XYCursor\", webpackChunkName: \"json_xy\" */ \"./../../../xy\").then((m) => m.XYCursor),\r\n    \"XYSeries\": () => import(/* webpackExports: \"XYSeries\", webpackChunkName: \"json_xy\" */ \"./../../../xy\").then((m) => m.XYSeries),\r\n    \"ZigZag\": () => import(/* webpackExports: \"ZigZag\", webpackChunkName: \"json_stock\" */ \"./../../../stock\").then((m) => m.ZigZag),\r\n    \"ZoomControl\": () => import(/* webpackExports: \"ZoomControl\", webpackChunkName: \"json_map\" */ \"./../../../map\").then((m) => m.ZoomControl),\r\n};\r\nexport default classes;\r\n","import { __awaiter } from \"tslib\";\r\nimport { Entity } from \"../../core/util/Entity\";\r\nimport { Sprite } from \"../../core/render/Sprite\";\r\nimport { Container } from \"../../core/render/Container\";\r\nimport { Color } from \"../../core/util/Color\";\r\nimport { Percent } from \"../../core/util/Percent\";\r\nimport { Template } from \"../../core/util/Template\";\r\nimport * as $type from \"../../core/util/Type\";\r\nimport * as $array from \"../../core/util/Array\";\r\nimport * as $object from \"../../core/util/Object\";\r\nimport classes from \"./Classes\";\r\nfunction isObject(value) {\r\n    return $type.isObject(value);\r\n}\r\nfunction lookupRef(refs, name) {\r\n    let i = refs.length;\r\n    while (i--) {\r\n        const sub = refs[i];\r\n        if (name in sub) {\r\n            return sub[name];\r\n        }\r\n    }\r\n    throw new Error(\"Could not find ref #\" + name);\r\n}\r\nfunction parseRef(value, refs) {\r\n    if (value[0] === \"#\") {\r\n        const ref = value.slice(1);\r\n        if (value[1] === \"#\") {\r\n            return {\r\n                isValue: true,\r\n                value: ref,\r\n            };\r\n        }\r\n        else {\r\n            const path = ref.split(/\\./g);\r\n            let object = lookupRef(refs, path[0]);\r\n            for (let i = 1; i < path.length; ++i) {\r\n                object = object[path[i]];\r\n            }\r\n            return {\r\n                isValue: true,\r\n                value: object,\r\n            };\r\n        }\r\n    }\r\n    else {\r\n        return {\r\n            isValue: true,\r\n            value,\r\n        };\r\n    }\r\n}\r\nfunction mergeEntity(entity, parsed) {\r\n    if (parsed.adapters) {\r\n        $array.each(parsed.adapters, (adapter) => {\r\n            entity.adapters.add(adapter.key, adapter.callback);\r\n        });\r\n    }\r\n    if (parsed.properties) {\r\n        $array.each(parsed.properties, (fn) => {\r\n            fn(entity);\r\n        });\r\n    }\r\n    if (entity instanceof Container) {\r\n        if (parsed.children) {\r\n            parsed.children.forEach((child) => {\r\n                if (child.index == null) {\r\n                    entity.children.push(child.value);\r\n                }\r\n                else {\r\n                    entity.children.insertIndex(child.index, child.value);\r\n                }\r\n            });\r\n        }\r\n    }\r\n}\r\nfunction constructEntity(root, parsed) {\r\n    if (!parsed.construct) {\r\n        return parsed.value;\r\n    }\r\n    const entity = parsed.construct.new(root, parsed.settings || {});\r\n    mergeEntity(entity, parsed);\r\n    return entity;\r\n}\r\nclass ParserState {\r\n    constructor() {\r\n        Object.defineProperty(this, \"_caching\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        Object.defineProperty(this, \"_cache\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        Object.defineProperty(this, \"_delayed\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n    }\r\n    afterParse() {\r\n        this._delayed.forEach((f) => {\r\n            f();\r\n        });\r\n    }\r\n    getClass(name) {\r\n        return this._cache[name];\r\n    }\r\n    storeClass(name) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const promise = classes[name];\r\n            this._cache[name] = (yield promise());\r\n        });\r\n    }\r\n    cacheClass(name) {\r\n        let promise = this._caching[name];\r\n        if (promise == null) {\r\n            promise = this._caching[name] = this.storeClass(name);\r\n        }\r\n        return promise;\r\n    }\r\n    parseAsyncArray(array) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            yield Promise.all($array.map(array, (x) => this.parseAsync(x)));\r\n        });\r\n    }\r\n    parseAsyncObject(object) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            yield Promise.all($array.map($object.keys(object), (key) => this.parseAsync(object[key])));\r\n        });\r\n    }\r\n    parseAsyncRefs(refs) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            if ($type.isArray(refs)) {\r\n                yield Promise.all($array.map(refs, (x) => this.parseAsyncRefs(x)));\r\n            }\r\n            else {\r\n                yield this.parseAsyncObject(refs);\r\n            }\r\n        });\r\n    }\r\n    parseAsync(value) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            if ($type.isArray(value)) {\r\n                yield this.parseAsyncArray(value);\r\n            }\r\n            else if (isObject(value)) {\r\n                if (value.type === \"Color\" || value.type === \"Percent\") {\r\n                    // Do nothing\r\n                }\r\n                else if (value.type === \"Template\") {\r\n                    yield Promise.all([\r\n                        (value.refs ? this.parseAsyncRefs(value.refs) : Promise.resolve(undefined)),\r\n                        (value.settings ? this.parseAsyncObject(value.settings) : Promise.resolve(undefined)),\r\n                    ]);\r\n                }\r\n                else if (value.__parse === true) {\r\n                    yield this.parseAsyncObject(value);\r\n                }\r\n                else if (value.__parse !== false) {\r\n                    yield Promise.all([\r\n                        (value.type ? this.cacheClass(value.type) : Promise.resolve(undefined)),\r\n                        (value.refs ? this.parseAsyncRefs(value.refs) : Promise.resolve(undefined)),\r\n                        (value.settings ? this.parseAsyncObject(value.settings) : Promise.resolve(undefined)),\r\n                        (value.properties ? this.parseAsyncObject(value.properties) : Promise.resolve(undefined)),\r\n                        (value.children ? this.parseAsyncArray(value.children) : Promise.resolve(undefined)),\r\n                    ]);\r\n                }\r\n            }\r\n        });\r\n    }\r\n    parseArray(root, value, refs) {\r\n        return $array.map(value, (value) => this.parse(root, value, refs));\r\n    }\r\n    parseChildren(root, value, refs) {\r\n        return $array.map(value, (value) => this.parseChild(root, value, refs));\r\n    }\r\n    parseSetting(root, key, value, refs) {\r\n        if (key === \"layout\") {\r\n            switch (value) {\r\n                case \"horizontal\":\r\n                    return root.horizontalLayout;\r\n                case \"vertical\":\r\n                    return root.verticalLayout;\r\n                case \"grid\":\r\n                    return root.gridLayout;\r\n            }\r\n        }\r\n        return this.parse(root, value, refs);\r\n    }\r\n    parseSettings(root, object, refs) {\r\n        const settings = {};\r\n        $array.each($object.keys(object), (key) => {\r\n            settings[key] = this.parseSetting(root, key, object[key], refs);\r\n        });\r\n        return settings;\r\n    }\r\n    parseProperties(root, object, refs) {\r\n        return $array.map($object.keys(object), (key) => {\r\n            const parsed = this.parseValue(root, object[key], refs);\r\n            return (entity) => {\r\n                const run = () => {\r\n                    const old = entity[key];\r\n                    if (old && old instanceof Entity) {\r\n                        // TODO merge it if the value is an Entity\r\n                        if (parsed.isValue) {\r\n                            throw new Error(\"Cannot merge value into Entity\");\r\n                        }\r\n                        if (parsed.settings) {\r\n                            old.setAll(parsed.settings);\r\n                        }\r\n                        mergeEntity(old, parsed);\r\n                    }\r\n                    else if (parsed.isValue) {\r\n                        // Merge Array into List\r\n                        if (old && $type.isArray(parsed.value)) {\r\n                            $array.each(parsed.value, (value) => {\r\n                                old.push(value);\r\n                            });\r\n                        }\r\n                        else {\r\n                            // TODO merge it if the value is an Entity\r\n                            entity[key] = parsed.value;\r\n                        }\r\n                    }\r\n                    else {\r\n                        entity[key] = constructEntity(root, parsed);\r\n                    }\r\n                };\r\n                if (key === \"data\") {\r\n                    this._delayed.push(run);\r\n                }\r\n                else if (key === \"bullets\") {\r\n                    const old = entity[key];\r\n                    $type.assert(old != null);\r\n                    $type.assert(parsed.isValue);\r\n                    $type.assert($type.isArray(parsed.value));\r\n                    $array.each(parsed.value, (value) => {\r\n                        old.push(() => value);\r\n                    });\r\n                }\r\n                else {\r\n                    run();\r\n                }\r\n            };\r\n        });\r\n    }\r\n    parseRefsObject(root, object, refs) {\r\n        const newRefs = {};\r\n        $array.each($object.keys(object), (key) => {\r\n            newRefs[key] = this.parse(root, object[key], refs);\r\n        });\r\n        return newRefs;\r\n    }\r\n    parseRefs(root, object, refs) {\r\n        if ($type.isArray(object)) {\r\n            const length = object.length;\r\n            for (let i = 0; i < length; ++i) {\r\n                refs = refs.concat([this.parseRefsObject(root, object[i], refs)]);\r\n            }\r\n        }\r\n        else {\r\n            refs = refs.concat([this.parseRefsObject(root, object, refs)]);\r\n        }\r\n        return refs;\r\n    }\r\n    parseChild(root, value, refs) {\r\n        if ($type.isString(value)) {\r\n            return {\r\n                index: undefined,\r\n                value: parseRef(value, refs).value,\r\n            };\r\n        }\r\n        else if (value.ref != null) {\r\n            const index = (value.index == null ? undefined : value.index);\r\n            return {\r\n                index,\r\n                value: parseRef(value.ref, refs).value,\r\n            };\r\n        }\r\n        else {\r\n            const parsed = this.parseEntity(root, value, refs);\r\n            return {\r\n                index: parsed.index,\r\n                value: constructEntity(root, parsed),\r\n            };\r\n        }\r\n    }\r\n    parseEntity(root, value, refs) {\r\n        if (value.refs) {\r\n            refs = this.parseRefs(root, value.refs, refs);\r\n        }\r\n        const construct = (value.type ? this.getClass(value.type) : undefined);\r\n        const settings = (value.settings ? this.parseSettings(root, value.settings, refs) : undefined);\r\n        const properties = (value.properties ? this.parseProperties(root, value.properties, refs) : undefined);\r\n        const children = (value.children ? this.parseChildren(root, value.children, refs) : undefined);\r\n        const index = (value.index == null ? undefined : value.index);\r\n        return {\r\n            isValue: false,\r\n            type: value.type,\r\n            construct,\r\n            settings,\r\n            adapters: value.adapters,\r\n            children,\r\n            properties,\r\n            index,\r\n            value,\r\n        };\r\n    }\r\n    parseValue(root, value, refs) {\r\n        if (value instanceof Entity) {\r\n            return { isValue: true, value: value };\r\n        }\r\n        else if ($type.isArray(value)) {\r\n            return {\r\n                isValue: true,\r\n                value: this.parseArray(root, value, refs),\r\n            };\r\n        }\r\n        else if (isObject(value)) {\r\n            if (value.type === \"Color\") {\r\n                return {\r\n                    isValue: true,\r\n                    value: Color.fromAny(value.value),\r\n                };\r\n            }\r\n            else if (value.type === \"Percent\") {\r\n                return {\r\n                    isValue: true,\r\n                    value: new Percent(value.value),\r\n                };\r\n            }\r\n            else if (value.type === \"Template\") {\r\n                if (value.refs) {\r\n                    refs = this.parseRefs(root, value.refs, refs);\r\n                }\r\n                const settings = (value.settings ? this.parseSettings(root, value.settings, refs) : {});\r\n                return {\r\n                    isValue: true,\r\n                    value: Template.new(settings),\r\n                };\r\n            }\r\n            else if (value.__parse === true) {\r\n                return {\r\n                    isValue: true,\r\n                    value: this.parseSettings(root, value, refs),\r\n                };\r\n            }\r\n            else if (value.__parse === false) {\r\n                return {\r\n                    isValue: true,\r\n                    value,\r\n                };\r\n            }\r\n            else {\r\n                return this.parseEntity(root, value, refs);\r\n            }\r\n        }\r\n        else if ($type.isString(value)) {\r\n            return parseRef(value, refs);\r\n        }\r\n        else {\r\n            return {\r\n                isValue: true,\r\n                value,\r\n            };\r\n        }\r\n    }\r\n    parse(root, value, refs) {\r\n        const parsed = this.parseValue(root, value, refs);\r\n        if (parsed.isValue) {\r\n            return parsed.value;\r\n        }\r\n        else {\r\n            return constructEntity(root, parsed);\r\n        }\r\n    }\r\n}\r\n/**\r\n * A parser for JSON based chart configs.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/serializing/} for more info\r\n * @since 5.3.0\r\n */\r\nexport class JsonParser {\r\n    /**\r\n     * IMPORTANT! Do not instantiate this class via `new Class()` syntax.\r\n     *\r\n     * Use static method `Class.new()` instead.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/getting-started/#New_element_syntax} for more info\r\n     * @ignore\r\n     */\r\n    constructor(root, isReal) {\r\n        Object.defineProperty(this, \"_root\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        if (!isReal) {\r\n            throw new Error(\"You cannot use `new Class()`, instead use `Class.new()`\");\r\n        }\r\n        this._root = root;\r\n    }\r\n    /**\r\n     * Use this method to create an instance of this class.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/getting-started/#New_element_syntax} for more info\r\n     * @param   root      Root element\r\n     * @return            Instantiated object\r\n     */\r\n    static new(root) {\r\n        return (new this(root, true));\r\n    }\r\n    /**\r\n     * Parses and creates chart objects from simple objects.\r\n     *\r\n     * @param   object  Serialized data\r\n     * @return          A promise of a target object\r\n     */\r\n    parse(object, settings = {}) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const state = new ParserState();\r\n            yield state.parseAsync(object);\r\n            const output = state.parse(this._root, object, []);\r\n            if (settings.parent) {\r\n                if (output instanceof Sprite) {\r\n                    settings.parent.children.push(output);\r\n                }\r\n                else {\r\n                    throw new Error(\"When using the parent setting, the entity must be a Sprite\");\r\n                }\r\n            }\r\n            state.afterParse();\r\n            return output;\r\n        });\r\n    }\r\n    /**\r\n     * Parses and creates chart objects from JSON string.\r\n     *\r\n     * @param   string  JSON string\r\n     * @return          A promise of a target object\r\n     */\r\n    parseString(string, settings = {}) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            return yield this.parse(JSON.parse(string), settings);\r\n        });\r\n    }\r\n}\r\n","import { Theme } from \"../core/Theme\";\r\n/**\r\n * @ignore\r\n */\r\nexport class AnimatedTheme extends Theme {\r\n    setupDefaultRules() {\r\n        super.setupDefaultRules();\r\n        this.rule(\"Component\").setAll({\r\n            interpolationDuration: 600\r\n        });\r\n        this.rule(\"Hierarchy\").set(\"animationDuration\", 600);\r\n        this.rule(\"Scrollbar\").set(\"animationDuration\", 600);\r\n        this.rule(\"Tooltip\").set(\"animationDuration\", 300);\r\n        this.rule(\"MapChart\").set(\"animationDuration\", 1000);\r\n        this.rule(\"MapChart\").set(\"wheelDuration\", 300);\r\n        this.rule(\"Entity\").setAll({\r\n            stateAnimationDuration: 600\r\n        });\r\n        this.rule(\"Sprite\").states.create(\"default\", { stateAnimationDuration: 600 });\r\n        this.rule(\"Tooltip\", [\"axis\"]).setAll({\r\n            animationDuration: 200\r\n        });\r\n        this.rule(\"WordCloud\").set(\"animationDuration\", 500);\r\n    }\r\n}\r\n","import { Color } from \"../core/util/Color\";\r\nimport { Theme } from \"../core/Theme\";\r\n/**\r\n * @ignore\r\n */\r\nexport class DarkTheme extends Theme {\r\n    setupDefaultRules() {\r\n        super.setupDefaultRules();\r\n        this.rule(\"InterfaceColors\").setAll({\r\n            stroke: Color.fromHex(0x000000),\r\n            fill: Color.fromHex(0x2b2b2b),\r\n            primaryButton: Color.lighten(Color.fromHex(0x6794dc), -0.2),\r\n            primaryButtonHover: Color.lighten(Color.fromHex(0x6771dc), -0.2),\r\n            primaryButtonDown: Color.lighten(Color.fromHex(0x68dc75), -0.2),\r\n            primaryButtonActive: Color.lighten(Color.fromHex(0x68dc76), -0.2),\r\n            primaryButtonText: Color.fromHex(0xffffff),\r\n            primaryButtonStroke: Color.lighten(Color.fromHex(0x6794dc), -0.2),\r\n            secondaryButton: Color.fromHex(0x3b3b3b),\r\n            secondaryButtonHover: Color.lighten(Color.fromHex(0x3b3b3b), 0.1),\r\n            secondaryButtonDown: Color.lighten(Color.fromHex(0x3b3b3b), 0.15),\r\n            secondaryButtonActive: Color.lighten(Color.fromHex(0x3b3b3b), 0.2),\r\n            secondaryButtonText: Color.fromHex(0xbbbbbb),\r\n            secondaryButtonStroke: Color.lighten(Color.fromHex(0x3b3b3b), -0.2),\r\n            grid: Color.fromHex(0xbbbbbb),\r\n            background: Color.fromHex(0x000000),\r\n            alternativeBackground: Color.fromHex(0xffffff),\r\n            text: Color.fromHex(0xffffff),\r\n            alternativeText: Color.fromHex(0x000000),\r\n            disabled: Color.fromHex(0xadadad),\r\n            positive: Color.fromHex(0x50b300),\r\n            negative: Color.fromHex(0xb30000)\r\n        });\r\n    }\r\n}\r\n","import { Theme } from \"../core/Theme\";\r\nimport { p100, p50 } from \"../core/util/Percent\";\r\nimport { Color } from \"../core/util/Color\";\r\nimport { GridLayout } from \"../core/render/GridLayout\";\r\nimport * as $ease from \"../core/util/Ease\";\r\n/**\r\n * @ignore\r\n */\r\nexport function setColor(rule, key, ic, name) {\r\n    // TODO this shouldn't use get, figure out a better way\r\n    rule.set(key, ic.get(name));\r\n    ic.on(name, (value) => {\r\n        rule.set(key, value);\r\n    });\r\n}\r\n/**\r\n * @ignore\r\n */\r\nexport class DefaultTheme extends Theme {\r\n    setupDefaultRules() {\r\n        super.setupDefaultRules();\r\n        const language = this._root.language;\r\n        const ic = this._root.interfaceColors;\r\n        const horizontalLayout = this._root.horizontalLayout;\r\n        const verticalLayout = this._root.verticalLayout;\r\n        const r = this.rule.bind(this);\r\n        /**\r\n         * ========================================================================\r\n         * core\r\n         * ========================================================================\r\n         */\r\n        r(\"InterfaceColors\").setAll({\r\n            stroke: Color.fromHex(0xe5e5e5),\r\n            fill: Color.fromHex(0xf3f3f3),\r\n            primaryButton: Color.fromHex(0x6794dc),\r\n            primaryButtonHover: Color.fromHex(0x6771dc),\r\n            primaryButtonDown: Color.fromHex(0x68dc76),\r\n            primaryButtonActive: Color.fromHex(0x68dc76),\r\n            primaryButtonText: Color.fromHex(0xffffff),\r\n            primaryButtonStroke: Color.fromHex(0xffffff),\r\n            secondaryButton: Color.fromHex(0xd9d9d9),\r\n            secondaryButtonHover: Color.fromHex(0xa3a3a3),\r\n            secondaryButtonDown: Color.fromHex(0x8d8d8d),\r\n            secondaryButtonActive: Color.fromHex(0xe6e6e6),\r\n            secondaryButtonText: Color.fromHex(0x000000),\r\n            secondaryButtonStroke: Color.fromHex(0xffffff),\r\n            grid: Color.fromHex(0x000000),\r\n            background: Color.fromHex(0xffffff),\r\n            alternativeBackground: Color.fromHex(0x000000),\r\n            text: Color.fromHex(0x000000),\r\n            alternativeText: Color.fromHex(0xffffff),\r\n            disabled: Color.fromHex(0xadadad),\r\n            positive: Color.fromHex(0x50b300),\r\n            negative: Color.fromHex(0xb30000)\r\n        });\r\n        {\r\n            const rule = r(\"ColorSet\");\r\n            rule.setAll({\r\n                passOptions: {\r\n                    hue: 0.05,\r\n                    saturation: 0,\r\n                    lightness: 0\r\n                },\r\n                colors: [\r\n                    Color.fromHex(0x67b7dc)\r\n                ],\r\n                step: 1,\r\n                //baseColor: Color.fromRGB(103, 183, 220),\r\n                //count: 20,\r\n                reuse: false,\r\n                startIndex: 0\r\n            });\r\n            rule.setPrivate(\"currentStep\", 0);\r\n            rule.setPrivate(\"currentPass\", 0);\r\n        }\r\n        r(\"Entity\").setAll({\r\n            stateAnimationDuration: 0,\r\n            stateAnimationEasing: $ease.out($ease.cubic)\r\n        });\r\n        r(\"Component\").setAll({\r\n            interpolationDuration: 0,\r\n            interpolationEasing: $ease.out($ease.cubic)\r\n        });\r\n        r(\"Sprite\").setAll({\r\n            visible: true,\r\n            scale: 1,\r\n            opacity: 1,\r\n            rotation: 0,\r\n            position: \"relative\",\r\n            tooltipX: p50,\r\n            tooltipY: p50,\r\n            tooltipPosition: \"fixed\",\r\n            isMeasured: true\r\n        });\r\n        r(\"Sprite\").states.create(\"default\", { \"visible\": true, opacity: 1 });\r\n        r(\"Container\").setAll({\r\n            interactiveChildren: true,\r\n            setStateOnChildren: false\r\n        });\r\n        r(\"Graphics\").setAll({\r\n            strokeWidth: 1\r\n        });\r\n        r(\"Chart\").setAll({\r\n            width: p100,\r\n            height: p100,\r\n            interactiveChildren: false\r\n        });\r\n        /**\r\n         * ------------------------------------------------------------------------\r\n         * core: alignment\r\n         * ------------------------------------------------------------------------\r\n         */\r\n        r(\"Sprite\", [\"horizontal\", \"center\"]).setAll({\r\n            centerX: p50,\r\n            x: p50\r\n        });\r\n        r(\"Sprite\", [\"vertical\", \"center\"]).setAll({\r\n            centerY: p50,\r\n            y: p50\r\n        });\r\n        r(\"Container\", [\"horizontal\", \"layout\"]).setAll({\r\n            layout: horizontalLayout\r\n        });\r\n        r(\"Container\", [\"vertical\", \"layout\"]).setAll({\r\n            layout: verticalLayout\r\n        });\r\n        /**\r\n         * ------------------------------------------------------------------------\r\n         * core: patterns\r\n         * ------------------------------------------------------------------------\r\n         */\r\n        r(\"Pattern\").setAll({\r\n            repetition: \"repeat\",\r\n            width: 50,\r\n            height: 50,\r\n            rotation: 0,\r\n            fillOpacity: 1\r\n        });\r\n        r(\"LinePattern\").setAll({\r\n            gap: 6,\r\n            colorOpacity: 1,\r\n            width: 49,\r\n            height: 49\r\n        });\r\n        r(\"RectanglePattern\").setAll({\r\n            gap: 6,\r\n            checkered: false,\r\n            centered: true,\r\n            maxWidth: 5,\r\n            maxHeight: 5,\r\n            width: 48,\r\n            height: 48,\r\n            strokeWidth: 0\r\n        });\r\n        r(\"CirclePattern\").setAll({\r\n            gap: 5,\r\n            checkered: false,\r\n            centered: false,\r\n            radius: 3,\r\n            strokeWidth: 0,\r\n            width: 45,\r\n            height: 45\r\n        });\r\n        /**\r\n         * ------------------------------------------------------------------------\r\n         * core: gradients\r\n         * ------------------------------------------------------------------------\r\n         */\r\n        r(\"LinearGradient\").setAll({\r\n            rotation: 90\r\n        });\r\n        /**\r\n         * ------------------------------------------------------------------------\r\n         * core: Legend\r\n         * ------------------------------------------------------------------------\r\n         */\r\n        r(\"Legend\").setAll({\r\n            fillField: \"fill\",\r\n            strokeField: \"stroke\",\r\n            nameField: \"name\",\r\n            layout: GridLayout.new(this._root, {}),\r\n            layer: 30,\r\n            clickTarget: \"itemContainer\"\r\n        });\r\n        // Class: Container\r\n        r(\"Container\", [\"legend\", \"item\", \"itemcontainer\"]).setAll({\r\n            paddingLeft: 5,\r\n            paddingRight: 5,\r\n            paddingBottom: 5,\r\n            paddingTop: 5,\r\n            layout: horizontalLayout,\r\n            setStateOnChildren: true,\r\n            interactiveChildren: false,\r\n            ariaChecked: true,\r\n            focusable: true,\r\n            ariaLabel: language.translate(\"Press ENTER to toggle\"),\r\n            role: \"checkbox\"\r\n        });\r\n        {\r\n            const rule = r(\"Rectangle\", [\"legend\", \"item\", \"background\"]);\r\n            rule.setAll({\r\n                fillOpacity: 0,\r\n            });\r\n            setColor(rule, \"fill\", ic, \"background\");\r\n        }\r\n        r(\"Container\", [\"legend\", \"marker\"]).setAll({\r\n            setStateOnChildren: true,\r\n            centerY: p50,\r\n            paddingLeft: 0,\r\n            paddingRight: 0,\r\n            paddingBottom: 0,\r\n            paddingTop: 0,\r\n            width: 18,\r\n            height: 18\r\n        });\r\n        r(\"RoundedRectangle\", [\"legend\", \"marker\", \"rectangle\"]).setAll({\r\n            width: p100,\r\n            height: p100,\r\n            cornerRadiusBL: 3,\r\n            cornerRadiusTL: 3,\r\n            cornerRadiusBR: 3,\r\n            cornerRadiusTR: 3\r\n        });\r\n        {\r\n            const rule = r(\"RoundedRectangle\", [\"legend\", \"marker\", \"rectangle\"]).states.create(\"disabled\", {});\r\n            setColor(rule, \"fill\", ic, \"disabled\");\r\n            setColor(rule, \"stroke\", ic, \"disabled\");\r\n        }\r\n        r(\"Label\", [\"legend\", \"label\"]).setAll({\r\n            centerY: p50,\r\n            marginLeft: 5,\r\n            paddingRight: 0,\r\n            paddingLeft: 0,\r\n            paddingTop: 0,\r\n            paddingBottom: 0,\r\n            populateText: true\r\n        });\r\n        {\r\n            const rule = r(\"Label\", [\"legend\", \"label\"]).states.create(\"disabled\", {});\r\n            setColor(rule, \"fill\", ic, \"disabled\");\r\n        }\r\n        r(\"Label\", [\"legend\", \"value\", \"label\"]).setAll({\r\n            centerY: p50,\r\n            marginLeft: 5,\r\n            paddingRight: 0,\r\n            paddingLeft: 0,\r\n            paddingTop: 0,\r\n            paddingBottom: 0,\r\n            width: 50,\r\n            centerX: p100,\r\n            populateText: true\r\n        });\r\n        {\r\n            const rule = r(\"Label\", [\"legend\", \"value\", \"label\"]).states.create(\"disabled\", {});\r\n            setColor(rule, \"fill\", ic, \"disabled\");\r\n        }\r\n        /**\r\n         * ------------------------------------------------------------------------\r\n         * core: HeatLegend\r\n         * ------------------------------------------------------------------------\r\n         */\r\n        r(\"HeatLegend\").setAll({\r\n            stepCount: 1\r\n        });\r\n        r(\"RoundedRectangle\", [\"heatlegend\", \"marker\"]).setAll({\r\n            cornerRadiusTR: 0,\r\n            cornerRadiusBR: 0,\r\n            cornerRadiusTL: 0,\r\n            cornerRadiusBL: 0\r\n        });\r\n        r(\"RoundedRectangle\", [\"vertical\", \"heatlegend\", \"marker\"]).setAll({\r\n            height: p100,\r\n            width: 15\r\n        });\r\n        r(\"RoundedRectangle\", [\"horizontal\", \"heatlegend\", \"marker\"]).setAll({\r\n            width: p100,\r\n            height: 15\r\n        });\r\n        r(\"HeatLegend\", [\"vertical\"]).setAll({\r\n            height: p100\r\n        });\r\n        r(\"HeatLegend\", [\"horizontal\"]).setAll({\r\n            width: p100\r\n        });\r\n        r(\"Label\", [\"heatlegend\", \"start\"]).setAll({\r\n            paddingLeft: 5,\r\n            paddingRight: 5,\r\n            paddingTop: 5,\r\n            paddingBottom: 5\r\n        });\r\n        r(\"Label\", [\"heatlegend\", \"end\"]).setAll({\r\n            paddingLeft: 5,\r\n            paddingRight: 5,\r\n            paddingTop: 5,\r\n            paddingBottom: 5\r\n        });\r\n        /**\r\n         * ------------------------------------------------------------------------\r\n         * core: Labels\r\n         * ------------------------------------------------------------------------\r\n         */\r\n        {\r\n            const rule = r(\"Label\");\r\n            rule.setAll({\r\n                paddingTop: 8,\r\n                paddingBottom: 8,\r\n                paddingLeft: 10,\r\n                paddingRight: 10,\r\n                fontFamily: \"-apple-system, BlinkMacSystemFont, \\\"Segoe UI\\\", Roboto, Helvetica, Arial, sans-serif, \\\"Apple Color Emoji\\\", \\\"Segoe UI Emoji\\\", \\\"Segoe UI Symbol\\\"\",\r\n                fontSize: \"1em\",\r\n                populateText: false\r\n            });\r\n            setColor(rule, \"fill\", ic, \"text\");\r\n        }\r\n        r(\"RadialLabel\").setAll({\r\n            textType: \"regular\",\r\n            centerY: p50,\r\n            centerX: p50,\r\n            inside: false,\r\n            radius: 0,\r\n            baseRadius: p100,\r\n            orientation: \"auto\",\r\n            textAlign: \"center\"\r\n        });\r\n        /**\r\n         * ------------------------------------------------------------------------\r\n         * core: Elements and shapes\r\n         * ------------------------------------------------------------------------\r\n         */\r\n        r(\"RoundedRectangle\").setAll({\r\n            cornerRadiusTL: 8,\r\n            cornerRadiusBL: 8,\r\n            cornerRadiusTR: 8,\r\n            cornerRadiusBR: 8\r\n        });\r\n        r(\"PointedRectangle\").setAll({\r\n            pointerBaseWidth: 15,\r\n            pointerLength: 10,\r\n            cornerRadius: 8\r\n        });\r\n        r(\"Slice\").setAll({\r\n            shiftRadius: 0,\r\n            dRadius: 0,\r\n            dInnerRadius: 0\r\n        });\r\n        {\r\n            const rule = r(\"Tick\");\r\n            rule.setAll({\r\n                strokeOpacity: .15,\r\n                isMeasured: false,\r\n                length: 4.5,\r\n                position: \"absolute\",\r\n                crisp: true\r\n            });\r\n            setColor(rule, \"stroke\", ic, \"grid\");\r\n        }\r\n        r(\"Bullet\").setAll({\r\n            locationX: 0.5,\r\n            locationY: 0.5\r\n        });\r\n        /**\r\n         * ------------------------------------------------------------------------\r\n         * core: Tooltip\r\n         * ------------------------------------------------------------------------\r\n         */\r\n        r(\"Tooltip\").setAll({\r\n            position: \"absolute\",\r\n            getFillFromSprite: true,\r\n            getStrokeFromSprite: false,\r\n            autoTextColor: true,\r\n            paddingTop: 9,\r\n            paddingBottom: 8,\r\n            paddingLeft: 10,\r\n            paddingRight: 10,\r\n            marginBottom: 5,\r\n            pointerOrientation: \"vertical\",\r\n            centerX: p50,\r\n            centerY: p50,\r\n            animationEasing: $ease.out($ease.cubic),\r\n            exportable: false\r\n            //layer: 100\r\n        });\r\n        {\r\n            const rule = r(\"PointedRectangle\", [\"tooltip\", \"background\"]);\r\n            rule.setAll({\r\n                strokeOpacity: 0.9,\r\n                cornerRadius: 4,\r\n                pointerLength: 4,\r\n                pointerBaseWidth: 8,\r\n                fillOpacity: 0.9,\r\n                stroke: Color.fromHex(0xffffff)\r\n            });\r\n        }\r\n        {\r\n            const rule = r(\"Label\", [\"tooltip\"]);\r\n            rule.setAll({\r\n                role: \"tooltip\",\r\n                populateText: true,\r\n                paddingRight: 0,\r\n                paddingTop: 0,\r\n                paddingLeft: 0,\r\n                paddingBottom: 0\r\n            });\r\n            setColor(rule, \"fill\", ic, \"alternativeText\");\r\n        }\r\n        /**\r\n         * ------------------------------------------------------------------------\r\n         * core: Button\r\n         * ------------------------------------------------------------------------\r\n         */\r\n        r(\"Button\").setAll({\r\n            paddingTop: 8,\r\n            paddingBottom: 8,\r\n            paddingLeft: 10,\r\n            paddingRight: 10,\r\n            interactive: true,\r\n            layout: horizontalLayout,\r\n            interactiveChildren: false,\r\n            setStateOnChildren: true,\r\n            focusable: true\r\n        });\r\n        r(\"Button\").states.create(\"hover\", {});\r\n        r(\"Button\").states.create(\"down\", { stateAnimationDuration: 0 });\r\n        r(\"Button\").states.create(\"active\", {});\r\n        {\r\n            const rule = r(\"RoundedRectangle\", [\"button\", \"background\"]);\r\n            setColor(rule, \"fill\", ic, \"primaryButton\");\r\n            setColor(rule, \"stroke\", ic, \"primaryButtonStroke\");\r\n        }\r\n        {\r\n            const rule = r(\"RoundedRectangle\", [\"button\", \"background\"]).states.create(\"hover\", {});\r\n            setColor(rule, \"fill\", ic, \"primaryButtonHover\");\r\n        }\r\n        {\r\n            const rule = r(\"RoundedRectangle\", [\"button\", \"background\"]).states.create(\"down\", { stateAnimationDuration: 0 });\r\n            setColor(rule, \"fill\", ic, \"primaryButtonDown\");\r\n        }\r\n        {\r\n            const rule = r(\"RoundedRectangle\", [\"button\", \"background\"]).states.create(\"active\", {});\r\n            setColor(rule, \"fill\", ic, \"primaryButtonActive\");\r\n        }\r\n        {\r\n            const rule = r(\"Graphics\", [\"button\", \"icon\"]);\r\n            setColor(rule, \"stroke\", ic, \"primaryButtonText\");\r\n        }\r\n        {\r\n            const rule = r(\"Label\", [\"button\"]);\r\n            setColor(rule, \"fill\", ic, \"primaryButtonText\");\r\n        }\r\n        /**\r\n         * ------------------------------------------------------------------------\r\n         * charts/xy: ZoomOutButton\r\n         * ------------------------------------------------------------------------\r\n         */\r\n        r(\"Button\", [\"zoom\"]).setAll({\r\n            paddingTop: 18,\r\n            paddingBottom: 18,\r\n            paddingLeft: 12,\r\n            paddingRight: 12,\r\n            centerX: 46,\r\n            centerY: -10,\r\n            y: 0,\r\n            x: p100,\r\n            role: \"button\",\r\n            ariaLabel: language.translate(\"Zoom Out\"),\r\n            layer: 30\r\n        });\r\n        {\r\n            const rule = r(\"RoundedRectangle\", [\"background\", \"button\", \"zoom\"]);\r\n            rule.setAll({\r\n                cornerRadiusBL: 40,\r\n                cornerRadiusBR: 40,\r\n                cornerRadiusTL: 40,\r\n                cornerRadiusTR: 40\r\n            });\r\n            setColor(rule, \"fill\", ic, \"primaryButton\");\r\n        }\r\n        {\r\n            const rule = r(\"RoundedRectangle\", [\"background\", \"button\", \"zoom\"]).states.create(\"hover\", {});\r\n            setColor(rule, \"fill\", ic, \"primaryButtonHover\");\r\n        }\r\n        {\r\n            const rule = r(\"RoundedRectangle\", [\"background\", \"button\", \"zoom\"]).states.create(\"down\", { stateAnimationDuration: 0 });\r\n            setColor(rule, \"fill\", ic, \"primaryButtonDown\");\r\n        }\r\n        {\r\n            const rule = r(\"Graphics\", [\"icon\", \"button\", \"zoom\"]);\r\n            rule.setAll({\r\n                crisp: true,\r\n                strokeOpacity: 0.7,\r\n                draw: (display) => {\r\n                    display.moveTo(0, 0);\r\n                    display.lineTo(12, 0);\r\n                }\r\n            });\r\n            setColor(rule, \"stroke\", ic, \"primaryButtonText\");\r\n        }\r\n        /**\r\n         * ------------------------------------------------------------------------\r\n         * core: ResizeButton\r\n         * ------------------------------------------------------------------------\r\n         */\r\n        r(\"Button\", [\"resize\"]).setAll({\r\n            paddingTop: 9,\r\n            paddingBottom: 9,\r\n            paddingLeft: 13,\r\n            paddingRight: 13,\r\n            draggable: true,\r\n            centerX: p50,\r\n            centerY: p50,\r\n            position: \"absolute\",\r\n            role: \"slider\",\r\n            ariaValueMin: \"0\",\r\n            ariaValueMax: \"100\",\r\n            ariaLabel: language.translate(\"Use up and down arrows to move selection\")\r\n        });\r\n        {\r\n            const rule = r(\"RoundedRectangle\", [\"background\", \"resize\", \"button\"]);\r\n            rule.setAll({\r\n                cornerRadiusBL: 40,\r\n                cornerRadiusBR: 40,\r\n                cornerRadiusTL: 40,\r\n                cornerRadiusTR: 40\r\n            });\r\n            setColor(rule, \"fill\", ic, \"secondaryButton\");\r\n            setColor(rule, \"stroke\", ic, \"secondaryButtonStroke\");\r\n        }\r\n        {\r\n            const rule = r(\"RoundedRectangle\", [\"background\", \"resize\", \"button\"]).states.create(\"hover\", {});\r\n            setColor(rule, \"fill\", ic, \"secondaryButtonHover\");\r\n        }\r\n        {\r\n            const rule = r(\"RoundedRectangle\", [\"background\", \"resize\", \"button\"]).states.create(\"down\", { stateAnimationDuration: 0 });\r\n            setColor(rule, \"fill\", ic, \"secondaryButtonDown\");\r\n        }\r\n        {\r\n            const rule = r(\"Graphics\", [\"resize\", \"button\", \"icon\"]);\r\n            rule.setAll({\r\n                interactive: false,\r\n                crisp: true,\r\n                strokeOpacity: 0.5,\r\n                draw: (display) => {\r\n                    display.moveTo(0, 0.5);\r\n                    display.lineTo(0, 12.5);\r\n                    display.moveTo(4, 0.5);\r\n                    display.lineTo(4, 12.5);\r\n                }\r\n            });\r\n            setColor(rule, \"stroke\", ic, \"secondaryButtonText\");\r\n        }\r\n        r(\"Button\", [\"resize\", \"vertical\"]).setAll({\r\n            rotation: 90,\r\n            cursorOverStyle: \"ns-resize\"\r\n        });\r\n        r(\"Button\", [\"resize\", \"horizontal\"]).setAll({\r\n            cursorOverStyle: \"ew-resize\"\r\n        });\r\n        /**\r\n         * ------------------------------------------------------------------------\r\n         * core: PlayButton\r\n         * ------------------------------------------------------------------------\r\n         */\r\n        r(\"Button\", [\"play\"]).setAll({\r\n            paddingTop: 13,\r\n            paddingBottom: 13,\r\n            paddingLeft: 14,\r\n            paddingRight: 14,\r\n            ariaLabel: language.translate(\"Play\"),\r\n            toggleKey: \"active\"\r\n        });\r\n        {\r\n            const rule = r(\"RoundedRectangle\", [\"play\", \"background\"]);\r\n            rule.setAll({\r\n                strokeOpacity: 0.5,\r\n                cornerRadiusBL: 100,\r\n                cornerRadiusBR: 100,\r\n                cornerRadiusTL: 100,\r\n                cornerRadiusTR: 100\r\n            });\r\n            setColor(rule, \"fill\", ic, \"primaryButton\");\r\n        }\r\n        {\r\n            const rule = r(\"Graphics\", [\"play\", \"icon\"]);\r\n            rule.setAll({\r\n                stateAnimationDuration: 0,\r\n                dx: 1,\r\n                draw: (display) => {\r\n                    display.moveTo(0, -5);\r\n                    display.lineTo(8, 0);\r\n                    display.lineTo(0, 5);\r\n                    display.lineTo(0, -5);\r\n                }\r\n            });\r\n            setColor(rule, \"fill\", ic, \"primaryButtonText\");\r\n        }\r\n        r(\"Graphics\", [\"play\", \"icon\"]).states.create(\"default\", {\r\n            stateAnimationDuration: 0\r\n        });\r\n        r(\"Graphics\", [\"play\", \"icon\"]).states.create(\"active\", {\r\n            stateAnimationDuration: 0,\r\n            draw: (display) => {\r\n                display.moveTo(-4, -5);\r\n                display.lineTo(-1, -5);\r\n                display.lineTo(-1, 5);\r\n                display.lineTo(-4, 5);\r\n                display.lineTo(-4, -5);\r\n                display.moveTo(4, -5);\r\n                display.lineTo(1, -5);\r\n                display.lineTo(1, 5);\r\n                display.lineTo(4, 5);\r\n                display.lineTo(4, -5);\r\n            }\r\n        });\r\n        /**\r\n         * ------------------------------------------------------------------------\r\n         * core: SwitchButton\r\n         * ------------------------------------------------------------------------\r\n         */\r\n        r(\"Button\", [\"switch\"]).setAll({\r\n            paddingTop: 4,\r\n            paddingBottom: 4,\r\n            paddingLeft: 4,\r\n            paddingRight: 4,\r\n            ariaLabel: language.translate(\"Press ENTER to toggle\"),\r\n            toggleKey: \"active\",\r\n            width: 40,\r\n            height: 24,\r\n            layout: null\r\n        });\r\n        {\r\n            const rule = r(\"RoundedRectangle\", [\"switch\", \"background\"]);\r\n            rule.setAll({\r\n                strokeOpacity: 0.5,\r\n                cornerRadiusBL: 100,\r\n                cornerRadiusBR: 100,\r\n                cornerRadiusTL: 100,\r\n                cornerRadiusTR: 100\r\n            });\r\n            setColor(rule, \"fill\", ic, \"primaryButton\");\r\n        }\r\n        {\r\n            const rule = r(\"Circle\", [\"switch\", \"icon\"]);\r\n            rule.setAll({\r\n                radius: 8,\r\n                centerY: 0,\r\n                centerX: 0,\r\n                dx: 0\r\n            });\r\n            setColor(rule, \"fill\", ic, \"primaryButtonText\");\r\n        }\r\n        r(\"Graphics\", [\"switch\", \"icon\"]).states.create(\"active\", {\r\n            dx: 16\r\n        });\r\n        /**\r\n         * ------------------------------------------------------------------------\r\n         * core: Scrollbar\r\n         * ------------------------------------------------------------------------\r\n         */\r\n        r(\"Scrollbar\").setAll({\r\n            start: 0,\r\n            end: 1,\r\n            layer: 30,\r\n            animationEasing: $ease.out($ease.cubic)\r\n        });\r\n        r(\"Scrollbar\", [\"vertical\"]).setAll({\r\n            marginRight: 13,\r\n            marginLeft: 13,\r\n            minWidth: 12,\r\n            height: p100\r\n        });\r\n        r(\"Scrollbar\", [\"horizontal\"]).setAll({\r\n            marginTop: 13,\r\n            marginBottom: 13,\r\n            minHeight: 12,\r\n            width: p100\r\n        });\r\n        this.rule(\"Button\", [\"scrollbar\"]).setAll({\r\n            exportable: false\r\n        });\r\n        {\r\n            const rule = r(\"RoundedRectangle\", [\"scrollbar\", \"main\", \"background\"]);\r\n            rule.setAll({\r\n                cornerRadiusTL: 8,\r\n                cornerRadiusBL: 8,\r\n                cornerRadiusTR: 8,\r\n                cornerRadiusBR: 8,\r\n                fillOpacity: 0.8,\r\n            });\r\n            setColor(rule, \"fill\", ic, \"fill\");\r\n        }\r\n        {\r\n            const rule = r(\"RoundedRectangle\", [\"scrollbar\", \"thumb\"]);\r\n            rule.setAll({\r\n                role: \"slider\",\r\n                ariaLive: \"polite\",\r\n                position: \"absolute\",\r\n                draggable: true\r\n            });\r\n            setColor(rule, \"fill\", ic, \"secondaryButton\");\r\n        }\r\n        {\r\n            const rule = r(\"RoundedRectangle\", [\"scrollbar\", \"thumb\"]).states.create(\"hover\", {});\r\n            setColor(rule, \"fill\", ic, \"secondaryButtonHover\");\r\n        }\r\n        {\r\n            const rule = r(\"RoundedRectangle\", [\"scrollbar\", \"thumb\"]).states.create(\"down\", { stateAnimationDuration: 0 });\r\n            setColor(rule, \"fill\", ic, \"secondaryButtonDown\");\r\n        }\r\n        r(\"RoundedRectangle\", [\"scrollbar\", \"thumb\", \"vertical\"]).setAll({\r\n            x: p50,\r\n            width: p100,\r\n            centerX: p50,\r\n            ariaLabel: language.translate(\"Use up and down arrows to move selection\")\r\n        });\r\n        r(\"RoundedRectangle\", [\"scrollbar\", \"thumb\", \"horizontal\"]).setAll({\r\n            y: p50,\r\n            centerY: p50,\r\n            height: p100,\r\n            ariaLabel: language.translate(\"Use left and right arrows to move selection\")\r\n        });\r\n        // @todo: is this needed? used to be \"ContentScrollbar\"\r\n        // r(\"Scrollbar\", [\"content?\"]).setAll({\r\n        // \tmarginRight: 0,\r\n        // \tmarginLeft: 5,\r\n        // \tlayer: 5\r\n        // });\r\n        /**\r\n         * ========================================================================\r\n         * charts/xy\r\n         * ========================================================================\r\n         *\r\n         * This needs to be in DefaultTheme because it's the only theme that is\r\n         * automatically applied to Root, and tooltips different ancestors\r\n         * than actual charts using them.\r\n         */\r\n        {\r\n            const rule = r(\"PointedRectangle\", [\"axis\", \"tooltip\", \"background\"]);\r\n            rule.setAll({\r\n                cornerRadius: 0\r\n            });\r\n            setColor(rule, \"fill\", ic, \"alternativeBackground\");\r\n        }\r\n        r(\"Label\", [\"axis\", \"tooltip\"]).setAll({\r\n            role: undefined\r\n        });\r\n        r(\"Label\", [\"axis\", \"tooltip\", \"y\"]).setAll({\r\n            textAlign: \"right\"\r\n        });\r\n        r(\"Label\", [\"axis\", \"tooltip\", \"y\", \"opposite\"]).setAll({\r\n            textAlign: \"left\"\r\n        });\r\n        r(\"Label\", [\"axis\", \"tooltip\", \"x\"]).setAll({\r\n            textAlign: \"center\"\r\n        });\r\n        r(\"Tooltip\", [\"categoryaxis\"]).setAll({\r\n            labelText: \"{category}\"\r\n        });\r\n        /**\r\n         * ------------------------------------------------------------------------\r\n         * Shapes\r\n         * ------------------------------------------------------------------------\r\n         */\r\n        // Class: Graphics\r\n        r(\"Star\").setAll({\r\n            spikes: 5,\r\n            innerRadius: 5,\r\n            radius: 10\r\n        });\r\n        // STOCK\r\n        r(\"Tooltip\", [\"stock\"]).setAll({\r\n            paddingTop: 6,\r\n            paddingBottom: 5,\r\n            paddingLeft: 7,\r\n            paddingRight: 7\r\n        });\r\n        r(\"PointedRectangle\", [\"tooltip\", \"stock\", \"axis\"]).setAll({\r\n            pointerLength: 0,\r\n            pointerBaseWidth: 0,\r\n            cornerRadius: 3\r\n        });\r\n        r(\"Label\", [\"tooltip\", \"stock\"]).setAll({\r\n            fontSize: \"0.8em\"\r\n        });\r\n        // resizer\r\n        r(\"SpriteResizer\").setAll({\r\n            rotationStep: 10\r\n        });\r\n        {\r\n            const rule = r(\"Container\", [\"resizer\", \"grip\"]);\r\n            rule.states.create(\"hover\", {});\r\n        }\r\n        {\r\n            const rule = r(\"RoundedRectangle\", [\"resizer\", \"grip\"]);\r\n            rule.setAll({\r\n                strokeOpacity: 0.7,\r\n                strokeWidth: 1,\r\n                fillOpacity: 1,\r\n                width: 12,\r\n                height: 12\r\n            });\r\n            setColor(rule, \"fill\", ic, \"background\");\r\n            setColor(rule, \"stroke\", ic, \"alternativeBackground\");\r\n        }\r\n        {\r\n            const rule = r(\"RoundedRectangle\", [\"resizer\", \"grip\", \"outline\"]);\r\n            rule.setAll({\r\n                strokeOpacity: 0,\r\n                fillOpacity: 0,\r\n                width: 20,\r\n                height: 20\r\n            });\r\n            rule.states.create(\"hover\", {\r\n                fillOpacity: 0.3\r\n            });\r\n            setColor(rule, \"fill\", ic, \"alternativeBackground\");\r\n        }\r\n        r(\"RoundedRectangle\", [\"resizer\", \"grip\", \"left\"]).setAll({\r\n            cornerRadiusBL: 0,\r\n            cornerRadiusBR: 0,\r\n            cornerRadiusTL: 0,\r\n            cornerRadiusTR: 0\r\n        });\r\n        r(\"RoundedRectangle\", [\"resizer\", \"grip\", \"right\"]).setAll({\r\n            cornerRadiusBL: 0,\r\n            cornerRadiusBR: 0,\r\n            cornerRadiusTL: 0,\r\n            cornerRadiusTR: 0\r\n        });\r\n        {\r\n            const rule = r(\"Rectangle\", [\"resizer\", \"rectangle\"]);\r\n            rule.setAll({\r\n                strokeDasharray: [2, 2],\r\n                strokeOpacity: 0.5,\r\n                strokeWidth: 1\r\n            });\r\n            setColor(rule, \"stroke\", ic, \"alternativeBackground\");\r\n        }\r\n    }\r\n}\r\n","/**\r\n * amCharts 5 locale\r\n *\r\n * Locale: en\r\n * Language: International English\r\n * Author: Martynas Majeris\r\n *\r\n * Follow instructions in [on this page](https://www.amcharts.com/docs/v5/tutorials/creating-translations/) to make corrections or add new translations.\r\n *\r\n * ---\r\n * Edit but leave the header section above this line. You can remove any\r\n * subsequent comment sections.\r\n * ---\r\n *\r\n * Use this file as a template to create translations. Leave the key part in\r\n * English intact. Fill the value with a translation.\r\n *\r\n * Empty string means no translation, so default \"International English\"\r\n * will be used.\r\n *\r\n * If you need the translation to literally be an empty string, use `null`\r\n * instead.\r\n *\r\n * IMPORTANT:\r\n * When translating make good effort to keep the translation length\r\n * at least the same chartcount as the English, especially for short prompts.\r\n *\r\n * Having significantly longer prompts may distort the actual charts.\r\n *\r\n * NOTE:\r\n * Some prompts - like months or weekdays - come in two versions: full and\r\n * shortened.\r\n *\r\n * If there's no official shortened version of these in your language, and it\r\n * would not be possible to invent such short versions that don't seem weird\r\n * to native speakers of that language, fill those with the same as full\r\n * version.\r\n *\r\n * PLACEHOLDERS:\r\n * Some prompts have placeholders like \"%1\". Those will be replaced by actual\r\n * values during translation and should be retained in the translated prompts.\r\n *\r\n * Placeholder positions may be changed to better suit structure of the\r\n * sentence.\r\n *\r\n * For example \"From %1 to %2\", when actually used will replace \"%1\" with an\r\n * actual value representing range start, and \"%2\" will be replaced by end\r\n * value.\r\n *\r\n * E.g. in a Scrollbar for Value axis \"From %1 to %2\" will become\r\n * \"From 100 to 200\". You may translate \"From\" and \"to\", as well as re-arrange\r\n * the order of the prompt itself, but make sure the \"%1\" and \"%2\" remain, in\r\n * places where they will make sense.\r\n *\r\n * Save the file as language_LOCALE, i.e. `en_GB.ts`, `fr_FR.ts`, etc.\r\n */\r\nexport default {\r\n    \"firstDayOfWeek\": 1,\r\n    // Number formatting options.\r\n    // \r\n    // Please check with the local standards which separator is accepted to be\r\n    // used for separating decimals, and which for thousands.\r\n    \"_decimalSeparator\": \".\",\r\n    \"_thousandSeparator\": \",\",\r\n    // Position of the percent sign in numbers\r\n    \"_percentPrefix\": null,\r\n    \"_percentSuffix\": \"%\",\r\n    // Suffixes for numbers\r\n    // When formatting numbers, big or small numers might be reformatted to\r\n    // shorter version, by applying a suffix.\r\n    // \r\n    // For example, 1000000 might become \"1m\".\r\n    // Or 1024 might become \"1KB\" if we're formatting byte numbers.\r\n    // \r\n    // This section defines such suffixes for all such cases.\r\n    \"_big_number_suffix_3\": \"k\",\r\n    \"_big_number_suffix_6\": \"M\",\r\n    \"_big_number_suffix_9\": \"G\",\r\n    \"_big_number_suffix_12\": \"T\",\r\n    \"_big_number_suffix_15\": \"P\",\r\n    \"_big_number_suffix_18\": \"E\",\r\n    \"_big_number_suffix_21\": \"Z\",\r\n    \"_big_number_suffix_24\": \"Y\",\r\n    \"_small_number_suffix_3\": \"m\",\r\n    \"_small_number_suffix_6\": \"\",\r\n    \"_small_number_suffix_9\": \"n\",\r\n    \"_small_number_suffix_12\": \"p\",\r\n    \"_small_number_suffix_15\": \"f\",\r\n    \"_small_number_suffix_18\": \"a\",\r\n    \"_small_number_suffix_21\": \"z\",\r\n    \"_small_number_suffix_24\": \"y\",\r\n    \"_byte_suffix_B\": \"B\",\r\n    \"_byte_suffix_KB\": \"KB\",\r\n    \"_byte_suffix_MB\": \"MB\",\r\n    \"_byte_suffix_GB\": \"GB\",\r\n    \"_byte_suffix_TB\": \"TB\",\r\n    \"_byte_suffix_PB\": \"PB\",\r\n    // Default date formats for various periods.\r\n    // \r\n    // This should reflect official or de facto formatting universally accepted\r\n    // in the country translation is being made for\r\n    // Available format codes here:\r\n    // https://www.amcharts.com/docs/v5/concepts/formatters/formatting-dates/#Format_codes\r\n    // \r\n    // This will be used when formatting date/time for particular granularity,\r\n    // e.g. \"_date_hour\" will be shown whenever we need to show time as hours.\r\n    // \r\n    // \"date\" is used as in default date format when showing standalone dates.\r\n    \"_date\": \"yyyy-MM-dd\",\r\n    \"_date_millisecond\": \"mm:ss SSS\",\r\n    \"_date_millisecond_full\": \"HH:mm:ss SSS\",\r\n    \"_date_second\": \"HH:mm:ss\",\r\n    \"_date_second_full\": \"HH:mm:ss\",\r\n    \"_date_minute\": \"HH:mm\",\r\n    \"_date_minute_full\": \"HH:mm - MMM dd, yyyy\",\r\n    \"_date_hour\": \"HH:mm\",\r\n    \"_date_hour_full\": \"HH:mm - MMM dd, yyyy\",\r\n    \"_date_day\": \"MMM dd\",\r\n    \"_date_day_full\": \"MMM dd, yyyy\",\r\n    \"_date_week\": \"ww\",\r\n    \"_date_week_full\": \"MMM dd, yyyy\",\r\n    \"_date_month\": \"MMM\",\r\n    \"_date_month_full\": \"MMM, yyyy\",\r\n    \"_date_year\": \"yyyy\",\r\n    // Default duration formats for various base units.\r\n    // \r\n    // This will be used by DurationFormatter to format numeric values into\r\n    // duration.\r\n    // \r\n    // Notice how each duration unit comes in several versions. This is to ensure\r\n    // that each base unit is shown correctly.\r\n    // \r\n    // For example, if we have baseUnit set to \"second\", meaning our duration is\r\n    // in seconds.\r\n    // \r\n    // If we pass in `50` to formatter, it will know that we have just 50 seconds\r\n    // (less than a minute) so it will use format in `\"_duration_second\"` (\"ss\"),\r\n    // and the formatted result will be in like `\"50\"`.\r\n    // \r\n    // If we pass in `70`, which is more than a minute, the formatter will switch\r\n    // to `\"_duration_second_minute\"` (\"mm:ss\"), resulting in \"01:10\" formatted\r\n    // text.\r\n    // \r\n    // Available codes here:\r\n    // https://www.amcharts.com/docs/v4/concepts/formatters/formatting-duration/#Available_Codes\r\n    \"_duration_millisecond\": \"SSS\",\r\n    \"_duration_millisecond_second\": \"ss.SSS\",\r\n    \"_duration_millisecond_minute\": \"mm:ss SSS\",\r\n    \"_duration_millisecond_hour\": \"hh:mm:ss SSS\",\r\n    \"_duration_millisecond_day\": \"d'd' mm:ss SSS\",\r\n    \"_duration_millisecond_week\": \"d'd' mm:ss SSS\",\r\n    \"_duration_millisecond_month\": \"M'm' dd'd' mm:ss SSS\",\r\n    \"_duration_millisecond_year\": \"y'y' MM'm' dd'd' mm:ss SSS\",\r\n    \"_duration_second\": \"ss\",\r\n    \"_duration_second_minute\": \"mm:ss\",\r\n    \"_duration_second_hour\": \"hh:mm:ss\",\r\n    \"_duration_second_day\": \"d'd' hh:mm:ss\",\r\n    \"_duration_second_week\": \"d'd' hh:mm:ss\",\r\n    \"_duration_second_month\": \"M'm' dd'd' hh:mm:ss\",\r\n    \"_duration_second_year\": \"y'y' MM'm' dd'd' hh:mm:ss\",\r\n    \"_duration_minute\": \"mm\",\r\n    \"_duration_minute_hour\": \"hh:mm\",\r\n    \"_duration_minute_day\": \"d'd' hh:mm\",\r\n    \"_duration_minute_week\": \"d'd' hh:mm\",\r\n    \"_duration_minute_month\": \"M'm' dd'd' hh:mm\",\r\n    \"_duration_minute_year\": \"y'y' MM'm' dd'd' hh:mm\",\r\n    \"_duration_hour\": \"hh'h'\",\r\n    \"_duration_hour_day\": \"d'd' hh'h'\",\r\n    \"_duration_hour_week\": \"d'd' hh'h'\",\r\n    \"_duration_hour_month\": \"M'm' dd'd' hh'h'\",\r\n    \"_duration_hour_year\": \"y'y' MM'm' dd'd' hh'h'\",\r\n    \"_duration_day\": \"d'd'\",\r\n    \"_duration_day_week\": \"d'd'\",\r\n    \"_duration_day_month\": \"M'm' dd'd'\",\r\n    \"_duration_day_year\": \"y'y' MM'm' dd'd'\",\r\n    \"_duration_week\": \"w'w'\",\r\n    \"_duration_week_month\": \"w'w'\",\r\n    \"_duration_week_year\": \"w'w'\",\r\n    \"_duration_month\": \"M'm'\",\r\n    \"_duration_month_year\": \"y'y' MM'm'\",\r\n    \"_duration_year\": \"y'y'\",\r\n    // Era translations\r\n    \"_era_ad\": \"AD\",\r\n    \"_era_bc\": \"BC\",\r\n    // Day part, used in 12-hour formats, e.g. 5 P.M.\r\n    // Please note that these come in 3 variants:\r\n    // * one letter (e.g. \"A\")\r\n    // * two letters (e.g. \"AM\")\r\n    // * two letters with dots (e.g. \"A.M.\")\r\n    // \r\n    // All three need to to be translated even if they are all the same. Some\r\n    // users might use one, some the other.\r\n    \"A\": \"\",\r\n    \"P\": \"\",\r\n    \"AM\": \"\",\r\n    \"PM\": \"\",\r\n    \"A.M.\": \"\",\r\n    \"P.M.\": \"\",\r\n    // Date-related stuff.\r\n    // \r\n    // When translating months, if there's a difference, use the form which is\r\n    // best for a full date, e.g. as you would use it in \"2018 January 1\".\r\n    // \r\n    // Note that May is listed twice. This is because in English May is the same\r\n    // in both long and short forms, while in other languages it may not be the\r\n    // case. Translate \"May\" to full word, while \"May(short)\" to shortened\r\n    // version.\r\n    // \r\n    // Should month names and weekdays be capitalized or not?\r\n    // \r\n    // Rule of thumb is this: if the names should always be capitalized,\r\n    // regardless of name position within date (\"January\", \"21st January 2018\",\r\n    // etc.) use capitalized names. Otherwise enter all lowercase.\r\n    // \r\n    // The date formatter will automatically capitalize names if they are the\r\n    // first (or only) word in resulting date.\r\n    \"January\": \"\",\r\n    \"February\": \"\",\r\n    \"March\": \"\",\r\n    \"April\": \"\",\r\n    \"May\": \"\",\r\n    \"June\": \"\",\r\n    \"July\": \"\",\r\n    \"August\": \"\",\r\n    \"September\": \"\",\r\n    \"October\": \"\",\r\n    \"November\": \"\",\r\n    \"December\": \"\",\r\n    \"Jan\": \"\",\r\n    \"Feb\": \"\",\r\n    \"Mar\": \"\",\r\n    \"Apr\": \"\",\r\n    \"May(short)\": \"May\",\r\n    \"Jun\": \"\",\r\n    \"Jul\": \"\",\r\n    \"Aug\": \"\",\r\n    \"Sep\": \"\",\r\n    \"Oct\": \"\",\r\n    \"Nov\": \"\",\r\n    \"Dec\": \"\",\r\n    // Weekdays.\r\n    \"Sunday\": \"\",\r\n    \"Monday\": \"\",\r\n    \"Tuesday\": \"\",\r\n    \"Wednesday\": \"\",\r\n    \"Thursday\": \"\",\r\n    \"Friday\": \"\",\r\n    \"Saturday\": \"\",\r\n    \"Sun\": \"\",\r\n    \"Mon\": \"\",\r\n    \"Tue\": \"\",\r\n    \"Wed\": \"\",\r\n    \"Thu\": \"\",\r\n    \"Fri\": \"\",\r\n    \"Sat\": \"\",\r\n    // Date ordinal function.\r\n    // \r\n    // This is used when adding number ordinal when formatting days in dates.\r\n    // \r\n    // E.g. \"January 1st\", \"February 2nd\".\r\n    // \r\n    // The function accepts day number, and returns a string to be added to the\r\n    // day, like in default English translation, if we pass in 2, we will receive\r\n    // \"nd\" back.\r\n    \"_dateOrd\": function (day) {\r\n        let res = \"th\";\r\n        if ((day < 11) || (day > 13)) {\r\n            switch (day % 10) {\r\n                case 1:\r\n                    res = \"st\";\r\n                    break;\r\n                case 2:\r\n                    res = \"nd\";\r\n                    break;\r\n                case 3:\r\n                    res = \"rd\";\r\n                    break;\r\n            }\r\n        }\r\n        return res;\r\n    },\r\n    // Various chart controls.\r\n    // Shown as a tooltip on zoom out button.\r\n    \"Zoom Out\": \"\",\r\n    // Timeline buttons\r\n    \"Play\": \"\",\r\n    \"Stop\": \"\",\r\n    // Chart's Legend screen reader title.\r\n    \"Legend\": \"\",\r\n    // Legend's item screen reader indicator.\r\n    \"Press ENTER to toggle\": \"\",\r\n    // Shown when the chart is busy loading something.\r\n    \"Loading\": \"\",\r\n    // Shown as the first button in the breadcrumb navigation, e.g.:\r\n    // Home > First level > ...\r\n    \"Home\": \"\",\r\n    // Chart types.\r\n    // Those are used as default screen reader titles for the main chart element\r\n    // unless developer has set some more descriptive title.\r\n    \"Chart\": \"\",\r\n    \"Serial chart\": \"\",\r\n    \"X/Y chart\": \"\",\r\n    \"Pie chart\": \"\",\r\n    \"Gauge chart\": \"\",\r\n    \"Radar chart\": \"\",\r\n    \"Sankey diagram\": \"\",\r\n    \"Flow diagram\": \"\",\r\n    \"Chord diagram\": \"\",\r\n    \"TreeMap chart\": \"\",\r\n    \"Force directed tree\": \"\",\r\n    \"Sliced chart\": \"\",\r\n    // Series types.\r\n    // Used to name series by type for screen readers if they do not have their\r\n    // name set.\r\n    \"Series\": \"\",\r\n    \"Candlestick Series\": \"\",\r\n    \"OHLC Series\": \"\",\r\n    \"Column Series\": \"\",\r\n    \"Line Series\": \"\",\r\n    \"Pie Slice Series\": \"\",\r\n    \"Funnel Series\": \"\",\r\n    \"Pyramid Series\": \"\",\r\n    \"X/Y Series\": \"\",\r\n    // Map-related stuff.\r\n    \"Map\": \"\",\r\n    \"Press ENTER to zoom in\": \"\",\r\n    \"Press ENTER to zoom out\": \"\",\r\n    \"Use arrow keys to zoom in and out\": \"\",\r\n    \"Use plus and minus keys on your keyboard to zoom in and out\": \"\",\r\n    // Export-related stuff.\r\n    // These prompts are used in Export menu labels.\r\n    // \r\n    // \"Export\" is the top-level menu item.\r\n    // \r\n    // \"Image\", \"Data\", \"Print\" as second-level indicating type of export\r\n    // operation.\r\n    // \r\n    // Leave actual format untranslated, unless you absolutely know that they\r\n    // would convey more meaning in some other way.\r\n    \"Export\": \"\",\r\n    \"Image\": \"\",\r\n    \"Data\": \"\",\r\n    \"Print\": \"\",\r\n    \"Press ENTER or use arrow keys to navigate\": \"\",\r\n    \"Press ENTER to open\": \"\",\r\n    \"Press ENTER to print.\": \"\",\r\n    \"Press ENTER to export as %1.\": \"\",\r\n    \"(Press ESC to close this message)\": \"\",\r\n    \"Image Export Complete\": \"\",\r\n    \"Export operation took longer than expected. Something might have gone wrong.\": \"\",\r\n    \"Saved from\": \"\",\r\n    \"PNG\": \"\",\r\n    \"JPG\": \"\",\r\n    \"GIF\": \"\",\r\n    \"SVG\": \"\",\r\n    \"PDF\": \"\",\r\n    \"JSON\": \"\",\r\n    \"CSV\": \"\",\r\n    \"XLSX\": \"\",\r\n    \"HTML\": \"\",\r\n    // Scrollbar-related stuff.\r\n    // \r\n    // Scrollbar is a control which can zoom and pan the axes on the chart.\r\n    // \r\n    // Each scrollbar has two grips: left or right (for horizontal scrollbar) or\r\n    // upper and lower (for vertical one).\r\n    // \r\n    // Prompts change in relation to whether Scrollbar is vertical or horizontal.\r\n    // \r\n    // The final section is used to indicate the current range of selection.\r\n    \"Use TAB to select grip buttons or left and right arrows to change selection\": \"\",\r\n    \"Use left and right arrows to move selection\": \"\",\r\n    \"Use left and right arrows to move left selection\": \"\",\r\n    \"Use left and right arrows to move right selection\": \"\",\r\n    \"Use TAB select grip buttons or up and down arrows to change selection\": \"\",\r\n    \"Use up and down arrows to move selection\": \"\",\r\n    \"Use up and down arrows to move lower selection\": \"\",\r\n    \"Use up and down arrows to move upper selection\": \"\",\r\n    \"From %1 to %2\": \"\",\r\n    \"From %1\": \"\",\r\n    \"To %1\": \"\",\r\n    // Data loader-related.\r\n    \"No parser available for file: %1\": \"\",\r\n    \"Error parsing file: %1\": \"\",\r\n    \"Unable to load file: %1\": \"\",\r\n    \"Invalid date\": \"\",\r\n    // Common actions\r\n    \"Close\": \"\",\r\n    \"Minimize\": \"\"\r\n};\r\n","import { AnimatedTheme } from \"../.internal/themes/AnimatedTheme\";\r\nexport default AnimatedTheme;\r\n","import { DarkTheme } from \"../.internal/themes/DarkTheme\";\r\nexport default DarkTheme;\r\n","var _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar TAU = Math.PI * 2;\n\nvar mapToEllipse = function mapToEllipse(_ref, rx, ry, cosphi, sinphi, centerx, centery) {\n  var x = _ref.x,\n      y = _ref.y;\n\n  x *= rx;\n  y *= ry;\n\n  var xp = cosphi * x - sinphi * y;\n  var yp = sinphi * x + cosphi * y;\n\n  return {\n    x: xp + centerx,\n    y: yp + centery\n  };\n};\n\nvar approxUnitArc = function approxUnitArc(ang1, ang2) {\n  // If 90 degree circular arc, use a constant\n  // as derived from http://spencermortensen.com/articles/bezier-circle\n  var a = ang2 === 1.5707963267948966 ? 0.551915024494 : ang2 === -1.5707963267948966 ? -0.551915024494 : 4 / 3 * Math.tan(ang2 / 4);\n\n  var x1 = Math.cos(ang1);\n  var y1 = Math.sin(ang1);\n  var x2 = Math.cos(ang1 + ang2);\n  var y2 = Math.sin(ang1 + ang2);\n\n  return [{\n    x: x1 - y1 * a,\n    y: y1 + x1 * a\n  }, {\n    x: x2 + y2 * a,\n    y: y2 - x2 * a\n  }, {\n    x: x2,\n    y: y2\n  }];\n};\n\nvar vectorAngle = function vectorAngle(ux, uy, vx, vy) {\n  var sign = ux * vy - uy * vx < 0 ? -1 : 1;\n\n  var dot = ux * vx + uy * vy;\n\n  if (dot > 1) {\n    dot = 1;\n  }\n\n  if (dot < -1) {\n    dot = -1;\n  }\n\n  return sign * Math.acos(dot);\n};\n\nvar getArcCenter = function getArcCenter(px, py, cx, cy, rx, ry, largeArcFlag, sweepFlag, sinphi, cosphi, pxp, pyp) {\n  var rxsq = Math.pow(rx, 2);\n  var rysq = Math.pow(ry, 2);\n  var pxpsq = Math.pow(pxp, 2);\n  var pypsq = Math.pow(pyp, 2);\n\n  var radicant = rxsq * rysq - rxsq * pypsq - rysq * pxpsq;\n\n  if (radicant < 0) {\n    radicant = 0;\n  }\n\n  radicant /= rxsq * pypsq + rysq * pxpsq;\n  radicant = Math.sqrt(radicant) * (largeArcFlag === sweepFlag ? -1 : 1);\n\n  var centerxp = radicant * rx / ry * pyp;\n  var centeryp = radicant * -ry / rx * pxp;\n\n  var centerx = cosphi * centerxp - sinphi * centeryp + (px + cx) / 2;\n  var centery = sinphi * centerxp + cosphi * centeryp + (py + cy) / 2;\n\n  var vx1 = (pxp - centerxp) / rx;\n  var vy1 = (pyp - centeryp) / ry;\n  var vx2 = (-pxp - centerxp) / rx;\n  var vy2 = (-pyp - centeryp) / ry;\n\n  var ang1 = vectorAngle(1, 0, vx1, vy1);\n  var ang2 = vectorAngle(vx1, vy1, vx2, vy2);\n\n  if (sweepFlag === 0 && ang2 > 0) {\n    ang2 -= TAU;\n  }\n\n  if (sweepFlag === 1 && ang2 < 0) {\n    ang2 += TAU;\n  }\n\n  return [centerx, centery, ang1, ang2];\n};\n\nvar arcToBezier = function arcToBezier(_ref2) {\n  var px = _ref2.px,\n      py = _ref2.py,\n      cx = _ref2.cx,\n      cy = _ref2.cy,\n      rx = _ref2.rx,\n      ry = _ref2.ry,\n      _ref2$xAxisRotation = _ref2.xAxisRotation,\n      xAxisRotation = _ref2$xAxisRotation === undefined ? 0 : _ref2$xAxisRotation,\n      _ref2$largeArcFlag = _ref2.largeArcFlag,\n      largeArcFlag = _ref2$largeArcFlag === undefined ? 0 : _ref2$largeArcFlag,\n      _ref2$sweepFlag = _ref2.sweepFlag,\n      sweepFlag = _ref2$sweepFlag === undefined ? 0 : _ref2$sweepFlag;\n\n  var curves = [];\n\n  if (rx === 0 || ry === 0) {\n    return [];\n  }\n\n  var sinphi = Math.sin(xAxisRotation * TAU / 360);\n  var cosphi = Math.cos(xAxisRotation * TAU / 360);\n\n  var pxp = cosphi * (px - cx) / 2 + sinphi * (py - cy) / 2;\n  var pyp = -sinphi * (px - cx) / 2 + cosphi * (py - cy) / 2;\n\n  if (pxp === 0 && pyp === 0) {\n    return [];\n  }\n\n  rx = Math.abs(rx);\n  ry = Math.abs(ry);\n\n  var lambda = Math.pow(pxp, 2) / Math.pow(rx, 2) + Math.pow(pyp, 2) / Math.pow(ry, 2);\n\n  if (lambda > 1) {\n    rx *= Math.sqrt(lambda);\n    ry *= Math.sqrt(lambda);\n  }\n\n  var _getArcCenter = getArcCenter(px, py, cx, cy, rx, ry, largeArcFlag, sweepFlag, sinphi, cosphi, pxp, pyp),\n      _getArcCenter2 = _slicedToArray(_getArcCenter, 4),\n      centerx = _getArcCenter2[0],\n      centery = _getArcCenter2[1],\n      ang1 = _getArcCenter2[2],\n      ang2 = _getArcCenter2[3];\n\n  // If 'ang2' == 90.0000000001, then `ratio` will evaluate to\n  // 1.0000000001. This causes `segments` to be greater than one, which is an\n  // unecessary split, and adds extra points to the bezier curve. To alleviate\n  // this issue, we round to 1.0 when the ratio is close to 1.0.\n\n\n  var ratio = Math.abs(ang2) / (TAU / 4);\n  if (Math.abs(1.0 - ratio) < 0.0000001) {\n    ratio = 1.0;\n  }\n\n  var segments = Math.max(Math.ceil(ratio), 1);\n\n  ang2 /= segments;\n\n  for (var i = 0; i < segments; i++) {\n    curves.push(approxUnitArc(ang1, ang2));\n    ang1 += ang2;\n  }\n\n  return curves.map(function (curve) {\n    var _mapToEllipse = mapToEllipse(curve[0], rx, ry, cosphi, sinphi, centerx, centery),\n        x1 = _mapToEllipse.x,\n        y1 = _mapToEllipse.y;\n\n    var _mapToEllipse2 = mapToEllipse(curve[1], rx, ry, cosphi, sinphi, centerx, centery),\n        x2 = _mapToEllipse2.x,\n        y2 = _mapToEllipse2.y;\n\n    var _mapToEllipse3 = mapToEllipse(curve[2], rx, ry, cosphi, sinphi, centerx, centery),\n        x = _mapToEllipse3.x,\n        y = _mapToEllipse3.y;\n\n    return { x1: x1, y1: y1, x2: x2, y2: y2, x: x, y: y };\n  });\n};\n\nexport default arcToBezier;","import { Component, ElementRef, OnInit, inject } from '@angular/core';\nimport { ContentPluginManager } from '@rollthecloudinc/content';\nimport * as am5 from \"@amcharts/amcharts5/index\";\nimport am5themes_Animated from \"@amcharts/amcharts5/themes/Animated\";\nimport am5themes_Dark from \"@amcharts/amcharts5/themes/Dark\";\nimport * as am5plugins_json from \"@amcharts/amcharts5/plugins/json\";\n\nconst sampleJsonXYChart = {\n    refs: {\n      data: [\n        { date: 1652425200000, value: 92 },\n        { date: 1652511600000, value: 95 },\n        { date: 1652598000000, value: 100 },\n        { date: 1652684400000, value: 100 },\n        { date: 1652770800000, value: 96 },\n        { date: 1652857200000, value: 97 },\n        { date: 1652943600000, value: 94 },\n        { date: 1653030000000, value: 89 },\n        { date: 1653116400000, value: 89 },\n        { date: 1653202800000, value: 87 },\n        { date: 1653289200000, value: 84 },\n        { date: 1653375600000, value: 81 },\n        { date: 1653462000000, value: 85 },\n        { date: 1653548400000, value: 89 },\n        { date: 1653634800000, value: 86 },\n        { date: 1653721200000, value: 90 },\n        { date: 1653807600000, value: 93 },\n        { date: 1653894000000, value: 94 },\n        { date: 1653980400000, value: 94 },\n        { date: 1654066800000, value: 96 }\n      ],\n      xAxis: {\n        type: \"DateAxis\",\n        settings: {\n          maxDeviation: 0.5,\n          baseInterval: {\n            timeUnit: \"day\",\n            count: 1\n          },\n          renderer: {\n            type: \"AxisRendererX\",\n            settings: {\n              pan: \"zoom\"\n            }\n          },\n          tooltip: {\n            type: \"Tooltip\",\n          },\n        }\n      },\n      yAxis: {\n        type: \"ValueAxis\",\n        settings: {\n          maxDeviation: 1,\n          renderer: {\n            type: \"AxisRendererY\",\n            settings: {\n              pan: \"zoom\"\n            },\n          },\n        }\n      },\n    },\n    type: \"XYChart\",\n    settings: {\n      panX: false,\n      panY: false,\n      wheelX: \"panX\",\n      wheelY: \"zoomX\",\n      cursor: {\n        type: \"XYCursor\",\n        settings: {\n          behavior: \"zoomX\"\n        },\n        properties: {\n          lineY: {\n            settings: {\n              visible: false\n            },\n          },\n        },\n      },\n      scrollbarX: {\n        type: \"Scrollbar\",\n        settings: {\n          orientation: \"horizontal\"\n        }\n      },\n    },\n    properties: {\n      xAxes: [\n        \"#xAxis\",\n      ],\n      yAxes: [\n        \"#yAxis\",\n      ],\n      series: [{\n        type: \"LineSeries\",\n        settings: {\n          name: \"Series\",\n          xAxis: \"#xAxis\",\n          yAxis: \"#yAxis\",\n          valueYField: \"value\",\n          valueXField: \"date\",\n          tooltip: {\n            type: \"Tooltip\",\n            settings: {\n              labelText: \"{valueX}: {valueY}\"\n            }\n          },\n        },\n        properties: {\n          data: \"#data\"\n        }\n      }]\n    }\n  };\n\n@Component({\n    selector: 'amcharts5-plugin-json-chart-render',\n    template: ` `,\n    styles: [':host { height: 300px; display: block; }']\n})\n\nexport class JsonChartRenderComponent implements OnInit {\n    private cpm = inject(ContentPluginManager);\n    private hostEl = inject(ElementRef);\n    ngOnInit() { \n        var root = am5.Root.new(this.hostEl.nativeElement);\n\n        // Set themes\n        // https://www.amcharts.com/docs/v5/concepts/themes/\n        root.setThemes([\n          am5themes_Animated.new(root),\n          am5themes_Dark.new(root)\n        ]);\n        \n        // Specify date fields, so that they are formatted accordingly in tooltips\n        // https://www.amcharts.com/docs/v5/concepts/formatters/data-placeholders/#Formatting_placeholders\n        root.dateFormatter.setAll({\n          dateFields: [\"valueX\"]\n        });\n\n        var parser = am5plugins_json.JsonParser.new(root);\n        \n        parser.parse(sampleJsonXYChart, { parent: root.container })\n            .then(chart => {\n                // This kicks in when config is parsed\n                (chart as any).series.getIndex(0).appear(1000);\n                (chart as any).appear(1000, 100);\n            });\n    }\n}"],"names":["Registry","constructor","Object","defineProperty","enumerable","configurable","writable","value","registry","addLicense","license","licenses","push","disposeAllRootElements","root","rootElements","pop","dispose","Container","Text","HorizontalLayout","VerticalLayout","GridLayout","Disposer","ResizeSensor","InterfaceColors","Graphics","Rectangle","Tooltip","NumberFormatter","DateFormatter","DurationFormatter","Language","EventDispatcher","DefaultTheme","CanvasRenderer","p100","percent","color","populateString","$order","$array","$object","$utils","$type","en","rAF","fps","callback","requestAnimationFrame","setTimeout","Root","id","settings","isReal","new","Error","_settings","accessible","_a11yD","useSafeResolution","resolution","getSafeResolution","_renderer","dom","HTMLElement","document","getElementById","each","interfaceColors","inner","createElement","style","position","height","appendChild","tooltipContainerBounds","_tooltipContainerSettings","_inner","_updateComputedStyles","_init","moveDOM","childNodes","length","_initResizeSensor","resize","_handleLogo","_logo","w","offsetWidth","h","offsetHeight","hide","show","_showBranding","logo","tooltipContainer","children","interactive","interactiveChildren","setStateOnChildren","paddingTop","paddingRight","paddingBottom","paddingLeft","scale","y","centerY","tooltipText","tooltipX","cursorOverStyle","background","fill","fillOpacity","tooltipY","tooltip","pointerOrientation","label","setAll","fontSize","get","stroke","strokeOpacity","set","events","on","window","open","states","create","m","strokeWidth","svgPath","a","_getRealSize","getBoundingClientRect","_getCalculatedSize","rect","calculateSize","width","renderer","size","Math","floor","realWidth","realHeight","rootContainer","visible","_rootContainer","_defaultThemes","container","view","htmlElementContainer","_htmlElementContainer","className","pointerEvents","overflow","readerAlertElement","setAttribute","clip","_readerAlertElement","focusElementContainer","top","left","setInteractive","_focusElementContainer","tooltipElementContainer","_tooltipElementContainer","supports","_disposers","addEventListener","ev","keyCode","_isShift","shiftKey","focusedSprite","_focusedSprite","blur","undefined","dragOffsetX","dragOffsetY","preventDefault","downEvent","getEvent","MouseEvent","dispatch","type","originalEvent","event","point","simulated","target","isDragging","_keyboardDragPoint","x","clientX","clientY","isEnabled","dragPoint","moveEvent","upEvent","group","items","_tabindexes","filter","item","index","indexOf","lastIndex","focus","getPrivate","_startTicker","setThemes","_addTooltip","_hasLicense","_resizeSensorDisposer","autoResize","setPrivate","_render","render","_display","_focusElementDirty","_updateCurrentFocus","_runTickers","currentTime","_tickers","f","_runAnimations","keepIf","_animations","animation","_runAnimation","_runDirties","allParents","_isDirtyParents","keys","_dirtyParents","forEach","key","parent","isDisposed","uid","_prepareChildren","_updateChildren","objects","_dirty","entity","_beforeChanged","_changed","_clearDirty","_isDirty","depths","bounds","_dirtyBounds","depth","_positionHTMLElements","sort","compare","_updateBounds","dirtyPositions","_dirtyPositions","sprite","_updatePosition","_afterChanged","_renderFrame","_updateTick","timestamp","_checkComputedStyles","_runTicker","now","animationTime","done","_ticker","_paused","_runTickerNow","timeout","endTime","performance","updateTick","_addDirtyEntity","_addDirtyParent","_addDirtyBounds","_addDirtyPosition","_addAnimation","_markDirty","_markDirtyRedraw","once","eachFrame","removeFirst","markDirtyGlobal","walkChildren","child","markDirty","markDirtyBounds","_isDisposed","horizontalLayout","verticalLayout","removeElement","remove","readerAlert","text","innerHTML","stripTags","themes","_applyThemes","tooltipContainerSettings","isMeasured","layer","layerMargin","_tooltip","_registerTabindexOrder","pushOne","_invalidateTabindexes","_unregisterTabindexOrder","b","aindex","bindex","groups","_makeFocusElement","_moveFocusElement","_decorateFocusElement","_positionFocusElement","focusElement","isHidden","getAttribute","tabindex","removeAttribute","role","ariaLabel","ariaLive","ariaChecked","ariaOrientation","ariaValueNow","ariaValueMin","ariaValueMax","ariaValueText","ariaControls","tabIndex","disposers","_handleFocus","_handleBlur","_removeFocusElement","removeChild","_hideFocusElement","display","next","insertBefore","append","globalBounds","right","bottom","abs","focused","isVisibleDeep","_focusNext","el","direction","focusableElements","Array","from","querySelectorAll","join","_index","updateTooltip","_getText","tooltipElement","_makeTooltipElement","removePrivate","_removeTooltipElement","parentElement","_invalidateAccessibility","documentPointToRoot","bbox","rootPointToDocument","addDisposer","disposer","styles","getComputedStyle","fontHash","val","isString","match","changed","_fontHash","_invalidateLabelBounds","i","_licenseApplied","debugGhostView","tapToActivate","tapToActivateTimeout","_makeHTMLElement","htmlElement","boxSizing","_positionHTMLElement","_htmlEnabledContainers","visualSettings","setting","opacity","compositeOpacity","_adjustedLocalBounds","minWidth","minHeight","_setHTMLContent","html","_removeHTMLContent","Template","Theme","_root","setupDefaultRules","_lookupRules","themeClass","_rules","ruleRaw","themeTags","rules","found","getSortedIndex","order","tags","compareArray","template","splice","rule","Children","Percent","Sprite","arguments","makeContainer","_afterNew","addChild","_childrenDisplay","_dispose","eachReverse","allChildren","isDirty","_prevWidth","_prevHeight","_prevSettings","layout","markDirtyPosition","childrenDisplay","contentMask","_contentMask","addChildAt","mask","_updateSize","_percentageSizeChildren","_percentagePositionChildren","updateBackground","_localBounds","maxWidth","maxHeight","verticalScrollbar","_contentHeight","bg","eachChildren","_applyState","name","apply","_applyStateAnimated","duration","applyAnimate","innerWidth","innerHeight","_getBounds","pWidth","pHeight","horizontal","vertical","Number","MAX_VALUE","l","r","t","childBounds","adjustedLocalBounds","childX","childY","cl","cr","ct","cb","_contentWidth","isNumber","updateContainer","_sizeDirty","_handleStates","_setParent","startGrip","endGrip","_vsbd0","wheelEvent","isLocalEvent","shiftY","deltaY","start","end","_vsbd1","markDirtyLayer","previous","removeValue","_processTemplateField","values","output","_setDataItem","dataItem","updated","_dataItem","classNames","concat","PicturePattern","BlendMode","makeGraphics","_clear","crisp","gradient","gradientTarget","_markDirtyKey","clear","strokeDasharray","setLineDash","strokeDashoffset","setLineDashOffset","blendMode","NORMAL","draw","fillGradient","fillPattern","strokeGradient","strokePattern","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","shadowOpacity","shadow","pattern","beginFill","endFill","stops","stop","colorInherited","opacityInherited","getFill","lineJoin","lineStyle","endStroke","showTooltip","Layout","$math","_setRawDefault","availableWidth","minCellWidth","maxCellWidth","childWidth","fitToRange","columnCount","max","min","columnWidths","getColumnWidths","prevY","column","maxColumnHeight","prevX","isVisible","marginTop","marginBottom","marginLeft","marginRight","totalWidth","totalPercent","Infinity","privateWidth","p50","Label","_text","_makeText","_textKeys","property","propValue","onPrivate","_setMaxDimentions","textAlign","rotation","markDirtyText","getText","Entity","PointedRectangle","bwh","xtl","ytl","xtr","ytr","xbr","ybr","xbl","ybl","d1","d2","moveTo","stemX","round","lineTo","arcTo","stemY","closePath","isPrivateDirty","_draw","drawRect","__awaiter","MultiDisposer","CounterDisposer","waitForAnimations","SpriteEventDispatcher","_sprite","_makePointerEvent","native","_onRenderer","_rendererDisposers","e","call","increment","_on","context","shouldClone","info","rendererEvent","RENDERER_EVENTS","stopParentDispatch","_dispatchParents","dispatchParents","old","click","_hasDown","_hasMoved","rightclick","middleclick","dblclick","pointerover","pointerout","pointerdown","pointerup","globalpointerup","globalpointermove","wheel","setPrivateRaw","_addPercentagePositionChildren","_markDirtyPrivateKey","_removeTemplateField","_templateField","_removeObjectTemplate","_createEvents","field","dataContext","_setObjectTemplate","_applyTemplates","oldDataItem","eventType","newDataItem","_parent","_addPercentageSizeChildren","updatePivotPoint","centerX","pivot","relativeToValue","setLayer","tooltipMoveDp","_tooltipMoveDp","tooltipPointerDp","_tooltipPointerDp","_statesHandled","markDirtyAccessibility","draggable","_dragDp","dragStart","dragMove","dragStop","cancelTouch","tooltipHTML","showTooltipOn","_tooltipDp","_ev","hideTooltip","toggleKey","_toggleDp","_isDragging","alpha","angle","wheelable","_focusDp","exportable","_hoverDp","isTouchEvent","_handleOver","_handleOut","_isDown","_handleUp","_handleDown","inactive","_dragEvent","_dragPoint","lookup","isHover","_downPoint","pointerId","getPointerId","_downPoints","downPoint","dragEvent","cos","sin","hypot","getLocalBounds","self","markDirtySize","invalidateBounds","isFocus","oldBounds","newBounds","_fixMinBounds","getAdjustedBounds","privateHeight","_removeParent","hover","unhover","getTooltip","tooltipPosition","tooltipTarget","_setMatrix","toGlobal","_getTooltipPoint","promise","dx","dy","_x","xx","yy","_y","localBounds","p0","p1","p2","p3","_onShow","_duration","_onHide","appear","delay","Promise","success","_error","_isShowing","_isHidden","_isHiding","animations","state","isShowing","isHiding","hovering","_findStaticTemplate","_walkParents","_walkParent","updateChildren","prevParent","getNumberFormatter","numberFormatter","getDateFormatter","dateFormatter","getDurationFormatter","durationFormatter","toLocal","_getDownPoint","_getDownPointId","keysOrdered","toFront","moveValue","toBack","makeTextStyle","makeText","textStyle","wordWrapWidth","oversizedBehavior","breakWords","ellipsis","ignoreFormatting","minScale","_textStyles","styleName","Color","templates","mergeTags","_label","_updateBackground","_updateTextColor","_htmlContentHovered","_tooltips","labelText","labelHTML","updateBackgroundColor","keephover","_keepHoverDp","outEvent","_fillDp","_strokeDp","_labelDp","alternative","cw","ch","parentW","parentH","_w","_h","pointTo","pointerLength","bgStrokeSizeY","bgStrokeSizeX","pointerX","pointerY","boundsW","boundsH","_fx","_fy","animationDuration","animationEasing","animate","to","easing","availableHeight","childHeight","Matrix","ArrayDisposer","DisposerClass","TextFormatter","arcToBezier","checkArgs","actual","expected","checkMinArgs","checkEvenArgs","splitArcFlags","args","flag","exec","assertBinary","distributeId","rgb","eachTargets","hitTarget","onPointerEvent","element","getRendererEvent","getEventTarget","touches","changedTouches","copy","isTainted","image","canvas","getContext","willReadFrequently","drawImage","getImageData","err","console","warn","src","clearCanvas","CanvasPivot","CanvasDisplayObject","_removeObject","getLayer","dirty","getCanvas","_layer","defaultLayer","margin","_ghostLayer","setMargin","layers","registerChildLayer","resizeLayer","resizeGhost","_addBounds","_bounds","_getColorId","_colorId","paintId","_isInteractive","_forceInteractive","_isInteractiveMask","contains","_matrix","applyInverse","getLocalMatrix","_uMatrix","setTransform","PI","bn","matrix","_addEvent","_localMatrix","copyFrom","prepend","_transform","tx","ty","c","d","_transformMargin","_transformLayer","parentLayer","_omitTainted","ghostLayer","ghostContext","save","_runPath","globalAlpha","compoundAlpha","restore","tainted","_hovering","has","dragging","_dragging","some","shouldCancelTouch","_touchActive","CanvasContainer","_children","_childLayers","deep","setPoint","Op","colorize","_context","_forceColor","path","addBounds","BeginPath","beginPath","BeginFill","forceColor","fillStyle","EndFill","clearShadow","EndStroke","LineStyle","strokeStyle","lineWidth","LineDash","dash","LineDashOffset","dashOffset","lineDashOffset","DrawRect","DrawCircle","radius","arc","DrawEllipse","radiusX","radiusY","ellipse","Arc","cx","cy","startAngle","endAngle","anticlockwise","arcBounds","getArcBounds","DEGREES","ArcTo","x1","y1","x2","y2","LineTo","MoveTo","ClosePath","BezierCurveTo","cpX","cpY","cpX2","cpY2","toX","toY","bezierCurveTo","QuadraticCurveTo","quadraticCurveTo","Shadow","offsetX","offsetY","GraphicsImage","CanvasGraphics","_operations","_pushOp","op","_fillAlpha","toCSS","_hasShadows","_strokeAlpha","drawCircle","drawEllipse","cpx","cpy","qcpx","qcpy","SEGMENTS_REGEXP","ARGS_REGEXP","rest","relative","bs","px","py","rx","ry","xAxisRotation","largeArcFlag","sweepFlag","layerDirty","globalCompositeOperation","renderDetached","CanvasText","_textInfo","_shared","textBaseline","_prerender","ignoreGhost","ignoreFontWeight","fontStyle","_getFontStyle","font","style2","fontVariant","fontWeight","fontFamily","_measure","textVisible","line","textChunks","chunk","fillText","textDecoration","thickness","offset","format","getTextStyle","_ignoreFontWeight","test","navigator","vendor","rtl","truncate","wrap","refText","lines","toString","replace","split","styleRestored","minX","maxX","currentStyle","chunks","lineInfo","ascent","metrics","_measureText","actualBoundingBoxAscent","actualBoundingBoxDescent","currentFormat","currentDecoration","currentFill","currentChunkWidth","skipFurtherText","firstTextChunk","leftoverChunks","currentVerticalAlign","eachContinue","toNumber","verticalAlign","chunkWidth","actualBoundingBoxLeft","actualBoundingBoxRight","ellipsisMetrics","ellipsisWidth","excessWidth","_truncateText","tmpText","slice","trim","unshift","substr","leftBoundMod","rightBoundMod","boundsMod","chunkHeight","lineHeight","currentChunkOffset","baselineRatio","ratio","_fitRatio","_originalScale","maxW","maxH","fallbackBreakWords","tmp","measureText","fakeMetrics","div","innerText","visibility","body","fontBoundingBoxAscent","fontBoundingBoxDescent","CanvasTextStyle","CanvasRadialText","textType","_renderCircular","deltaAngle","orientation","inward","inside","align","kerning","clockwise","shouldReverse","_textReversed","maxAngle","midAngle","normalizeAngle","reverse","textHeight","lineStartAngle","rotate","angleShift","char","charWidth","_measureCircular","chars","CanvasImage","_imageMask","naturalWidth","naturalHeight","_getMask","imageSmoothingEnabled","fillRect","CanvasRendererEvent","originalPoint","Touch","identifier","GhostLayer","_patternCanvas","Set","devicePixelRatio","_layerDom","_events","_key","exportableView","onZoom","listener","_touchActiveTimeout","_delayTouchDeactivate","passive","prevent","obj","clearTimeout","parentNode","createLinearGradient","createRadialGradient","radius1","radius2","createPattern","graphics","repetition","_patternContext","clearRect","makeRadialText","makePicture","_canvasWidth","_canvasHeight","_domWidth","_domHeight","canvasWidth","canvasHeight","domWidth","domHeight","createDetachedLayer","CanvasLayer","getLayerByOrder","existingLayer","layerIndex","_dirtyLayers","_lastPointerMoveEvent","_dispatchGlobalMousemove","fromHex","_colorMap","_adjustBoundingBox","DOMRect","adjustPoint","_getHitTarget","pixel","data","colorId","fromRGB","hit","_withEvents","dispatching","cleanup","callbacks","disposed","_dispatchEventAll","interactionsEnabled","_dispatchEvent","dispatched","object","_dispatchMousedown","originalTarget","button","dragged","_mousedown","delete","setStyle","_replacedCursorStyle","add","getStyle","_dispatchGlobalMouseup","_dispatchDragMove","_dispatchDragEnd","clickevent","_dispatchDoubleClick","_dispatchWheel","_makeSharedEvent","_listeners","_onPointerEvent","timer","_","_initEvent","mouseup","pointercancel","mousedown","mousemove","options","maxScale","maintainPixelRatio","canvases","forceRender","needRerender","exportableContext","extraX","extraY","clientWidth","clientHeight","_width","_height","Pattern","_afterNewApplyThemes","_pattern","_backgroundDisplay","_load","_image","patternWidth","patternHeight","fit","centered","Image","decode","then","catch","promises","waitForStop","all","normalize","range","diff","defaultInterpolate","percentInterpolate","colorInterpolate","interpolate","getInterpolate","AnimationTime","_entity","_stopEvent","_playingDuration","_startingTime","_from","_to","_current","progress","_play","jumpTo","current","tweenTo","array","any","map","fn","shiftLeft","last","first","insert","setIndex","pushAll","input","move","toIndex","removeIndex","insertIndex","ind","toArray","isArray","findIndex","matches","findIndexReverse","find","findReverse","findMap","shuffle","currentIndex","temporaryValue","randomIndex","random","ordering","getFirstSortedIndex","keep","List","_container","onAll","change","oldValues","_onRemoved","_onInserted","newValue","oldValue","newIndex","_disposed","string2hex","string","repeat","parseInt","rgba2hex","hex","fromAny","_hex","g","toCSSHex","padString","toHSL","rgbToHsl","fromHSL","s","hslToRgb","fromString","fromCSS","lightAlternative","darkAlternative","alternativeColor","mode","lighten","brighten","saturate","Timezone","_setDefaults","_setDefault","source","formatted","date","isObject","locales","Intl","DateTimeFormat","parseFormat","timezone","utc","convertLocal","getTime","applyFormat","toUpperCase","res","fullYear","month","weekday","day","hours","minutes","seconds","milliseconds","getUTCFullYear","getUTCMonth","getUTCDay","getUTCDate","getUTCHours","getUTCMinutes","getUTCSeconds","getUTCMilliseconds","getFullYear","getMonth","getDay","getDate","getHours","getMinutes","getSeconds","getMilliseconds","len","parts","_t","year","getWeekYear","ceil","_getMonth","_getShortMonth","getWeek","getMonthWeek","getYearDay","language","translateFunc","_getShortWeekday","_getWeekday","locale","firstDayOfWeek","get12Hours","pow","getTimeZone","getTimezoneOffset","tz","tzh","tzm","toISOString","toUTCString","PLACEHOLDER","dateFormat","_months","_shortMonths","_weekdays","_shortWeekdays","parse","Date","reg","cleanFormat","parsedIndexes","resValues","indexAdjust","year3","year2","year1","getStringList","monthLong","monthShort","week","yearDay","weekdayLong","weekdayShort","am","hour12Base1","hourBase0","hour12Base0","hourBase1","minute","second","millisecond","millisecondDigits","zone","iso","regex","RegExp","resolveMonth","resolveShortMonth","getDayFromWeek","hour","isAm","ts","resolveTimezoneOffset","UTC","dir","originalOffset","isDefault","translateAll","list","escapeForRgex","MutableValueDisposer","_disposer","_value","reset","_counter","dmillisecond","dsecond","dminute","dhour","dday","dweek","dmonth","dyear","asecond","aminute","ahour","aday","aweek","amonth","ayear","base","baseUnit","getFormat","details","positive","negative","zero","PLACEHOLDER2","_part","parsed","partFormat","dirs","absolute","_unitAliases","tstamp","toTimeStamp","part","unit","_toTimeUnit","digits","ints","_getUnitValue","code","maxValue","maxUnit","getValueUnit","currentUnit","ms","_getUnitValues","num","timeUnit","linear","quad","cubic","exp","sine","HALFPI","circle","sqrt","yoyo","ease","out","inOut","b1","b2","b3","b4","b5","b6","b7","b8","b9","b0","bounce","bounceOut","tau","amplitude","period","asin","elastic","v","States","$ease","Adapters","_callbacks","enable","_disabled","disable","fold","Animation","loops","startingTime","_animation","_easing","_loops","_interpolate","_oldTime","playing","_playing","stopped","_stopped","pause","play","_startAnimation","percentage","_time","resolve","_reject","_checkEnded","_run","_reset","counter","Settings","_checkDirty","_userProperties","resetUserSettings","_animatingSettings","_stopAnimation","_set","_animatingPrivateSettings","_stopAnimationPrivate","_setPrivate","_settingEvents","_privateSettingEvents","getRaw","fallback","_sendKeyEvent","_sendPrivateKeyEvent","_setRaw","setRaw","removeAll","_privateSettings","_setPrivateRaw","_prevPrivateSettings","_animationTime","animatePrivate","_internalTemplates","_registerId","_template","_new","shouldApply","_dirtyPrivate","isType","_pushPropertyDisposer","_disposerProperties","_disposeProperty","_name","adapters","isUserSetting","_setSoft","_removeTemplateProperty","_userPrivateProperties","_removeTemplatePrivateProperty","_setTemplateProperty","_findTemplateByKey","_setTemplatePrivateProperty","_findTemplateByPrivateKey","_applyStateByKey","other","seen","_eachTemplate","_apply","_userSettings","_applyTemplate","_templateDisposers","privateSettings","_runSetup","setup","_templates","_disposeTemplates","_findTemplate","_removeTemplates","isConnected","defaults","tag","theme","allRules","every","result","prevId","entitiesById","removeDispose","hasTag","addTag","removeTag","translate","_killed","_iterating","_enabled","hasListeners","hasListenersByType","killed","enableType","disableType","amount","_removeListener","_removeExistingListener","_eachListener","removeType","_shouldDispatch","count","_type","off","TargetedEventDispatcher","prompt","translation","translateAny","setTranslationAny","localeTarget","setTranslationsAny","translations","translateEmpty","checkBounds","initial","_values","hasIndex","getIndex","_onPush","_onInsertIndex","_onSetIndex","_onRemoveIndex","_onMoveIndex","oldIndex","_onClear","swap","value_a","value_b","shift","newArray","Symbol","iterator","ListAutoDispose","autoDispose","ListTemplate","make","RADIANS","precision","rounded","getCubicControlPointA","tensionX","tensionY","getCubicControlPointB","tan","minY","maxY","bpoints","getArcPoint","fromAngle","toAngle","pt","mergeBounds","bound","fitAngleToRange","temp","maxEnd","maxStart","inBounds","getAngle","point1","point2","diffX","diffY","atan2","getPointOnQuadraticCurve","pointA","pointB","controlPoint","getPointOnLine","closest","referenceValue","reduce","prev","curr","boundsOverlap","bounds1","bounds2","pivotX","pivotY","origin","a1","c1","tx1","bns","sns","suffix","toLowerCase","NumberFormat","mod","decimals","active","thousandSeparator","decimalSeparator","mods","modSpacing","thousands","interval","prefix","applyPrefix","ol","parseFloat","toPrecision","toExponential","numberToString","ip","intsr","separator","decs","prefixes","force","newvalue","applied","k","number","escape","unescape","assign","hasKey","eachOrdered","ord","hasOwnProperty","softCopyProperties","leftLength","rightLength","compareNumber","isPercent","getTagValue","tagName","prop","dateFields","numericFields","durationFields","method","params","reg2","matches2","getTagValueFromObject","component","getCustomDataValue","customData","formatApplied","numberValue","dateValue","toDate","isDate","isNaN","durationValue","encodeURIComponent","formatParts","formatterType","Native","_observer","ResizeObserver","entries","entry","_targets","addTarget","observe","box","removeTarget","unobserve","Raf","_timer","lastTime","loop","newSize","cancelAnimationFrame","observer","makeSensor","_sensor","_element","_listener","sensor","State","_eachSetting","defaultState","stateAnimationDuration","stateAnimationEasing","_states","newState","TemplateState","_stateChanged","TemplateStates","TemplateAdapters","entities","_entities","cleanUp","quotedBlocks","noFormatting","chunks2","i2","chunk2","isImage","q","p","parseDate","formatToParts","toUTCDate","_utc","hour12","timeZone","fractionalSecondDigits","_dtf","offsetUTC","userOffset","setUTCMinutes","newUserOffset","dtf","getType","assert","condition","message","converted","exponent","zeros","ready","readyState","removeEventListener","cap","activeElement","PointerEvent","pointerType","composedPath","cursor","host","getShadowRoot","rootStylesheet","createStylesheet","nonce","textContent","head","getStylesheet","sheet","appendStylesheet","selector","cssRules","insertRule","StyleRule","_rule","CSSStyleRule","selectorText","deleteRule","_setVendorPrefixName","setProperty","StyleSheet","addClass","classList","classes","currentClassName","removeClass","iOS","full","decimalPlaces","trimLeft","trimRight","hints","plainText","addSpacing","str","charAt","oneDay","setUTCDate","firstDay","firstWeek","currentWeek","setUTCFullYear","long","savings","wotz","toLocaleString","wtz","timeZoneName","utcDate","tzDate","capitalizeFirst","hue2rgb","getLightnessStep","step","getBrightnessStep","isLight","saturation","hsl","light","dark","tags1","tags2","sameBounds","AccumulationDistribution","AccumulativeSwingIndex","Annotator","Aroon","AverageSeries","AwesomeOscillator","Axis","AxisBullet","AxisLabel","AxisLabelRadial","AxisRenderer","AxisRendererCircular","AxisRendererRadial","AxisRendererX","AxisRendererY","AxisTick","BaseColumnSeries","BollingerBands","BreadcrumbBar","Bullet","Button","CalloutSeries","Candlestick","CandlestickSeries","CategoryAxis","CategoryDateAxis","ChaikinMoneyFlow","ChaikinOscillator","Chart","ChartIndicator","Chord","ChordDirected","ChordLink","ChordLinkDirected","ChordNodes","ChordNonRibbon","Circle","CirclePattern","ClockHand","ColorControl","ColorSet","ColumnSeries","CommodityChannelIndex","ComparisonControl","Component","DateAxis","DateRangeSelector","DisparityIndex","DoodleSeries","DrawingControl","DrawingSeries","DrawingToolControl","Dropdown","DropdownColors","DropdownList","DropdownListControl","DurationAxis","Ellipse","EllipseSeries","Exporting","ExportingMenu","FibonacciSeries","FibonacciTimezoneSeries","Flow","FlowLink","FlowNode","FlowNodes","ForceDirected","FunnelSeries","FunnelSlice","GaplessDateAxis","Gradient","GraticuleSeries","Grid","HeatLegend","Hierarchy","HierarchyLink","HierarchyNode","HorizontalLineSeries","HorizontalRaySeries","IconControl","IconSeries","Indicator","IndicatorControl","IntervalControl","LabelSeries","Legend","Line","LinePattern","LineSeries","LinearGradient","LinkedHierarchy","LinkedHierarchyNode","MACD","MapChart","MapLine","MapLineSeries","MapPointSeries","MapPolygon","MapPolygonSeries","MapSeries","MedianPrice","Modal","MovingAverage","MovingAverageDeviation","MovingAverageEnvelope","OHLC","OHLCSeries","OnBalanceVolume","Pack","PanelControls","Partition","PathPattern","PercentChart","PercentSeries","PeriodSelector","PictorialStackedSeries","Picture","PieChart","PieSeries","PolylineSeries","PyramidSeries","QuadrantLineSeries","RadarChart","RadarColumnSeries","RadarCursor","RadarLineSeries","RadialGradient","RadialLabel","RadialText","RectanglePattern","RectangleSeries","RegressionSeries","RelativeStrengthIndex","ResetControl","RoundedRectangle","Sankey","SankeyLink","SankeyNodes","Scrollbar","SerialChart","Serializer","Series","SeriesTypeControl","SettingsControl","SettingsModal","SimpleLineSeries","Slice","SliceGrouper","SlicedChart","Slider","SmoothedRadarLineSeries","SmoothedXLineSeries","SmoothedXYLineSeries","SmoothedYLineSeries","SpriteResizer","StandardDeviation","Star","StepLineSeries","StochasticOscillator","StockChart","StockControl","StockLegend","StockPanel","StockToolbar","Sunburst","Tick","Tree","Treemap","TrendLineSeries","Triangle","Trix","TypicalPrice","VWAP","ValueAxis","Venn","VerticalLineSeries","Volume","WilliamsR","WordCloud","XYChart","XYChartScrollbar","XYCursor","XYSeries","ZigZag","ZoomControl","lookupRef","refs","sub","parseRef","ref","isValue","mergeEntity","adapter","properties","constructEntity","construct","ParserState","afterParse","_delayed","getClass","_cache","storeClass","cacheClass","_caching","parseAsyncArray","parseAsync","parseAsyncObject","parseAsyncRefs","__parse","parseArray","parseChildren","parseChild","parseSetting","gridLayout","parseSettings","parseProperties","parseValue","run","parseRefsObject","newRefs","parseRefs","parseEntity","JsonParser","parseString","JSON","AnimatedTheme","interpolationDuration","DarkTheme","primaryButton","primaryButtonHover","primaryButtonDown","primaryButtonActive","primaryButtonText","primaryButtonStroke","secondaryButton","secondaryButtonHover","secondaryButtonDown","secondaryButtonActive","secondaryButtonText","secondaryButtonStroke","grid","alternativeBackground","alternativeText","disabled","setColor","ic","bind","passOptions","hue","lightness","colors","reuse","startIndex","interpolationEasing","gap","colorOpacity","checkered","fillField","strokeField","nameField","clickTarget","focusable","cornerRadiusBL","cornerRadiusTL","cornerRadiusBR","cornerRadiusTR","populateText","stepCount","baseRadius","pointerBaseWidth","cornerRadius","shiftRadius","dRadius","dInnerRadius","locationX","locationY","getFillFromSprite","getStrokeFromSprite","autoTextColor","spikes","innerRadius","rotationStep","_dateOrd","_slicedToArray","sliceIterator","arr","_arr","_n","_d","_e","_i","_s","TypeError","TAU","mapToEllipse","_ref","cosphi","sinphi","centerx","centery","xp","yp","approxUnitArc","ang1","ang2","vectorAngle","ux","uy","vx","vy","sign","dot","acos","getArcCenter","pxp","pyp","rxsq","rysq","pxpsq","pypsq","radicant","centerxp","centeryp","vx1","vy1","vx2","vy2","_ref2","_ref2$xAxisRotation","_ref2$largeArcFlag","_ref2$sweepFlag","curves","lambda","_getArcCenter","_getArcCenter2","segments","curve","_mapToEllipse","_mapToEllipse2","_mapToEllipse3","ElementRef","inject","ContentPluginManager","am5","am5themes_Animated","am5themes_Dark","am5plugins_json","sampleJsonXYChart","xAxis","maxDeviation","baseInterval","pan","yAxis","panX","panY","wheelX","wheelY","behavior","lineY","scrollbarX","xAxes","yAxes","series","valueYField","valueXField","JsonChartRenderComponent","cpm","hostEl","ngOnInit","nativeElement","parser","chart","_2","selectors","decls","vars","JsonChartRenderComponent_Template","rf","ctx"],"sourceRoot":"webpack:///","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54]}